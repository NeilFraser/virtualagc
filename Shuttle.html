<!DOCTYPE doctype PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
  <head>
    <title>Virtual AGC Document Library Page</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="Author" content="Ronald Burkey">
    <link rel="icon" type="image/png" href="favicon.png">
    <meta name="author" content="Ronald S. Burkey">
    <script type="text/javascript" src="Header.js"></script>
  </head>
  <body style="background-image: url(gray3.jpg);">
    <script type="text/javascript">
document.write(headerTemplate.replace("@TITLE@","Virtual AGC Project").replace("@SUBTITLE@","Space Shuttle Flight Software"))
</script><br>
    <div align="center"><i>(This page is preliminary and almost-entirely
        speculative at this point, since we don't yet have the unique
        materials which it hopes to provide.)</i><br>
    </div>
    <h1>Table of Contents </h1>
    <ul>
      <li> <a moz-do-not-send="true" href="#Introduction">Introduction</a></li>
      <li><a moz-do-not-send="true" href="#References">References</a></li>
      <li><a moz-do-not-send="true" href="#PASS">PASS and BFS Source
          Code</a></li>
      <li><a moz-do-not-send="true" href="#Versioning">Software
          Versioning</a></li>
      <li><a moz-do-not-send="true" href="#Display">Multi-Function
          Display Formatting and Versioning</a></li>
      <li><a moz-do-not-send="true" href="#Messaging">GPC - DEU/IDP
          Messaging</a><br>
      </li>
      <li><a moz-do-not-send="true" href="#Emulation">Compilation and
          Emulation</a></li>
    </ul>
    <h1><a name="Introduction"></a>Introduction</h1>
    <p>Insofar as the Space Shuttle is concerned, the Virtual AGC
      Project's present goals — or if you'd prefer, my goals — at
      present are the following:<br>
    </p>
    <ul>
      <li>To provide the complete source code for the software for the
        most-significant of its onboard computer systems.</li>
      <li>To provide all of the official documentation needed to
        understand that software and to work with it.&nbsp; See the <a
          moz-do-not-send="true" href="#References">References</a>.<br>
      </li>
      <li>To provide development tools suitable for working with the
        source code, and in particular for compiling/assembling it into
        executable form.</li>
      <li>To provide an emulator suitable for running that executable
        code.</li>
      <li>For the emulator to be integrated into space-flight simulation
        systems such as Orbiter+SSU or FlightGear.</li>
    </ul>
    <p>In particular, we don't pretend to be putting together an
      "everything about the Space Shuttle" site.<br>
    </p>
    <p>Now, there are various nuances to the statements above, such as
      whether access to source code must be restricted in some ways,
      rather than being freely available.&nbsp; And by "the" source
      code, do I mean <i>all</i> revisions?&nbsp; Do I mean for <i>all</i>
      components of the system?&nbsp; And by "the" development tools, do
      I mean the original ones, or do I mean partial work-alikes?&nbsp;
      And by emulation, do I mean emulation of the entire stack of code,
      or just for some restricted portion of it?&nbsp; Answers to those
      questions will become clear in the sections below ... or at least,
      clearer than they are now.&nbsp; And I don't pretend to know all
      of the answers yet.&nbsp; But there aren't necessarily unique,
      permanently-correct answers.&nbsp; One thing I can say
      unequivocally is that integration into space-flight simulation
      systems is my <i>hope</i> rather than anything that I'll actively
      pursue; integration is the prerogative of the developers of those
      space-flight simulators, rather than mine, if they feel it's
      worthwhile for them.<br>
    </p>
    <p>My explanation of the Shuttle's computer system here will by
      necessity be rather limited.&nbsp; The system is simply too
      complex, and there are too many resources already available on the
      web for me to suppose that a presentation by a johnny-come-lately
      like me would be worthwhile or even interesting about a topic this
      big.&nbsp; Perhaps the best place to get an introduction would be
      <a moz-do-not-send="true"
href="https://www.ibiblio.org/apollo/Shuttle/Computers%20in%20Spaceflight%20-%20Chapter%204.pdf">Chapter









        4, "Computers in the Space Shuttle Avionics System", of James
        Tomayko's <i>Computers in Spaceflight: The NASA Experience</i></a>.<br>
    </p>
    <p>With that said, here's a brief synopsis.<br>
    </p>
    <p>The portion of the Shuttle's full avionics system which concerns
      us is the <i>Data Process System (DPS)</i>, which includes the <i>General









        Purpose Computers (GPC)</i>, the crew interface
      (cathode-ray-tube monitors and keyboards), the mass-memory units,
      and the data-bus network interconnecting all of them.&nbsp; Here
      is Figure 4-2, swiped from the afore-mentioned <i>Computers in
        Spaceflight</i>, showing most of those components:<br>
    </p>
    <div align="center"><img moz-do-not-send="true"
        src="DPS%20block%20diagram.png" alt="" width="805" height="445"><br>
      <div align="left"><br>
        As you can see, there were five separate GPCs.&nbsp; Each of the
        GPCs was an AP-101S computer, designed and manufactured by IBM's
        Federal Services Division (as were the Apollo LVDC or Gemini
        OBC, though the GPC was not similar to them).<br>
        <br>
        Four of the GPCs nominally redundantly ran <i>identical</i>
        software, known as the <i>Primary Flight Software (PFS)</i>
        atop the <i>Flight Control Operating System (FCOS)</i>.&nbsp;
        PFS and FCOS together are collectively referred to as the <i>Primary




          Avionics Software Subsystem (PASS)</i>.&nbsp; The behaviors of
        these four copies of FCOS were synchronized ... not on a
        CPU-cycle by CPU-cycle basis, but to the extent that inputs to
        the GPCs from the spacecraft, as well as commands output from
        the GPCs to the spacecraft, occurred at the same time.&nbsp; In
        particular, the fact that outputs from the GPCs were
        synchronized allowed detection if one of the GPCs was behaving
        abnormally.&nbsp; I say they did this "nominally", because this
        extreme level of redundancy was warranted only during critical
        flight phases ... in particular, during ascent and
        reentry.&nbsp; During the more-leisurely phases of the mission,
        if additional computing power was needded, the four principal
        GPCs did not necessarily need to run identical, redundant
        software.<br>
        <br>
        The fifth GPC instead ran the <i>Backup Flight Software (BFS)</i>,
        created entirely separately from PASS in a clean-room
        fashion.&nbsp; This fifth GPC served roughly the same purpose in
        the Shuttle as the Abort Guidance System (AGS) in the Apollo
        LM.&nbsp; BFS was specialized for abort functionality, i.e.,
        reentry in the absence of a reliable set of GPCs running
        PASS.&nbsp; And as I said above, this capability was really
        needed only during ascent or reentry.<br>
        <br>
        Besides these, there was a <i>Run Time Library (RTL)</i> that
        provided various common functions needed by PASS/BFS, such as
        square roots, trigonometric functions, and so forth.<br>
        <br>
        The data buses interconnecting the GPCs and peripheral devices
        were MIL-STD-1553 buses.<br>
        <br>
        The crew-interface devices included:<br>
        <ul>
          <li>26 line by 51 character displays, capable also of
            displaying some graphics.&nbsp; Prior to about the year
            2000, the pilots had 3 of these displays and the crew
            specialist had 1; they were monochrome (green text on black
            background) cathode-ray tubes (CRTs).&nbsp; After 2000, the
            CRTs were replaced by multi-color liquid crystal displays
            (LCDs), 9 for the pilots and 2 elsewhere.&nbsp;
            Collectively, the CRTs and LCDs were referred to as
            Multifunction Display Units (MDUs).&nbsp; <br>
          </li>
          <li>Keyboards from Ebonex.&nbsp; The pilots had 2 of these,
            and the mission specialist station had a 3rd.</li>
        </ul>
        <p>In the diagrams below, the pre-2000 configuration is shown on
          the left, while the post-2000 configuration is shown on the
          right.&nbsp; Notice that the LCD-based displays (on the right)
          have 6 buttons along the bottom edge that the CRTs (on the
          left) lack, as well as being taller relative to their
          width.&nbsp; The LCDs continued to display 51×26 textual
          characters, just as the CRTs had, but the text was scrunched
          into the upper part of the screen, while a strip along the
          bottom of the LCD could display additional stuff that the CRTs
          hadn't been able to, such as menu options selectable by the
          edge buttons.&nbsp; These differences were transparent to the
          PASS/BFS flight software, because the additional stuff
          displayed along the bottom was not controlled by the PASS/BFS
          software.&nbsp; In contrast, keyboards were the same
          throughout the duration of the Shuttle program.<br>
        </p>
        <div align="center">
          <table width="100%" cellspacing="2" cellpadding="2"
            height="739">
            <tbody>
              <tr>
                <td valign="top" align="center">
                  <div><img moz-do-not-send="true"
                      src="ShuttleCRThorizSitPhoto.jpg" alt=""
                      width="429" height="364"><img
                      moz-do-not-send="true"
                      src="DPS%20keyboard%20and%20CRT.png" alt=""
                      width="952" height="730"><br>
                  </div>
                  <br>
                  <div><i>Older configuration:&nbsp; 4 CRT displays<br>
                      (Multifunction CRT Display System, or MCDS)<br>
                    </i> </div>
                </td>
                <td valign="top" align="center"><img
                    moz-do-not-send="true"
                    src="ShuttleLCDhorizSitPhoto.jpg" alt="" width="377"
                    height="363"><br>
                  <img moz-do-not-send="true" src="ShuttleMFD.png"
                    alt="" width="485" height="421"><br>
                  <br>
                  <img moz-do-not-send="true"
                    src="ShuttleForwardCockpitDisplays.png" alt=""
                    width="886" height="290"><br>
                  <br>
                  <i>Newer configuration:&nbsp; 11 LCD displays<br>
                    (Multifunction Electronic Display Subsystem, or
                    MEDS)<br>
                  </i> </td>
              </tr>
            </tbody>
          </table>
          <br>
          <br>
        </div>
      </div>
      <div align="left">Here's a more-inclusive diagram (click to
        enlarge) of the entire <i>older</i> configuration of the
        avionics system, if you feel the need for one.&nbsp; Personally,
        I'm just including it because it's colorful, and you'll need to
        dig into the actual documentation if you want real detail.&nbsp;
        By the way, you can tell it's the older configuration rather
        than the newer one, because if you look in the upper-left area,
        you'll see "CRT 1", "CRT 2", "CRT 3", and (somewhat below the
        others) "CRT 4", rather than the 11 MFDs you'd see in the newer
        configuration:<br>
        <br>
        <div align="center"><a href="shuttle_avionics_sm.jpg"><img
              moz-do-not-send="true" src="shuttle_avionics_sm-small.jpg"
              alt="" title="Click to enlarge" width="1200" height="333"
              border="2"></a><br>
        </div>
        <br>
        <br>
        Like the AGC, AGS, and LVDC, which are programmed essentially in
        the assembly language native to their CPU types, the Flight
        Control Operating System (FCOS) and the Run Time Library (RTL)
        are written in the assembly language of the AP-101S CPU.&nbsp;
        But once you get past those infrastructural items, you have the
        Primary Flight Software (PFS), and the PFS is written in a
        higher-level language called HAL/S.&nbsp; <a
          moz-do-not-send="true"
          href="Shuttle/DPS%20Overview%20Workbook.pdf#page=22">The DPS
          Overview Workbook</a> explains the overall structure of the
        software better than I can:&nbsp; <br>
        <blockquote>"PASS software consists of two types of software:
          system software and application software. System software runs
          the GPC. It is responsible for tasks such as GPC–to–GPC
          communication, loading software from MMUs, and timekeeping
          activities. Application software is software that runs the
          orbiter. This includes software that calculates orbiter
          trajectories and maneuvers, monitors various orbiter systems
          (such as power, communications, and life support), and
          supports mission–specific payload operations. The application
          software is divided into broad functional areas called major
          functions; in turn, each major function consists of
          Operational Sequences (OPS), which are loaded into the GPCs
          for each major phase of flight.<br>
          <br>
          "Finally, each OPS has one or more Major Modes (MMs) that
          address individual events or subphases of the flight."<br>
          <br>
        </blockquote>
        <div align="center"><img moz-do-not-send="true"
            src="Shuttle%20flight%20computer%20software.png" alt=""
            width="626" height="538"><br>
        </div>
      </div>
    </div>
    <ul>
    </ul>
    <h1><a name="References"></a>References</h1>
    <p>All documents I can find that I feel are relevant to discussion
      of the Space Shuttle's onboard computer systems and their software
      have been collected on <a moz-do-not-send="true"
        href="links-shuttle.html">our Space Shuttle Library page</a>.&nbsp;









      However, here are some websites that have additional documents
      that you may find interesting, and which may still contain
      relevant materials that I've overlooked:<br>
    </p>
    <ul>
      <li><a moz-do-not-send="true"
href="https://www.nasa.gov/centers/johnson/news/flightdatafiles/foia_archive.html">Johnson









          Space Center's FOIA archive of flight data files</a>.</li>
      <li><a moz-do-not-send="true"
          href="https://sourceforge.net/projects/shuttleultra/files/References/">The









          Space Shuttle Ultra site, particularly its reference section</a>.&nbsp;









        Space Shuttle Ultra (SSU) is an add-on for the Orbiter
        spaceflight simulation system.</li>
      <li><a moz-do-not-send="true"
          href="https://wiki.flightgear.org/Space_Shuttle_Avionics">The
          FlightGear wiki entry on Space Shuttle avionics</a>.&nbsp;
        FlightGear is a flight simulation system.</li>
      <li><a moz-do-not-send="true"
          href="https://gandalfddi.z19.web.core.windows.net/shuttle.html">Ken









          Hollis's Space Shuttle page</a>.</li>
      <li><a moz-do-not-send="true" href="https://ntrs.nasa.gov/">The
          NASA Technical Reports Server (NTRS)</a>.</li>
    </ul>
    <h1><a name="PASS"></a>PASS and BFS Source Code</h1>
    <p>I have become aware that multiple collectors have copies of what
      I think may be the complete final revision of PASS and possibly
      BFS, as well as others who may possess incomplete non-final
      revisions.&nbsp; This is remarkable in contrast to my frustrations
      in acquiring AGC/AGS/LVDC/OBS software as described elsewhere on
      this site, particularly since a former developer of Shuttle
      software has told me that: <br>
    </p>
    <blockquote>
      <p>"When NASA shut down the Space Shuttle project, they erased all
        of the backup storage media — since there WAS NO REQUIREMENT for
        saving source code!&nbsp; Most of the HAL/S compiler and related
        tools (like ... other support software were not saved), but all
        of the HAL/S-based flight code was preserved."</p>
    </blockquote>
    <p>I will keep the editorial comments I'm tempted to make to
      myself.&nbsp; As an aside, I'll also comment that fortunately the
      source code of the original HAL/S compiler was saved after all,
      but by individuals rather than by any of the organizational actors
      involve.<br>
    </p>
    <p>So ... the software still exists, which is good.&nbsp; But we
      don't have any as of yet, and whether or not we can get any of it
      remains to be seen.<br>
    </p>
    <p>But assuming that we can eventually get access to it, working
      with the code requires knowledge of the HAL/S language.&nbsp;
      Fortunately, we have a fair amount of documentation of that:<br>
    </p>
    <ol>
      <li>The recommended starting point is "<a moz-do-not-send="true"
          href="Shuttle/Programming%20in%20HAL_S%20Sept%201978.pdf">Programming







          in HAL/S</a>", which was intended as an introduction to
        programming in HAL/S and is organized as a tutorial.</li>
      <li>The tutorial itself points out that it is not a definitive
        exposition of the language, and recommends proceeding afterward
        to the <a moz-do-not-send="true"
          href="Shuttle/HAL_S%20Language%20Specification%20Nov%202005.pdf">"HAL/S







          Language Specification"</a>, which contains a much-more-formal
        specification of the language syntax ... fortunately in the form
        of easy-to-understand graphs of the syntax, rather than the (in
        my humble opinion) a less-comprehensible Backus-Naur format
        (BNF).</li>
      <li>Or to the <a moz-do-not-send="true"
          href="Shuttle/HAL_S%20Programmers%20Guide%20Nov%202005.pdf">"HAL/S







          Programmer's Guide"</a>.</li>
      <li>And then there's the <a moz-do-not-send="true"
          href="Shuttle/HAL_S-FC%20User's%20Manual%20Nov%202005.pdf">"HAL/S-FC







          User's Guide"</a> explains how to compile and execute a HAL/S
        program.&nbsp; That explanation is, of course, completely
        irrelevant to our present situation, but you may find that the
        document answers some questions left unanswered by the preceding
        documents.&nbsp; (You many notice as well that our library
        contains a "HAL/S-360 User's Guide"; that's simply a predecessor
        of the "HAL/S-FC User's Guide".&nbsp; The former assumes that
        the computer on which the compiler ran was an IBM-360, while the
        latter assumed it was some arbitrary "mainframe" to which the
        compiler had been ported.)<br>
      </li>
    </ol>
    <p>We actually have quite a few revisions of each of the middle two
      documents in our library, spanning the mid-1970's to the
      mid-2000's, though I've only chosen to link the latest versions of
      those documents above.&nbsp; Here are a few takeaways about the
      HAL/S language that I imagine would commonly be asked by newcomers
      to it:<br>
    </p>
    <ul>
      <li>HAL/S is concerned with insuring correctness by design, in the
        service of which it employs concepts from structured
        programming. <br>
      </li>
      <li>HAL/S is a strongly-typed language, but those datatypes
        include not just integers and floats (whose datatype is actually
        "scalar"), but others such vectors, matrices, and arrays (which
        is a distinct datatype from vectors and matrices).</li>
      <li>By default, the vector datatype consists of 3-vectors, while
        the matrix datatype consists of 3×3 matrices.&nbsp; Indices
        (subscripts) of vectors and matrices begin at 1 rather than 0.<br>
      </li>
      <li>Arithmetical expressions such as A=B+C work not only with
        float (scalar) and integer datatypes but with vectors and
        matrices as well, wherever compatible.</li>
      <li>There is no dynamic allocation of memory.&nbsp; Intended
        side-effects of that are that there is no stack and no
        recursion.&nbsp; The total memory usage is known at build-time.</li>
      <li>All keywords are reserved.</li>
      <li>HAL/S has no means of directly accessing specific addresses in
        memory.</li>
      <li>HAL/S statements:</li>
      <ul>
        <li>End with the semicolon (';') character.</li>
        <li>Several may appear on the same line of source.</li>
        <li>Statements may be broken across several lines of source.</li>
        <li>An end-of-line is equivalent to a space character.<br>
        </li>
      </ul>
      <li>Identifiers such as variable names:</li>
      <ul>
        <li>Maximum length of 32 characters.&nbsp; <br>
        </li>
        <li>Must begin with an alphabetic character.&nbsp; <br>
        </li>
        <li>Can contain alphanumerics and underscore characters,
          '_'.&nbsp; <b>Note:</b>&nbsp; Both upper and lower case are
          allowed, though all code samples I've seen to date involve
          only upper case.<br>
        </li>
        <li>Cannot end with an underscore.</li>
        <li>Cannot be broken across lines.</li>
        <li>HAL/S keywords cannot be used as identifiers.</li>
      </ul>
      <li>Two identifiers (variables or constants) separated by spaces
        are multiplied ... in fact, there is no explicit multiplication
        operator symbol such as '*'.&nbsp; ('*' is actually the vector
        cross-product operator.)<br>
      </li>
      <li>Constant expressions such as "3 + 1/7" are evaluated at
        compile-time rather than at runtime, to the extent possible.<br>
      </li>
    </ul>
    <p>TBD<br>
    </p>
    <h1><a name="Versioning"></a>Software Versioning</h1>
    <p>As I've described above, any given shuttle had a number of
      computers, running a lot of different software components — more
      than just the GPCs running PASS/BFS/FCOS/RTL we're discussing
      here.&nbsp; Each of these software components had their own unique
      versioning.&nbsp; I couldn't begin to tell you what those all are;
      I don't even have a list of all the different computers or their
      software components, let alone details about their versions. <br>
    </p>
    <p>However, in all but the very earliest missions, the <i>collection</i>
      of all of the software components at their various revision levels
      was itself identified by what's called the <i>Operational
        Increment (OI)</i>.&nbsp; You thus see various Shuttle documents
      specifying "OI-24" or "OI-33", and what this means is that those
      documents are specialized to those particular overall software
      versions.&nbsp; The versioning of individual software components
      of the overall software version was apparently by <i>Version
        Increments (VI)</i>, such as "VI 1.23".<br>
    </p>
    <p>At this point, I have no authoritative references which link
      software versions to specific Shuttle missions.&nbsp; For what
      information I do have, I'd refer you to the mission summaries, <a
        moz-do-not-send="true"
        href="Shuttle/SpaceShuttleMissionsSummaryVol1.pdf">Volume 1</a>
      and <a moz-do-not-send="true"
        href="Shuttle/SpaceShuttleMissionsSummaryVol2.pdf">Volume 2</a>.&nbsp;




      (Some data past the end of Volume 2 can be gotten from NASA Press
      Kits for STS-132 through 135.)&nbsp; In the following tabulation,
      sorted by software version, notice that a higher STS mission
      number sometimes has a lower software version number, presumably
      partially because the mission numbering doesn't perfectly agree
      with the chronological order in which the missions were flown.<br>
    </p>
    <table cellspacing="2" cellpadding="2" border="1" align="center">
      <tbody>
        <tr>
          <th valign="middle" align="center">Mission<br>
          </th>
          <th valign="middle" align="center">Software Version<br>
          </th>
        </tr>
        <tr>
          <td valign="top" align="center">STS-1 <br>
          </td>
          <td valign="top" align="center">R16/T9<br>
          </td>
        </tr>
        <tr>
          <td valign="top" align="center">STS-2, 3, 4<br>
          </td>
          <td valign="top" align="center">R18/T11<br>
          </td>
        </tr>
        <tr>
          <td valign="top" align="center">STS-5, 6, 7, 8<br>
          </td>
          <td valign="top" align="center">R19/T12<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-9 (41A), 11 (41B), 13
            (41C)<br>
          </td>
          <td valign="middle" align="center">OI-2<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-14 (41DR), 17 (41G), 19
            (51A), 20 (51C), 24 (51B)<br>
          </td>
          <td valign="middle" align="center">OI-4<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-22 (51E), 23 (51D)<br>
          </td>
          <td valign="middle" align="center">OI-5<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-26 (51F)<br>
          </td>
          <td valign="middle" align="center">OI5-24<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-25 (51G)<br>
          </td>
          <td valign="middle" align="center">OI-6<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-27 (51I)<br>
          </td>
          <td valign="middle" align="center">OI6-27<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-28 (51J)<br>
          </td>
          <td valign="middle" align="center">OI6-28<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-30 (61A)<br>
          </td>
          <td valign="middle" align="center">OI6-29<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-31 (61B)<br>
          </td>
          <td valign="middle" align="center">OI6-30<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-33 (51L)<br>
          </td>
          <td valign="middle" align="center">OI17-26<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-32 (61C)<br>
          </td>
          <td valign="middle" align="center">OI17-32<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-26 (26R), 27 (27R), 28
            (28R), 29 (29R), 30 (30R), 33 (33R)<br>
          </td>
          <td valign="middle" align="center">OI-8B<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-31 (31R), 32 (32R), 34
            (34R), 36 (36R)<br>
          </td>
          <td valign="middle" align="center">OI-8C<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-35 (61E), 38, 40, 41<br>
          </td>
          <td valign="middle" align="center">OI-8D<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-37, 39<br>
          </td>
          <td valign="middle" align="center">OI-8F<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-42, 43, 44, 45, 48<br>
          </td>
          <td valign="middle" align="center">OI-20<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-46, 47, 49, 50, 52, 53,
            54, 55, 56<br>
          </td>
          <td valign="middle" align="center">OI-21<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-51, 57, 58, 59, 60, 61,
            62, 68<br>
          </td>
          <td valign="middle" align="center">OI-22<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-63, 64, 65, 66, 67<br>
          </td>
          <td valign="middle" align="center">OI-23<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-69, 70, 71, 72, 73, 74,
            75, 76, 77, 78<br>
          </td>
          <td valign="middle" align="center">OI-24<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-79, 80, 81, 82, 83, 84,
            94<br>
          </td>
          <td valign="middle" align="center">OI-25<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-85, 86, 87, 89<br>
          </td>
          <td valign="middle" align="center">OI-26A<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-88, 90, 91, 93, 95, 103<br>
          </td>
          <td valign="middle" align="center">OI-26B<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-92, 96, 97, 99, 101,
            106<br>
          </td>
          <td valign="middle" align="center">OI-27<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-98, 100, 102, 104, 105,
            108, 109<br>
          </td>
          <td valign="middle" align="center">OI-28<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-107, 110, 111, 112, 113<br>
          </td>
          <td valign="middle" align="center">OI-29<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-114, 115, 116, 117,
            118, 121<br>
          </td>
          <td valign="middle" align="center">OI-30<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-120, 122, 123, 124, 125<br>
          </td>
          <td valign="middle" align="center">OI-32<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-119, 126, 127<br>
          </td>
          <td valign="middle" align="center">OI-33<br>
          </td>
        </tr>
        <tr>
          <td valign="middle" align="center">STS-128, 129, 130, 131,
            132, 133, 134, 135<br>
          </td>
          <td valign="middle" align="center">OI-34<br>
          </td>
        </tr>
      </tbody>
    </table>
    <p>For example, the presentation for <a moz-do-not-send="true"
        href="Shuttle/STS-121%20FRR%20SE&amp;I.pdf#page=22">the STS-121
        Flight Readiness Review (FRR)</a> tells us that the software
      version was OI-30, in agreement with the table above, while just
      the Integrated Display Processor (IDP) software component was
      version VI 4.01 and the Multifunction Display Unit Function (MDUF)
      was version VI 5.00.<br>
    </p>
    <h1><a name="Display"></a>Multi-Function Display Formatting and
      Versioning</h1>
    <p>As was mentioned earlier in the <a moz-do-not-send="true"
        href="#Introduction">Introduction</a>, the principal method by
      which the General Purpose Computers (GPC) running the primary
      flight software (PFS/PASS) and backup flight software (BFS)
      interact with the crew includes keyboards and display
      screens.&nbsp; What's unusual about these display screens is that
      what appears on them is only <i>partially</i> controlled by the
      PASS/BFS software.&nbsp; Instead, there was another processor
      sitting between each of the displays and the GPCs, and it was this
      extra processor that directly controlled what was displayed and
      how the display was formatted.&nbsp; (For that matter, the
      keyboards also were attached to one of these extra processors
      rather than to the GPCs, so whatever keystrokes were seen by the
      PASS/BFS software had already been pre-digested.)<br>
    </p>
    <p><img moz-do-not-send="true" src="MCDS.png" alt="" width="455"
        height="278" align="right">In the case of the older, pre-2000
      cockpit configuration (MCDS, 4 CRTs), this extra processor was
      known as the <i>Display Electronics Unit (DEU)</i>, and it
      consisted of an IBM SP-0 CPU with 8K×16 bits of RAM.&nbsp; In the
      case of the newer, post-2000 cockpit configuration (MEDS, 11
      LCDs), the extra processor was known as the Integrated Display
      Processor (IDP), a 368DX microprocessor.&nbsp; The basic schema is
      seen in the diagram to the right.&nbsp; While the diagram is
      specific to the older (MCDS) configuration, the newer (MEDS)
      configuration is conceptually quite similar.<br>
    </p>
    <p>In the case of the MEDS configuration, the software that was
      specifically tasked with formatting the display was called the <i>Display

        Application Software (DAS)</i>.&nbsp; But these details are of
      little interest to us in the absence of the DAS or other software
      that ran on the DEU/IDPs.&nbsp; So the only use of these factoids
      I'll use in the context of the present discussion is to refer to
      what I've been calling the "extra processor" so far instead as the
      "DEU/IDP".<br>
    </p>
    <p>What <i>is</i> of importance to us, however, is that in addition
      to inputs from the GPCs via the MIL-STD-1553 databuses, the
      DEU/IDP's RAM was used to store a set of templates that controlled
      the formatting of the display screen.&nbsp; These templates were
      loaded from mass memory into RAM at power-up.&nbsp; In other
      words, the screen templates are independent of the PASS/BFS source
      code.<br>
    </p>
    For illustrative purposes, here's an example of the screen template
    for "GNC SYS SUMM 1":<br>
    <br>
    <div align="center"><img moz-do-not-send="true"
        src="GNC-SYS-SUMM-1-OP-26.png" alt="" width="534" height="385"></div>
    <p>The screen templates don't quite fall under the Operational
      Increment (OI) top-level software-versioning scheme we've already
      discussed.&nbsp; They do, but they are also controlled by <i>Program


        Change Notices (PCN)</i>.&nbsp; In a practical sense, what this
      means is that to know the screen templates and consequent
      display-screen formats for any given Shuttle mission, we must have
      not merely the screen templates for that generic OI, but also the
      differences to those templates that were made due to specific
      PCNs.&nbsp; <br>
    </p>
    <p>The controlling document for the screen templates is
      unclear.&nbsp; The most-accessible seems to be JSC-48017,&nbsp;
      the "Data Processing System Dictionary".&nbsp; <a
        moz-do-not-send="true" href="links-shuttle.html#DPS">We have
        several revisions of JSC-48017 in our Shuttle Library</a>, and
      in principle, if we could collect <i>all</i> of the different
      revisions, then we'd have all of the screen templates.&nbsp; On
      the other hand, <i>the <a moz-do-not-send="true"
          href="links-shuttle.html#DPS">Functional Subsystem Software
          Requirements (FSSR)</a></i> also contain these templates, and
      seem a lot more authoritative, as well as providing a lot more
      information. As a practical matter, they're also a lot harder to
      find than DPS Dictionaries are.&nbsp; There are also
      reference-card-like summaries that are very helpful, such as <a
        moz-do-not-send="true"
        href="Shuttle/Orbiter%20Displays%20Reference%20Guide%20OI-34.pdf">this


        one for OI-34</a>.<br>
    </p>
    <p>https://www.ibiblio.org/apollo/Shuttle/sts83-0020v1-34%20-%20Displays%20and%20Controls%20-%20GNC.pdf<br>
    </p>
    <p>That turns out to be even more problematic than it sounds.&nbsp;
      Take the sample template for GNC SYS SUMM 1 seen above.&nbsp; I
      got this from <a moz-do-not-send="true"
        href="Shuttle/Space%20Shuttle%20DPS%20Dictionary%20OI-26.pdf">the


        DPS Dictionary for OI-26 and subsequent as modified by PCN-4</a>.&nbsp;


      The document itself notes that with PCN-4 it's applicable to
      STS-96 and subsequent ... which actually flew OI-27.&nbsp; So to
      find the templates for OI-26, we'd actually need the DPS
      Dictionary <i>without</i> PCN-4, and that's something that as of
      this writing we don't actually have.<br>
    </p>
    <h1><a name="Messaging"></a>GPC - DEU/IDP Messaging</h1>
    <p>Keyboard data was supplied to the General Purpose Computers
      (GPC), and hence to the PASS/BFS software, by means of messages on
      the MIL-STD-1553 databuses interconnecting the GPCs and
      DEU/IDPs.&nbsp; Similarly, data was output by the GPCs for display
      by passing messages on the databuses as well.&nbsp; Technical
      details about this messaging can be found in the <a
        moz-do-not-send="true"
href="Shuttle/JSC-18820%20-%20Rev%20B%20-%20Data%20Processing%20System%20Brief%2019970615.pdf#page=169">Data
        Processing System Brief</a>.&nbsp; I won't bother to summarize
      that information here, since the document's presentation is at
      least as readable as anything I might write up to supplement
      it.&nbsp; While our only available revision of this document so
      far is for the MCDS, recall that the change from the MCDS to MEDS
      cockpit configurations was done in a way that was transparent to
      the existing software.&nbsp; That implies, I hope, that the
      messaging format would have been the same in either configuration.<br>
    </p>
    <h1><a name="Emulation"></a>Compilation and Emulation</h1>
    When a "modern" HAL/S compiler and a means of emulating the compiled
    PASS/BFS executable code exists, I'll report on it in this section.<br>
    <br>
    Until then, I'll merely point out that <a moz-do-not-send="true"
href="https://github.com/virtualagc/virtualagc/blob/master/yaShuttle/README.md">the






      development roadmap and reports on progress along that roadmap
      appear in the associated README</a> file in our software
    repository.<br>
    <br>
    <hr style="width: 100%; height: 2px;">
    <center><br>
      <span style="color: rgb(84, 89, 93); font-family: sans-serif;
        font-size: 11.05px; font-style: normal; font-variant: normal;
        font-weight: normal; letter-spacing: normal; line-height:
        16.575px; orphans: auto; text-align: center; text-indent: 0px;
        text-transform: none; white-space: normal; widows: 1;
        word-spacing: 0px; -webkit-text-stroke-width: 0px; display:
        inline !important; float: none; background-color: rgb(255, 255,
        255);"> This page is available under the <a
          href="https://creativecommons.org/publicdomain/zero/1.0/">
          Creative Commons No Rights Reserved License</a> </span><br>
      <i><font size="-1">Last modified by <a
            href="mailto:info@sandroid.org">Ronald Burkey</a> on
          2022-11-26<br>
          <br>
          <a href="https://www.ibiblio.org"> <img style="border: 0px
              solid ; width: 300px; height: 100px;" alt="Virtual AGC is
              hosted by ibiblio.org" src="hosted.png" width="300"
              height="100"></a><br>
        </font></i></center>
    <br>
  </body>
</html>
