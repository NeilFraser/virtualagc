<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source-code files were transcribed from scans made from Don Eyles's personal
copy of BURST120 (SUNBURST 120).  They were scanned at archive.org's Boston 
facility, and the scanning was sponsored by Mike Stewart.  The code was transcribed
from these scans by a team of volunteers who are referenced in the program 
comments.  Comments from the original source code are in ALL-CAPS, whereas 
comments added later in transcription are in Mixed-Case.  In some cases, where
similar code blocks exist in previously-transcribed AGC programs (primarily
Luminary 99, from Apollo 11) those code blocks were used as a starting point and
then corrected to agree with the BURST120 scans.  The full scans are available
at <a href="http://www.archive.org/details/virtualagcproject/">the Virtual AGC
project's collection at archive.org</a>, while more-convenient reduced-size (but reduced-quality)
images are available at <a href="http://www.ibiblio.org/apollo/ScansForConversion/Sunburst120/">
the main Virtual AGC website</a>.  Report any errors noted by creating an 
issue report at <a href="https://github.com/rburkey2005/virtualagc/issues">the Virtual AGC
project's GitHub repository</a>. Notations on the program listing read, in part:<br>
<br>
<pre>
	YUL SYSTEM FOR AGC: REVISION 0 OF PROGRAM BURST120 
	BY NASA 2021106-031 DEC 7, 1967

	THIS LISTING IS A COPY OF A VERSION OF THE PROGRAM INTENDED 
	FOR USE IN THE ON-BOARD PRIMARY GUIDANCE COMPUTER IN THE 
	UNMANNED FLIGHT OF APOLLO LUNAR MODULE 1 --- THE AS206 MISSION.
</pre>
Note that the date is the date of the printout, not the date of the program revision.
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
009110,000002:                                                                                                  <span class="co">## Copyright:   Public domain.</span>
009111,000003:                                                                                                  <span class="co">## Filename:    KEYRUPT_UPRUPT.agc</span>
009112,000004:                                                                                                  <span class="co">## Purpose:     A module for revision 0 of BURST120 (Sunburst).</span>
009113,000005:                                                                                                  <span class="co">##              It is part of the source code for the Lunar Module's (LM)</span>
009114,000006:                                                                                                  <span class="co">##              Apollo Guidance Computer (AGC) for Apollo 5.</span>
009115,000007:                                                                                                  <span class="co">## Assembler:   yaYUL</span>
009116,000008:                                                                                                  <span class="co">## Contact:     Ron Burkey &lt;info@sandroid.org>.</span>
009117,000009:                                                                                                  <span class="co">## Website:     www.ibiblio.org/apollo/index.html</span>
009118,000010:                                                                                                  <span class="co">## Mod history: 2016-09-30 RSB  Created draft version.</span>
009119,000011:                                                                                                  <span class="co">##              2016-10-06 RSB  Transcription completed.</span>
009120,000012:                                                                                                  <span class="co">##              2016-10-31 RSB  Typos.</span>
009121,000013:                                                                                                  <span class="co">##              2016-12-04 RSB  Proofed with octopus/ProoferComments and fixed various</span>
009122,000014:                                                                                                  <span class="co">##                              comments, but the proofing process is not completed.</span>
009123,000015:                                                                                                  <span class="co">##              2016-12-05 RSB  Comment-proofing pass with octopus/ProoferComments completed;</span>
009124,000016:                                                                                                  <span class="co">##                              changes made.</span>
009125,000017:                                                                                                  <span class="co">##              2021-05-30 ABS  UPCK -> UPOK</span>
009126,000018: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 228
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
009128,000020: 13,3474                                           <span class="ps">BANK    </span> 13                                    
<a name="4B45595255505431"></a>009129,000021: 13,3474           54016        <span class="sm">KEYRUPT1</span>           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42414E4B52555054">BANKRUPT</a>                              
009130,000022: 13,3475           56002                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
009131,000023: 13,3476           54012                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5152555054">QRUPT</a>                                 
009132,000024: 13,3477           04605                           <span class="op">TC      </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#4C4F4453414D5054">LODSAMPT</a>                              <span class="co">#  TIME IS SNATCHED IN RUPT FOR NOUN 65.</span>
009133,000025: 13,3500           34556                           <span class="op">CAF     </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#4C4F5735">LOW5</a>                                  
009134,000026: 13,3501           00006                           <span class="op">EXTEND  </span>                                       
009135,000027: 13,3502           02015                           <span class="op">RAND    </span> <a href="INPUT_OUTPUT_CHANNELS.agc.html#4D4E4B4559494E">MNKEYIN</a>                               
<a name="4B4559434F4D"></a>009136,000028: 13,3503           54073        <span class="sm">KEYCOM  </span>           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5255505452454734">RUPTREG4</a>                              
009137,000029: 13,3504           35210                           <span class="op">CAF     </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#4348525052494F">CHRPRIO</a>                               
009138,000030: 13,3505           05505                           <span class="op">TC      </span> <a href="EXECUTIVE.agc.html#4E4F564143">NOVAC</a>                                 
009139,000031: 13,3506     0270                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#445350434F554E54">DSPCOUNT</a>                              
009140,000032: 13,3506           02002 10060                     <span class="ps">2CADR   </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#43484152494E">CHARIN</a>                                
009141,000033: 
009142,000034: 13,3510           30073                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5255505452454734">RUPTREG4</a>                              
009143,000035: 13,3511           50064                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4F43435452">LOCCTR</a>                                
009144,000036: 13,3512           54144                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4D504143">MPAC</a>                                  <span class="co">#  LEAVE 5 BIT KEY CDE IN MPAC FOR CHARIN</span>
009145,000037: 13,3513           05733                           <span class="op">TC      </span> <a href="WAITLIST.agc.html#524553554D45">RESUME</a>                                
009146,000038: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 229
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
009148,000040:                                                                                                  <span class="co">#  UPRUPT PROGRAM</span>
009149,000041: 
<a name="555052555054"></a>009150,000042: 13,3514           54016        <span class="sm">UPRUPT  </span>           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42414E4B52555054">BANKRUPT</a>                              
009151,000043: 13,3515           56002                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
009152,000044: 13,3516           54012                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5152555054">QRUPT</a>                                 
009153,000045: 13,3517           04605                           <span class="op">TC      </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#4C4F4453414D5054">LODSAMPT</a>                              <span class="co">#  TIME IS SNATCHED IN RUPT FOR NOUN 65.</span>
009154,000046: 13,3520           37767                           <span class="op">CAF     </span> <a href="INTERPRETER.agc.html#5A45524F">ZERO</a>                                  
009155,000047: 13,3521           56045                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#494E4C494E4B">INLINK</a>                                
009156,000048: 13,3522           54073                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4B455954454D5031">KEYTEMP1</a>                              
009157,000049: 13,3523           37761                           <span class="op">CAF     </span> <a href="INTERPRETER.agc.html#42495433">BIT3</a>                                  <span class="co">#  TURN ON UPACT LIGHT</span>
009158,000050: 13,3524           00006                           <span class="op">EXTEND  </span>                                       <span class="co">#  (BIT 3 OF CHANNEL 11)</span>
009159,000051: 13,3525           05011                           <span class="op">WOR     </span> <a href="INPUT_OUTPUT_CHANNELS.agc.html#4453414C4D4F5554">DSALMOUT</a>                              
<a name="555052505431"></a>009160,000052: 13,3526           34556        <span class="sm">UPRPT1  </span>           <span class="op">CAF     </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#4C4F5735">LOW5</a>                                  <span class="co">#  TEST FOR TRIPLE CHAR REDUNDANCY</span>
009161,000053: 13,3527           70073                           <span class="op">MASK    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4B455954454D5031">KEYTEMP1</a>                              <span class="co">#  LOW5 OF WORD</span>
009162,000054: 13,3530           56073                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4B455954454D5031">KEYTEMP1</a>                              <span class="co">#  LOW5 INTO KEYTEMP1</span>
009163,000055: 13,3531           56021                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    <span class="co">#  WHOLE WORD INTO SR</span>
009164,000056: 13,3532           55076                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4B455954454D5032">KEYTEMP2</a>                              <span class="co">#  ORIGINAL SR INTO KEYTEMP2</span>
009165,000057: 13,3533           03577                           <span class="op">TC      </span> <a href="#535247485435">SRGHT5</a>                                
009166,000058: 13,3534           74556                           <span class="op">MASK    </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#4C4F5735">LOW5</a>                                  <span class="co">#  MID 5</span>
009167,000059: 13,3535           63611                           <span class="op">AD      </span> <a href="#48493130">HI10</a>                                  
009168,000060: 13,3536           03606                           <span class="op">TC      </span> <a href="#555054455354">UPTEST</a>                                
009169,000061: 13,3537           03577                           <span class="op">TC      </span> <a href="#535247485435">SRGHT5</a>                                
009170,000062: 13,3540           74556                           <span class="op">MASK    </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#4C4F5735">LOW5</a>                                  <span class="co">#  HIGH 5</span>
009171,000063: 13,3541           40000                           <span class="op">COM     </span>                                       
009172,000064: 13,3542           03606                           <span class="op">TC      </span> <a href="#555054455354">UPTEST</a>                                
<a name="55504F4B"></a>009173,000065: 13,3543           03573        <span class="sm">UPOK    </span>           <span class="op">TC      </span> <a href="#524553544F525352">RESTORSR</a>                              <span class="co">#  CODE IS GOOD          </span>
009174,000066: 13,3544           43550                           <span class="op">CS      </span> <a href="#454C52434F4445">ELRCODE</a>                               <span class="co">#  IF CODE = ERROR LIGHT RESET, PUT +0</span>
009175,000067: 13,3545           60073                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4B455954454D5031">KEYTEMP1</a>                              <span class="co">#  INTO BIT1 OF UPLOCK.</span>
009176,000068: 13,3546           10000                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     <span class="co">#  IF CODE NOT= ELR, PASS CODE ONLY IF</span>
009177,000069: 13,3547           03556                           <span class="op">TC      </span> <a href="#54535455504C4F4B">TSTUPLOK</a>                              <span class="co">#  BIT1 OF UPLOCK = 0.</span>
<a name="454C52434F4445"></a>009178,000070: 13,3550           00022        <span class="sm">ELRCODE </span>           <span class="ps">OCT     </span> 22                                    
009179,000071: 13,3551           03556                           <span class="op">TC      </span> <a href="#54535455504C4F4B">TSTUPLOK</a>                              
009180,000072: 13,3552           47761                           <span class="op">CS      </span> <a href="INTERPRETER.agc.html#42495433">BIT3</a>                                  
009181,000073: 13,3553           70075                           <span class="op">MASK    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#464C414757524431">FLAGWRD1</a>                              
009182,000074: 13,3554           54075                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#464C414757524431">FLAGWRD1</a>                              
009183,000075: 13,3555           03562                           <span class="op">TC      </span> <a href="#4143434550545550">ACCEPTUP</a>                              
<a name="54535455504C4F4B"></a>009184,000076: 13,3556           37761        <span class="sm">TSTUPLOK</span>           <span class="op">CAF     </span> <a href="INTERPRETER.agc.html#42495433">BIT3</a>                                  
009185,000077: 13,3557           70075                           <span class="op">MASK    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#464C414757524431">FLAGWRD1</a>                              
009186,000078: 13,3560           10000                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
009187,000079: 13,3561           05733                           <span class="op">TC      </span> <a href="WAITLIST.agc.html#524553554D45">RESUME</a>                                <span class="co">#  BIT1 OF UPLOCK = 1.</span>
<a name="4143434550545550"></a>009188,000080: 13,3562           56073        <span class="sm">ACCEPTUP</span>           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4B455954454D5031">KEYTEMP1</a>                              <span class="co">#  BIT1 OF UPLOCK = 0.</span>
009189,000081: 13,3563           03503                           <span class="op">TC      </span> <a href="#4B4559434F4D">KEYCOM</a>                                
009190,000082: 
<a name="544D4641494C32"></a>009191,000083: 13,3564           03573        <span class="sm">TMFAIL2 </span>           <span class="op">TC      </span> <a href="#524553544F525352">RESTORSR</a>                              <span class="co">#  CODE IS BAD</span>
009192,000084: 13,3565           47761                           <span class="op">CS      </span> <a href="INTERPRETER.agc.html#42495433">BIT3</a>                                  
009193,000085: 13,3566           70075                           <span class="op">MASK    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#464C414757524431">FLAGWRD1</a>                              
009194,000086: 13,3567           67761                           <span class="op">AD      </span> <a href="INTERPRETER.agc.html#42495433">BIT3</a>                                  
009195,000087: 13,3570           54075                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#464C414757524431">FLAGWRD1</a>                              
<a name="544D4641494C31"></a>009196,000088: 13,3571           05733        <span class="sm">TMFAIL1 </span>           <span class="op">TC      </span> <a href="#544D414C4D">TMALM</a>                                 
009197,000089: 13,3572           05733                           <span class="op">TC      </span> <a href="WAITLIST.agc.html#524553554D45">RESUME</a>                                
009198,000090: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 230
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<a name="524553544F525352"></a>009200,000092: 13,3573           57076        <span class="sm">RESTORSR</span>           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4B455954454D5032">KEYTEMP2</a>                              
009201,000093: 13,3574           60000                           <span class="op">DOUBLE  </span>                                       
009202,000094: 13,3575           54021                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    
009203,000095: 13,3576           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
009204,000096: 
<a name="544D414C4D"></a>009205,000097: 13,3577     5733               <span class="sm">TMALM   </span>           <span class="ps">=       </span> <a href="WAITLIST.agc.html#524553554D45">RESUME</a>                                <span class="co">#  FOR NOW</span>
009206,000098: 
<a name="535247485435"></a>009207,000099: 13,3577           40021        <span class="sm">SRGHT5  </span>           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    
009208,000100: 13,3600           40021                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    
009209,000101: 13,3601           40021                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    
009210,000102: 13,3602           40021                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    
009211,000103: 13,3603           40021                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    
009212,000104: 13,3604           40000                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
009213,000105: 13,3605           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  DELIVERS WORD UNCOMPLEMENTED</span>
009214,000106: 
<a name="555054455354"></a>009215,000107: 13,3606           60073        <span class="sm">UPTEST  </span>           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4B455954454D5031">KEYTEMP1</a>                              
009216,000108: 13,3607           10000                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
009217,000109: 13,3610           03564                           <span class="op">TC      </span> <a href="#544D4641494C32">TMFAIL2</a>                               
<a name="48493130"></a>009218,000110: 13,3611           77740        <span class="sm">HI10    </span>           <span class="ps">OCT     </span> 77740                                 
009219,000111: 13,3612           03564                           <span class="op">TC      </span> <a href="#544D4641494C32">TMFAIL2</a>                               
009220,000112: 13,3613           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
009221,000113: 
009222,000114:                                                                                                  <span class="co">#  UPACT IS TURNED OFF BY VBRELDSP, ALSO BY ERROR LIGHT RESET.</span>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 231
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
009224,000116:                                                                                                  <span class="co">#  THE RECEPTION OF A BAD CODE BY UPLINK LOCKS OUT FURTHER UPLINK ACTIVITY</span>
009225,000117:                                                                                                  <span class="co">#  BY PLACING A 1 INTO BIT1 OF UPLOCK. BIT9 (ALONG WITH BIT11) OF TMKEYBUF</span>
009226,000118:                                                                                                  <span class="co">#  IS SET TO 1 TO SEND AN INDICATION OF THIS SITUATION DOWN THE DOWNLINK.</span>
009227,000119:                                                                                                  <span class="co">#  THE UPLINK INTERLOCK IS ALLOWED WHEN AN ERROR LIGHT RESET CODE IS SENT</span>
009228,000120:                                                                                                  <span class="co">#  UP THE UPLINK, OR WHEN A FRESH START IS PERFORMED.</span>
009229,000121: 

End of include-file KEYRUPT,_UPRUPT.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
