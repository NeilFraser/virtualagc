<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source-code files are part of a reconstructed copy of Skylark 048, the
Block II Command Module (CM) Apollo Guidance Computer (AGC) software for the
Skylab-2, Skylab-3, Skylab-4, and Apollo-Soyuz Test Project missions.
<br>
<br>
They have been created via disassembly of binary dumps of the original core rope
memory modules actually flown on Skylab-2, part numbers 2010802-541, 2010802-551,
2010802-561, 2010802-571, 2010802-581, and 2010802-591. Access to these modules
was provided by the New Mexico Museum of Space History, who we are much indebted to.
<br>
<br>
The source code for the Apollo 15, 16, and 17 software, Artemis 072, was used as
a starting point. Heavy use was made of TRW 4900.5-244, Programmed Guidance Equations
for Skylark Command Module Earth Orbital Program, dated 14 February 1972. This document
contains pseudocode of essentially all of Skylark, using original program labels which
have been copied for this source reconstruction.
<br>
<br>
Since only binary dumps (rather than listings) of Skylark are available as source material, 
all comments and labels are approximate.
They have been taken from the Programmed Guidance Equations or other AGC programs where
possible, or, in some places, written from scratch to match what we believe would have
been in the original listing.
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
042806,000002:                                                                                                  <span class="co">## Copyright:   Public domain.</span>
042807,000003:                                                                                                  <span class="co">## Filename:    RCS-CSM_DAP_EXECUTIVE_PROGRAMS.agc</span>
042808,000004:                                                                                                  <span class="co">## Purpose:     A section of Skylark revision 048.</span>
042809,000005:                                                                                                  <span class="co">##              It is part of the source code for the Apollo Guidance Computer (AGC)</span>
042810,000006:                                                                                                  <span class="co">##              for Skylab-2, Skylab-3, Skylab-4, and ASTP. No original listings of</span>
042811,000007:                                                                                                  <span class="co">##              this software are available; instead, this file was created via</span>
042812,000008:                                                                                                  <span class="co">##              disassembly of dumps of the core rope modules actually flown on</span>
042813,000009:                                                                                                  <span class="co">##              Skylab-2. Access to these modules was provided by the New Mexico</span>
042814,000010:                                                                                                  <span class="co">##              Museum of Space History.</span>
042815,000011:                                                                                                  <span class="co">## Assembler:   yaYUL</span>
042816,000012:                                                                                                  <span class="co">## Contact:     Ron Burkey &lt;info@sandroid.org>.</span>
042817,000013:                                                                                                  <span class="co">## Website:     www.ibiblio.org/apollo/index.html</span>
042818,000014:                                                                                                  <span class="co">## Mod history: 2023-09-04 MAS  Created from Artemis 072.</span>
042819,000015: 
042820,000016:                                                                                                  <span class="co">#  CALCULATION OF  AMGB, AMBG     ONCE EVERY SECOND</span>
042821,000017: 
042822,000018:                                                                                                  <span class="co">#   AMGB =  1    SIN(PSI)                0</span>
042823,000019:                                                                                                  <span class="co">#           0    COS(PSI)COS(PHI)        SIN(PHI)</span>
042824,000020:                                                                                                  <span class="co">#           0    -COS(PSI)SIN(PHI)       COS(PHI)</span>
042825,000021: 
042826,000022:                                                                                                  <span class="co">#   AMBG =  1    -TAN(PSI)COS(PHI)       TAN(PSI)SIN(PHI)</span>
042827,000023:                                                                                                  <span class="co">#           0    COS(PHI)/COS(PSI)       -SIN(PHI)/COS(PSI)</span>
042828,000024:                                                                                                  <span class="co">#           0    SIN(PHI)                COS(PHI)</span>
042829,000025: 
042830,000026:                                                                                                  <span class="co">#   WHERE PHI AND PSI ARE CDU ANGLES</span>
042831,000027: 
042832,000028: 22,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4441505338">DAPS8</a>                                 
042833,000029: 22,2000                                           <span class="ps">BANK    </span>                                       
042834,000030: 
042835,000031: 22,3522                                           <span class="ps">COUNT*  </span> $$/DAPEX                              
042836,000032: 22,3522  E6,1537                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4B4D504143">KMPAC</a>                                 
<a name="414D424755504454"></a>042837,000033: 22,3522           30102        <span class="sm">AMBGUPDT</span>           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#464C414757524436">FLAGWRD6</a>                              <span class="co">#  CHECK FOR RCS AUTOPILOT</span>
042838,000034: 22,3523           74076                           <span class="op">MASK    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4450434F4E464947">DPCONFIG</a>                              
042839,000035: 22,3524           00006                           <span class="op">EXTEND  </span>                                       
042840,000036: 22,3525           65220                           <span class="op">BZMF    </span> <a href="EXECUTIVE.agc.html#454E444F464A4F42">ENDOFJOB</a>                              <span class="co">#  BIT15 = 0, BIT14 = 1</span>
042841,000037: 22,3526           74764                           <span class="op">MASK    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#44415032424954">DAP2BIT</a>                               <span class="co">#  IF NOT RCS, EXIT</span>
042842,000038: 22,3527           00006                           <span class="op">EXTEND  </span>                                       
042843,000039: 22,3530           15220                           <span class="op">BZF     </span> <a href="EXECUTIVE.agc.html#454E444F464A4F42">ENDOFJOB</a>                              <span class="co">#  TO PROTECT TVC DAP ON SWITCHOVER</span>
042844,000040: 
042845,000041: 22,3531           30034                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4344555A">CDUZ</a>                                  
042846,000042: 22,3532           05074                           <span class="op">TC      </span> <a href="MYSUBS.agc.html#535053494E32">SPSIN2</a>                                
042847,000043: 22,3533           55671                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414D474231">AMGB1</a>                                 <span class="co">#  CALCULATE AMGB</span>
042848,000044: 22,3534           30034                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4344555A">CDUZ</a>                                  
042849,000045: 22,3535           05073                           <span class="op">TC      </span> <a href="MYSUBS.agc.html#5350434F5332">SPCOS2</a>                                
042850,000046: 22,3536           55676                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4341505349">CAPSI</a>                                 <span class="co">#  MUST CHECK FOR GIMBAL LOCK</span>
042851,000047: 22,3537           34631                           <span class="op">CAF     </span> <a href="#51554144414E474C">QUADANGL</a>                              <span class="co">#  = 7.25  DEGREES JET QUAD ANGULAR OFFSET</span>
042852,000048: 22,3540           00006                           <span class="op">EXTEND  </span>                                       
042853,000049: 22,3541           20032                           <span class="op">MSU     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#43445558">CDUX</a>                                  
042854,000050: 22,3542           40000                           <span class="op">COM     </span>                                       <span class="co">#  CDUX - 7.25 DEG</span>
042855,000051: 22,3543           05073                           <span class="op">TC      </span> <a href="MYSUBS.agc.html#5350434F5331">SPCOS1</a>                                
042856,000052: 22,3544           55675                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414D474238">AMGB8</a>                                 
042857,000053: 22,3545           00006                           <span class="op">EXTEND  </span>                                       
042858,000054: 22,3546           71676                           <span class="op">MP      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4341505349">CAPSI</a>                                 
042859,000055: 22,3547           55672                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414D474234">AMGB4</a>                                 
042860,000056: 22,3550           34631                           <span class="op">CAF     </span> <a href="#51554144414E474C">QUADANGL</a>                              
042861,000057: 22,3551           00006                           <span class="op">EXTEND  </span>                                       
042862,000058: 22,3552           20032                           <span class="op">MSU     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#43445558">CDUX</a>                                  
042863,000059: 22,3553           40000                           <span class="op">COM     </span>                                       <span class="co">#  CDUX - 7.25 DEG</span>
042864,000060: 22,3554           05074                           <span class="op">TC      </span> <a href="MYSUBS.agc.html#535053494E31">SPSIN1</a>                                
042865,000061: 22,3555           55673                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414D474235">AMGB5</a>                                 
042866,000062: 22,3556           00006                           <span class="op">EXTEND  </span>                                       
042867,000063: 22,3557           71676                           <span class="op">MP      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4341505349">CAPSI</a>                                 
042868,000064: 22,3560           40000                           <span class="op">COM     </span>                                       
042869,000065: 22,3561           55674                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414D474237">AMGB7</a>                                 
042870,000066: 22,3562           15220                           <span class="op">TCF     </span> <a href="EXECUTIVE.agc.html#454E444F464A4F42">ENDOFJOB</a>                              
042871,000067:    4000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#46465441473132">FFTAG12</a>                               
042872,000068:    4000                                           <span class="ps">BANK    </span>                                       
042873,000069: 
042874,000070:    4631                                           <span class="ps">COUNT*  </span> $$/DAPEX                              
<a name="51554144414E474C"></a>042875,000071:    4631           01224        <span class="sm">QUADANGL</span>           <span class="ps">DEC     </span> 660        B-14                       <span class="co">#  = 7.25 DEGREES</span>

End of include-file RCS-CSM_DAP_EXECUTIVE_PROGRAMS.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
