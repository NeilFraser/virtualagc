<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source-code files are part of a reconstructed copy of Skylark 048, the
Block II Command Module (CM) Apollo Guidance Computer (AGC) software for the
Skylab-2, Skylab-3, Skylab-4, and Apollo-Soyuz Test Project missions.
<br>
<br>
They have been created via disassembly of binary dumps of the original core rope
memory modules actually flown on Skylab-2, part numbers 2010802-541, 2010802-551,
2010802-561, 2010802-571, 2010802-581, and 2010802-591. Access to these modules
was provided by the New Mexico Museum of Space History, who we are much indebted to.
<br>
<br>
The source code for the Apollo 15, 16, and 17 software, Artemis 072, was used as
a starting point. Heavy use was made of TRW 4900.5-244, Programmed Guidance Equations
for Skylark Command Module Earth Orbital Program, dated 14 February 1972. This document
contains pseudocode of essentially all of Skylark, using original program labels which
have been copied for this source reconstruction.
<br>
<br>
Since only binary dumps (rather than listings) of Skylark are available as source material, 
all comments and labels are approximate.
They have been taken from the Programmed Guidance Equations or other AGC programs where
possible, or, in some places, written from scratch to match what we believe would have
been in the original listing.
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
018015,000002:                                                                                                  <span class="co">## Copyright:   Public domain.</span>
018016,000003:                                                                                                  <span class="co">## Filename:    SYSTEM_TEST_STANDARD_LEAD_INS.agc</span>
018017,000004:                                                                                                  <span class="co">## Purpose:     A section of Skylark revision 048.</span>
018018,000005:                                                                                                  <span class="co">##              It is part of the source code for the Apollo Guidance Computer (AGC)</span>
018019,000006:                                                                                                  <span class="co">##              for Skylab-2, Skylab-3, Skylab-4, and ASTP. No original listings of</span>
018020,000007:                                                                                                  <span class="co">##              this software are available; instead, this file was created via</span>
018021,000008:                                                                                                  <span class="co">##              disassembly of dumps of the core rope modules actually flown on</span>
018022,000009:                                                                                                  <span class="co">##              Skylab-2. Access to these modules was provided by the New Mexico</span>
018023,000010:                                                                                                  <span class="co">##              Museum of Space History.</span>
018024,000011:                                                                                                  <span class="co">## Assembler:   yaYUL</span>
018025,000012:                                                                                                  <span class="co">## Contact:     Ron Burkey &lt;info@sandroid.org>.</span>
018026,000013:                                                                                                  <span class="co">## Website:     www.ibiblio.org/apollo/index.html</span>
018027,000014:                                                                                                  <span class="co">## Mod history: 2023-09-04 MAS  Created from Artemis 072.</span>
018028,000015: 
018029,000016: 
018030,000017: 22,3237  E5,1660                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#58534D">XSM</a>                                   
018031,000018: 
018032,000019: 12,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#452F50524F4731">E/PROG1</a>                               
018033,000020: 12,2000                                           <span class="ps">BANK    </span>                                       
018034,000021: 
018035,000022: 12,2000                                           <span class="ps">COUNT*  </span> $$/P07                                
018036,000023: 
018037,000024:                                                                                                  <span class="co">#  SPECIAL PROGRAMS TO EASE THE PANGS OF ERASABLE MEMORY PROGRAMS.</span>
018038,000025: 
018039,000026:                                                                                                  <span class="co">#  E/BKCALL      FOR DOING BANKCALLS FROM AND RETURNING TO ERASABLE.</span>
018040,000027: 
018041,000028:                                                                                                  <span class="co">#  THIS ROUTINE IS CALLABLE FROM ERASABLE OR FIXED.  LIKE BANKCALL, HOWEVER, SWITCHING BETWEEN S3 AND S4</span>
018042,000029:                                                                                                  <span class="co">#  IS NOT POSSIBLE.</span>
018043,000030: 
018044,000031:                                                                                                  <span class="co">#  THE CALLING SEQUENCE IS:</span>
018045,000032: 
018046,000033:                                                                                                  <span class="co">#                TC      BANKCALL</span>
018047,000034:                                                                                                  <span class="co">#                CADR    E/BKCALL</span>
018048,000035:                                                                                                  <span class="co">#                CADR    ROUTINE         WHERE YOU WANT TO GO IN FIXED.</span>
018049,000036:                                                                                                  <span class="co">#                RETURN HERE FROM DISPLAY TERMINATE, BAD STALL OR TC Q.</span>
018050,000037:                                                                                                  <span class="co">#                RETURN HERE FROM DISPLAY PROCEED OR GOOD RETURN FROM STALL.</span>
018051,000038:                                                                                                  <span class="co">#                RETURN HERE FROM DISPLAY ENTER OR RECYCLE.</span>
018052,000039: 
018053,000040:                                                                                                  <span class="co">#  THIS ROUTINE REQUIRES TWO ERASABLES (EBUF2, +1) IN UNSWITCHED WHICH ARE UNSHARED BY INTERRUPTS AND</span>
018054,000041:                                                                                                  <span class="co">#  OTHER EMEMORY PROGRAMS.</span>
018055,000042: 
018056,000043:                                                                                                  <span class="co">#  A + L ARE PRESERVED THROUGH BANKCALL AND E/BKCALL.</span>
018057,000044: 
<a name="452F424B43414C4C"></a>018058,000045: 12,2000           52134        <span class="sm">E/BKCALL</span>           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42554632">BUF2</a>                                  <span class="co">#  SAVE A,L AND GET DP RETURN.</span>
018059,000046: 12,2001           53332                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4542554632">EBUF2</a>                                 <span class="co">#  SAVE DP RETURN.</span>
018060,000047: 12,2002           25331                           <span class="op">INCR    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4542554632">EBUF2</a>                                 <span class="co">#  RETURN +1 BECAUSE DOUBLE CADR.</span>
018061,000048: 12,2003           30006                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4242414E4B">BBANK</a>                                 
018062,000049: 12,2004           75053                           <span class="op">MASK    </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4C4F573130">LOW10</a>                                 <span class="co">#  GET CURRENT EBANK.  (SBANK SOMEDAY)</span>
018063,000050: 12,2005           27332                           <span class="op">ADS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4542554632">EBUF2</a>      +1                         <span class="co">#  FORM BBCON.  (WAS FBANK)</span>
018064,000051: 12,2006           51331                           <span class="op">NDX     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4542554632">EBUF2</a>                                 
018065,000052: 12,2007           27777                           <span class="op">CA      </span> 0          -1                         <span class="co">#  GET CADR OF ROUTINE.</span>
018066,000053: 12,2010           04653                           <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#535743414C4C">SWCALL</a>                                <span class="co">#  GO TO ROUTINE, SETTING Q TO SWRETURN</span>
018067,000054:                                                                                                  <span class="co">#  AND RESTORING A + L.</span>
018068,000055: 12,2011           02015                           <span class="op">TC      </span> +4                                    <span class="co">#  TX Q, V34, OR BAD STALL RETURN.</span>
018069,000056: 12,2012           02014                           <span class="op">TC      </span> +2                                    <span class="co">#  PROCEED OR GOOD STALL RETURN.</span>
018070,000057: 12,2013           25331                           <span class="op">INCR    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4542554632">EBUF2</a>                                 <span class="co">#  ENTER OR RECYCLE RETURN.</span>
018071,000058: 12,2014           25331                           <span class="op">INCR    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4542554632">EBUF2</a>                                 
<a name="452F535749544348"></a>018072,000059: 12,2015           53332        <span class="sm">E/SWITCH</span>           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4542554632">EBUF2</a>                                 
018073,000060: 12,2016           52006                           <span class="op">DTCB    </span>                                       
018074,000061: 
018075,000062:                                                                                                  <span class="co">#  E/CALL        FOR CALLING A FIXED MEMORY INTERPRETIVE SUBROUTINE FROM ERASABLE AND RETURNING TO ERASABLE.</span>
018076,000063: 
018077,000064:                                                                                                  <span class="co">#  THE CALLING SEQUENCE IS...</span>
018078,000065: 
018079,000066:                                                                                                  <span class="co">#                RTB</span>
018080,000067:                                                                                                  <span class="co">#                        E/CALL</span>
018081,000068:                                                                                                  <span class="co">#                CADR    ROUTINE         THE INTERPRETIVE SUBROUTINE YOU WANT.</span>
018082,000069:                                                                                                  <span class="co">#                                        RETURNS HERE IN INTERPRETIVE.</span>
018083,000070: 
<a name="452F43414C4C"></a>018084,000071: 12,2017           22164        <span class="sm">E/CALL  </span>           <span class="op">LXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4F43">LOC</a>                                   <span class="co">#  ADRES -1 OF CADR.</span>
018085,000072: 12,2020           50001                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C">L</a>                                     
018086,000073: 12,2021           30001                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C">L</a>                                     <span class="co">#  CADR IN A.</span>
018087,000074: 12,2022           24001                           <span class="op">INCR    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C">L</a>                                     
018088,000075: 12,2023           24001                           <span class="op">INCR    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C">L</a>                                     <span class="co">#  RETURN ADRES IN L.</span>
018089,000076: 12,2024           53332                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4542554632">EBUF2</a>                                 <span class="co">#  STORE CADR AND RETURN.</span>
018090,000077: 12,2025           06006                           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>                               
018091,000078: 12,2026           77624                           <span class="in">CALL    </span>                                       
018092,000079: 12,2027           01331                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4542554632">EBUF2</a>                                 <span class="co">#  INDIRECTLY EXECUTE ROUTINE.  IT MUST</span>
018093,000080: 12,2030           77776                           <span class="in">EXIT    </span>                                       <span class="co">#  LEAVE VIA RVQ OR EQUIVALENT.</span>
018094,000081: 12,2031           23332                           <span class="op">LXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4542554632">EBUF2</a>      +1                         <span class="co">#  PICK UP RETURN.</span>
018095,000082: 12,2032           16010                           <span class="op">TCF     </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>    +2                         <span class="co">#  SET LOC AND RETURB TO CALLER</span>
018096,000083: 
018097,000084:                                                                                                  <span class="co">#  E/JOBWAK      FOR WAKING UP ERASABLE MEMORY JOBS.</span>
018098,000085: 
018099,000086:                                                                                                  <span class="co">#  THIS ROUTINE MUST BE CALLED IN INTERRUPT OR WITH INTERRUPTS INHIBITED.</span>
018100,000087: 
018101,000088:                                                                                                  <span class="co">#  THE CALLING SEQUENCE IS:</span>
018102,000089: 
018103,000090:                                                                                                  <span class="co">#                INHINT</span>
018104,000091:                                                                                                  <span class="co">#                  .</span>
018105,000092:                                                                                                  <span class="co">#                  .</span>
018106,000093:                                                                                                  <span class="co">#                CA      WAKEADR         ADDRESS OF SLEEPING JOB</span>
018107,000094:                                                                                                  <span class="co">#                TC      IBNKCALL</span>
018108,000095:                                                                                                  <span class="co">#                CADR    E/JOBWAK</span>
018109,000096:                                                                                                  <span class="co">#                  .                     RETURNS HERE</span>
018110,000097:                                                                                                  <span class="co">#                  .</span>
018111,000098:                                                                                                  <span class="co">#                  .</span>
018112,000099:                                                                                                  <span class="co">#                RELINT                  IF YOU DID AN INHINT.</span>
018113,000100: 
018114,000101: 12,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#452F50524F47">E/PROG</a>                                
018115,000102: 12,2000                                           <span class="ps">BANK    </span>                                       
018116,000103: 
018117,000104: 12,2033                                           <span class="ps">COUNT*  </span> $$/P07                                
018118,000105: 
<a name="452F4A4F4257414B"></a>018119,000106: 12,2033           05202        <span class="sm">E/JOBWAK</span>           <span class="op">TC      </span> <a href="EXECUTIVE.agc.html#4A4F4257414B45">JOBWAKE</a>                               <span class="co">#  ARRIVE IWTH ADRES IN A.</span>
018120,000107: 12,2034           44767                           <span class="op">CS      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4249543131">BIT11</a>                                 
018121,000108: 12,2035           50064                           <span class="op">NDX     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4F43435452">LOCCTR</a>                                
018122,000109: 12,2036           26164                           <span class="op">ADS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4F43">LOC</a>                                   <span class="co">#  KNOCK FIXED MEMORY BIT OUT OF ADRES.</span>
018123,000110: 12,2037           00072                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5255505452454733">RUPTREG3</a>                              <span class="co">#  RETURN</span>
018124,000111: 
018125,000112: 
018126,000113:                                                                                                  <span class="co">#  THESE PROGRAMS ARE PROVIDED TO ALLOW OVERLAY OF BANKS 30 THRU 33 OF THE 205 VERSIONS OF SYSTEM TESTS AND</span>
018127,000114:                                                                                                  <span class="co">#  PRELAUNCH ALIGN.  THE INTENT IS TO ALLOW THE STG AND HYBRID LABS TO RUN ALL THE TESTS WITH COLOSSUS.</span>
018128,000115: 
018129,000116: 
018130,000117: 33,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#544553544C454144">TESTLEAD</a>                              
018131,000118: 33,2000                                           <span class="ps">BANK    </span>                                       
018132,000119: 
018133,000120: 33,2000                                           <span class="ps">COUNT*  </span> $$/COMST                              
018134,000121: 33,2000  E5,1425                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51504C414345">QPLACE</a>                                
018135,000122: 
<a name="434F4D50564552"></a>018136,000123: 33,2000           03231        <span class="sm">COMPVER </span>           <span class="op">TC      </span> <a href="IMU_CALIBRATION_AND_ALIGNMENT.agc.html#47434F4D50564552">GCOMPVER</a>                              <span class="co">#  MUST BE 33,2000.</span>
018137,000124: 
<a name="4754534350535331"></a>018138,000125: 33,2001           02722        <span class="sm">GTSCPSS1</span>           <span class="op">TC      </span> <a href="IMU_CALIBRATION_AND_ALIGNMENT.agc.html#47545343505353">GTSCPSS</a>                               <span class="co">#  MUST BE AT 33,2001</span>

End of include-file SYSTEM_TEST_STANDARD_LEAD_INS.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
