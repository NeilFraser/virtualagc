<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source-code files are part of a reconstructed copy of Sundial E, the
final release of the Block II Command Module (CM) Apollo Guidance Computer
(AGC) system test software.
<br><br>
They have been created via disassembly of binary dumps of original core rope
memory modules, part numbers 2003053-121, 2003053-151, and 2003972-211, belonging
to the MIT Museum.
<br><br>
Since only binary dumps (rather than listings) of Sundial are available as source material, 
all comments and labels are approximate.
They have been taken from other AGC programs where possible, or, in some places, written
from scratch to match what we believe would have been in the original listing.
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
008244,000002:                                                                                                  <span class="co">## Copyright:   Public domain.</span>
008245,000003:                                                                                                  <span class="co">## Filename:    KEYRUPT,_UPRUPT.agc</span>
008246,000004:                                                                                                  <span class="co">## Purpose:     A section of Sundial E.</span>
008247,000005:                                                                                                  <span class="co">##              It is part of the reconstructed source code for the final</span>
008248,000006:                                                                                                  <span class="co">##              release of the Block II Command Module system test software. No</span>
008249,000007:                                                                                                  <span class="co">##              original listings of this program are available; instead, this</span>
008250,000008:                                                                                                  <span class="co">##              file was created via disassembly of dumps of Sundial core rope</span>
008251,000009:                                                                                                  <span class="co">##              modules and comparison with other AGC programs.</span>
008252,000010:                                                                                                  <span class="co">## Assembler:   yaYUL</span>
008253,000011:                                                                                                  <span class="co">## Contact:     Ron Burkey &lt;info@sandroid.org>.</span>
008254,000012:                                                                                                  <span class="co">## Website:     www.ibiblio.org/apollo/index.html</span>
008255,000013:                                                                                                  <span class="co">## Mod history: 2023-06-22 MAS  Created from Aurora 12.</span>
008256,000014:                                                                                                  <span class="co">##              2023-06-30 MAS  Updated for Sundial E.</span>
008257,000015: 
008258,000016: 01,2773                                           <span class="ps">SETLOC  </span> <a href="WAITLIST.agc.html#454E445741495453">ENDWAITS</a>                              
008259,000017: 
<a name="4B45595255505431"></a>008260,000018: 01,2773           54016        <span class="sm">KEYRUPT1</span>           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42414E4B52555054">BANKRUPT</a>                              
008261,000019: 01,2774           56002                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
008262,000020: 01,2775           54012                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5152555054">QRUPT</a>                                 
008263,000021: 01,2776           05510                           <span class="op">TC      </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#4C4F4453414D5054">LODSAMPT</a>                              <span class="co">#  TIME IS SNATCHED IN RUPT FOR NOUN 65.</span>
008264,000022: 01,2777           35455                           <span class="op">CAF     </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#4C4F5735">LOW5</a>                                  
008265,000023: 01,3000           00006                           <span class="op">EXTEND  </span>                                       
008266,000024: 01,3001           02015                           <span class="op">RAND    </span> <a href="INPUT_OUTPUT_CHANNELS.agc.html#4D4E4B4559494E">MNKEYIN</a>                               
<a name="4B4559434F4D"></a>008267,000025: 01,3002           54077        <span class="sm">KEYCOM  </span>           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5255505452454734">RUPTREG4</a>                              
008268,000026: 01,3003           35464                           <span class="op">CAF     </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#4348525052494F">CHRPRIO</a>                               
008269,000027: 01,3004           04276                           <span class="op">TC      </span> <a href="EXECUTIVE.agc.html#4E4F564143">NOVAC</a>                                 
008270,000028: 01,3005     0264                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#445350434F554E54">DSPCOUNT</a>                              
008271,000029: 01,3005           02002 10000                     <span class="ps">2CADR   </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#43484152494E">CHARIN</a>                                
008272,000030: 01,3007           30077                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5255505452454734">RUPTREG4</a>                              
008273,000031: 01,3010           50071                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4F43435452">LOCCTR</a>                                
008274,000032: 01,3011           54140                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4D504143">MPAC</a>                                  <span class="co">#  LEAVE 5 BIT KEY CDE IN MPAC FOR CHARIN</span>
008275,000033: 01,3012           04511                           <span class="op">TC      </span> <a href="WAITLIST.agc.html#524553554D45">RESUME</a>                                
008276,000034: 
008277,000035:                                                                                                  <span class="co">#  UPRUPT PROGRAM</span>
008278,000036: 
<a name="555052555054"></a>008279,000037: 01,3013           54016        <span class="sm">UPRUPT  </span>           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42414E4B52555054">BANKRUPT</a>                              
008280,000038: 01,3014           56002                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
008281,000039: 01,3015           54012                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5152555054">QRUPT</a>                                 
008282,000040: 01,3016           05510                           <span class="op">TC      </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#4C4F4453414D5054">LODSAMPT</a>                              <span class="co">#  TIME IS SNATCHED IN RUPT FOR NOUN 65.</span>
008283,000041: 01,3017           37657                           <span class="op">CAF     </span> <a href="LIST_PROCESSING_INTERPRETER.agc.html#5A45524F">ZERO</a>                                  
008284,000042: 01,3020           56045                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#494E4C494E4B">INLINK</a>                                
008285,000043: 01,3021           54077                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4B455954454D5031">KEYTEMP1</a>                              
008286,000044: 01,3022           37650                           <span class="op">CAF     </span> <a href="LIST_PROCESSING_INTERPRETER.agc.html#42495433">BIT3</a>                                  <span class="co">#  TURN ON UPACT LIGHT</span>
008287,000045: 01,3023           00006                           <span class="op">EXTEND  </span>                                       <span class="co">#  (BIT 3 OF CHANNEL 11)</span>
008288,000046: 01,3024           05011                           <span class="op">WOR     </span> <a href="INPUT_OUTPUT_CHANNELS.agc.html#4453414C4D4F5554">DSALMOUT</a>                              
<a name="55505255505431"></a>008289,000047: 01,3025           35455        <span class="sm">UPRUPT1 </span>           <span class="op">CAF     </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#4C4F5735">LOW5</a>                                  <span class="co">#  TEST FOR TRIPLE CHAR REDUNDANCY</span>
008290,000048: 01,3026           70077                           <span class="op">MASK    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4B455954454D5031">KEYTEMP1</a>                              <span class="co">#  LOW5 OF WORD</span>
008291,000049: 01,3027           56077                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4B455954454D5031">KEYTEMP1</a>                              <span class="co">#  LOW5 INTO KEYTEMP1</span>
008292,000050: 01,3030           56021                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    <span class="co">#  WHOLE WORD INTO SR</span>
008293,000051: 01,3031           55071                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4B455954454D5032">KEYTEMP2</a>                              <span class="co">#  ORIGINAL SR INTO KEYTEMP2</span>
008294,000052: 01,3032           03076                           <span class="op">TC      </span> <a href="#535247485435">SRGHT5</a>                                
008295,000053: 01,3033           75455                           <span class="op">MASK    </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#4C4F5735">LOW5</a>                                  <span class="co">#  MID 5</span>
008296,000054: 01,3034           63110                           <span class="op">AD      </span> <a href="#48493130">HI10</a>                                  
008297,000055: 01,3035           03105                           <span class="op">TC      </span> <a href="#555054455354">UPTEST</a>                                
008298,000056: 01,3036           03076                           <span class="op">TC      </span> <a href="#535247485435">SRGHT5</a>                                
008299,000057: 01,3037           75455                           <span class="op">MASK    </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#4C4F5735">LOW5</a>                                  <span class="co">#  HIGH 5</span>
008300,000058: 01,3040           40000                           <span class="op">COM     </span>                                       
008301,000059: 01,3041           03105                           <span class="op">TC      </span> <a href="#555054455354">UPTEST</a>                                
<a name="55504F4B"></a>008302,000060: 01,3042           03072        <span class="sm">UPOK    </span>           <span class="op">TC      </span> <a href="#524553544F525352">RESTORSR</a>                              <span class="co">#  CODE IS GOOD</span>
008303,000061: 01,3043           43047                           <span class="op">CS      </span> <a href="#454C52434F4445">ELRCODE</a>                               <span class="co">#  IF CODE = ERROR LIGHT RESET, PUT +0</span>
008304,000062: 01,3044           60077                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4B455954454D5031">KEYTEMP1</a>                              <span class="co">#  INTO BIT1 OF UPLOCK.</span>
008305,000063: 01,3045           10000                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     <span class="co">#  IF CODE NOT= ELR, PASS CODE ONLY IF</span>
008306,000064: 01,3046           03055                           <span class="op">TC      </span> <a href="#54535455504C4F4B">TSTUPLOK</a>                              <span class="co">#  BIT1 OF UPLOCK = 0.</span>
<a name="454C52434F4445"></a>008307,000065: 01,3047           00022        <span class="sm">ELRCODE </span>           <span class="ps">OCT     </span> 22                                    
008308,000066: 01,3050           03055                           <span class="op">TC      </span> <a href="#54535455504C4F4B">TSTUPLOK</a>                              
008309,000067: 01,3051           47652                           <span class="op">CS      </span> <a href="LIST_PROCESSING_INTERPRETER.agc.html#42495431">BIT1</a>                                  <span class="co">#  PUT 0 INTO BIT1 OF UPLOCK</span>
008310,000068: 01,3052           70342                           <span class="op">MASK    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#55504C4F434B">UPLOCK</a>                                
008311,000069: 01,3053           54342                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#55504C4F434B">UPLOCK</a>                                
008312,000070: 01,3054           03061                           <span class="op">TC      </span> <a href="#4143434550545550">ACCEPTUP</a>                              
<a name="54535455504C4F4B"></a>008313,000071: 01,3055           37652        <span class="sm">TSTUPLOK</span>           <span class="op">CAF     </span> <a href="LIST_PROCESSING_INTERPRETER.agc.html#42495431">BIT1</a>                                  
008314,000072: 01,3056           70342                           <span class="op">MASK    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#55504C4F434B">UPLOCK</a>                                
008315,000073: 01,3057           10000                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
008316,000074: 01,3060           04511                           <span class="op">TC      </span> <a href="WAITLIST.agc.html#524553554D45">RESUME</a>                                <span class="co">#  BIT1 OF UPLOCK = 1.</span>
<a name="4143434550545550"></a>008317,000075: 01,3061           56077        <span class="sm">ACCEPTUP</span>           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4B455954454D5031">KEYTEMP1</a>                              <span class="co">#  BIT1 OF UPLOCK = 0.</span>
008318,000076: 01,3062           03002                           <span class="op">TC      </span> <a href="#4B4559434F4D">KEYCOM</a>                                
008319,000077: 
<a name="544D4641494C32"></a>008320,000078: 01,3063           03072        <span class="sm">TMFAIL2 </span>           <span class="op">TC      </span> <a href="#524553544F525352">RESTORSR</a>                              <span class="co">#  CODE IS BAD</span>
008321,000079: 01,3064           47652                           <span class="op">CS      </span> <a href="LIST_PROCESSING_INTERPRETER.agc.html#42495431">BIT1</a>                                  <span class="co">#  LOCK OUT FURTHER UPLINK ACTIVITY (BY</span>
008322,000080: 01,3065           70342                           <span class="op">MASK    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#55504C4F434B">UPLOCK</a>                                <span class="co">#  PUTTING 1 INTO BIT1 OF UPLOCK) UNTIL ELR</span>
008323,000081: 01,3066           67652                           <span class="op">AD      </span> <a href="LIST_PROCESSING_INTERPRETER.agc.html#42495431">BIT1</a>                                  <span class="co">#  IS SENT UP UPLINK.</span>
008324,000082: 01,3067           54342                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#55504C4F434B">UPLOCK</a>                                
<a name="544D4641494C31"></a>008325,000083: 01,3070           04511        <span class="sm">TMFAIL1 </span>           <span class="op">TC      </span> <a href="#544D414C4D">TMALM</a>                                 
008326,000084: 01,3071           04511                           <span class="op">TC      </span> <a href="WAITLIST.agc.html#524553554D45">RESUME</a>                                
<a name="524553544F525352"></a>008327,000085: 01,3072           57071        <span class="sm">RESTORSR</span>           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4B455954454D5032">KEYTEMP2</a>                              
008328,000086: 01,3073           60000                           <span class="op">DOUBLE  </span>                                       
008329,000087: 01,3074           54021                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    
008330,000088: 01,3075           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
008331,000089: 
<a name="544D414C4D"></a>008332,000090: 01,3076     4511               <span class="sm">TMALM   </span>           <span class="ps">=       </span> <a href="WAITLIST.agc.html#524553554D45">RESUME</a>                                <span class="co">#  FOR NOW</span>
008333,000091: 
<a name="535247485435"></a>008334,000092: 01,3076           40021        <span class="sm">SRGHT5  </span>           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    
008335,000093: 01,3077           40021                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    
008336,000094: 01,3100           40021                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    
008337,000095: 01,3101           40021                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    
008338,000096: 01,3102           40021                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    
008339,000097: 01,3103           40000                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
008340,000098: 01,3104           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  DELIVERS WORD UNCOMPLEMENTED</span>
008341,000099: 
<a name="555054455354"></a>008342,000100: 01,3105           60077        <span class="sm">UPTEST  </span>           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4B455954454D5031">KEYTEMP1</a>                              
008343,000101: 01,3106           10000                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
008344,000102: 01,3107           03063                           <span class="op">TC      </span> <a href="#544D4641494C32">TMFAIL2</a>                               
<a name="48493130"></a>008345,000103: 01,3110           77740        <span class="sm">HI10    </span>           <span class="ps">OCT     </span> 77740                                 
008346,000104: 01,3111           03063                           <span class="op">TC      </span> <a href="#544D4641494C32">TMFAIL2</a>                               
008347,000105: 01,3112           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
008348,000106: 
008349,000107:                                                                                                  <span class="co">#  UPACT IS TURNED OFF BY VBRELDSP, ALSO BY ERROR LIGHT RESET.</span>
008350,000108:                                                                                                  <span class="co">#  THE RECEPTION OF A BAD CODE BY UPLINK LOCKS OUT FURTHER UPLINK ACTIVITY</span>
008351,000109:                                                                                                  <span class="co">#  BY PLACING A 1 INTO BIT1 OF UPLOCK. BIT9 (ALONG WITH BIT11) OF TMKEYBUF</span>
008352,000110:                                                                                                  <span class="co">#  IS SET TO 1 TO SEND AN INDICATION OF THIS SITUATION DOWN THE DOWNLINK.</span>
008353,000111:                                                                                                  <span class="co">#  THE UPLINK INTERLOCK IS ALLOWED WHEN AN ERROR LIGHT RESET CODE IS SENT</span>
008354,000112:                                                                                                  <span class="co">#  UP THE UPLINK, OR WHEN A FRESH START IS PERFORMED.</span>
008355,000113: 
<a name="454E444B52555253"></a>008356,000114: 01,3113                        <span class="sm">ENDKRURS</span>           <span class="ps">EQUALS  </span>                                       

End of include-file KEYRUPT,_UPRUPT.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
