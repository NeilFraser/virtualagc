<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source-code files are part of a reconstructed copy of Comanche 72, the
first release of the Apollo Guidance Computer (AGC) Command Module (CM) software
for Apollo 13.
<br><br>
They have been adapted from sources files created from a listing of Comanche 55.
These source files were updated to match binary dumps of a set of Comanche 67 rope modules.
They were then further modified by applying known changes between Comanche 67 and Comanche 72.
A binary dump of module B2 of Comanche 72, part number 2010802-021, was also used
to validate changes made to banks 05-13. The resulting code assembles to have identical
memory-bank checksums as those specified in NASA drawing 2021153G; this gives reasonably
high confidence that the changes that have been made are correct. In places where
ambiguity exists, this ambiguity is discussed in "## Reconstruction:" comments.
<br><br>
Since no contemporary listings of Comanche 72 are available as source material, 
all comments and labels are approximate.
They have been taken from other AGC programs where possible, or, in some places, written
from scratch to match what we believe would have been in the original listing.
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
040114,000002:                                                                                                  <span class="co">## Copyright:   Public domain.</span>
040115,000003:                                                                                                  <span class="co">## Filename:    S-BAND_ANTENNA_FOR_CM.agc</span>
040116,000004:                                                                                                  <span class="co">## Purpose:     A section of Comanche revision 072.</span>
040117,000005:                                                                                                  <span class="co">##              It is part of the reconstructed source code for the first</span>
040118,000006:                                                                                                  <span class="co">##              release of the software for the Command Module's (CM) Apollo</span>
040119,000007:                                                                                                  <span class="co">##              Guidance Computer (AGC) for Apollo 13. No original listings</span>
040120,000008:                                                                                                  <span class="co">##              of this program are available; instead, this file was recreated</span>
040121,000009:                                                                                                  <span class="co">##              from a printout of Comanche 055, binary dumps of a set of</span>
040122,000010:                                                                                                  <span class="co">##              Comanche 067 rope modules, and changelogs between Comanche 067</span>
040123,000011:                                                                                                  <span class="co">##              and 072. It has been adapted such that the resulting bugger words</span>
040124,000012:                                                                                                  <span class="co">##              exactly match those specified for Comanche 072 in NASA drawing</span>
040125,000013:                                                                                                  <span class="co">##              2021153G, which gives relatively high confidence that the</span>
040126,000014:                                                                                                  <span class="co">##              reconstruction is correct.</span>
040127,000015:                                                                                                  <span class="co">## Assembler:   yaYUL</span>
040128,000016:                                                                                                  <span class="co">## Contact:     Ron Burkey &lt;info@sandroid.org>.</span>
040129,000017:                                                                                                  <span class="co">## Website:     www.ibiblio.org/apollo/index.html</span>
040130,000018:                                                                                                  <span class="co">## Mod history: 2024-05-13 MAS  Created from Comanche 067.</span>
040131,000019: 
040132,000020: 23,3207                                           <span class="ps">BANK    </span> 23                                    
040133,000021: 42,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#5342414E44">SBAND</a>                                 
040134,000022: 42,2000                                           <span class="ps">BANK    </span>                                       
040135,000023: 
040136,000024: 42,3651                                           <span class="ps">COUNT*  </span> $$/R05                                
040137,000025: 42,3651  E4,1417                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#454D53414C54">EMSALT</a>                                
040138,000026: 
<a name="5342414E44414E54"></a>040139,000027: 42,3651           06006        <span class="sm">SBANDANT</span>           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>                               
040140,000028: 42,3652           45034                           <span class="in">RTB     </span> <span class="in">CALL      </span>                            
040141,000029: 42,3653           45510                                    <a href="RTB_OP_CODES.agc.html#4C4F414454494D45">LOADTIME</a>                              <span class="co">#  PICKUP CURRENT TIME SCALED B-28</span>
040142,000030: 42,3654           47501                                    <a href="POWERED_FLIGHT_SUBROUTINES.agc.html#43445554524947">CDUTRIG</a>                               <span class="co">#  COMPUTE SINES AND COSINES OF CDU ANGLES</span>
040143,000031: 42,3655           34041                           <span class="in">STCALL  </span> <a href="ORBITAL_INTEGRATION.agc.html#5444454331">TDEC1</a>                                 <span class="co">#  ADVANCE INTEGRATION TO TIME IN TDEC1</span>
040144,000032: 42,3656           27123                                    <a href="INTEGRATION_INITIALIZATION.agc.html#43534D434F4E4943">CSMCONIC</a>                              <span class="co">#  USING CONIC INTEGRATION</span>
040145,000033: 42,3657           46135                           <span class="in">SLOAD   </span> <span class="in">BHIZ      </span>                            <span class="co">#  ORIGIN OF REFERENCE INERTIAL SYSTEM IS</span>
040146,000034: 42,3660           00050                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#5832">X2</a>                                    <span class="co">#  EARTH = 0, MOON = 2</span>
040147,000035: 42,3661           65674                                    <a href="#4549534F49">EISOI</a>                                 
040148,000036: 42,3662           77775                           <span class="in">VLOAD   </span>                                       
040149,000037: 42,3663           00001                                    <a href="ORBITAL_INTEGRATION.agc.html#52415454">RATT</a>                                  
040150,000038: 42,3664           00003                           <span class="in">STORE   </span> <a href="#52434D">RCM</a>                                   <span class="co">#  MOVE RATT TO PREVENT WIPEOUT</span>
040151,000039: 42,3665           45145                           <span class="in">DLOAD   </span> <span class="in">CALL      </span>                            <span class="co">#  MOON, PUSH ON</span>
040152,000040: 42,3666           00015                                    <a href="ORBITAL_INTEGRATION.agc.html#544154">TAT</a>                                   <span class="co">#  GET ORIGINAL TIME</span>
040153,000041: 42,3667           54115                                    <a href="LUNAR_AND_SOLAR_EPHEMERIDES_SUBROUTINES.agc.html#4C554E504F53">LUNPOS</a>                                <span class="co">#  COMPUTE POSITION VECTOR OF MOON</span>
040154,000042: 42,3670           57455                           <span class="in">VAD     </span> <span class="in">VCOMP     </span>                            <span class="co">#  R= -(REM+RCM) = NEG. OF S/C POS. VEC</span>
040155,000043: 42,3671           00003                                    <a href="#52434D">RCM</a>                                   
040156,000044: 42,3672           77650                           <span class="in">GOTO    </span>                                       
040157,000045: 42,3673           65676                                    <a href="#4549534F49">EISOI</a>      +2                         
<a name="4549534F49"></a>040158,000046: 42,3674           57575        <span class="sm">EISOI   </span>           <span class="in">VLOAD   </span> <span class="in">VCOMP     </span>                            <span class="co">#  EARTH, R= -RCM</span>
040159,000047: 42,3675           00001                                    <a href="ORBITAL_INTEGRATION.agc.html#52415454">RATT</a>                                  
040160,000048: 42,3676           64201                           <span class="in">SETPD   </span> <span class="in">MXV       </span>                            <span class="co">#  RCS TO STABLE MEMBER- B-1X B-29X B+1</span>
040161,000049: 42,3677           00003                                    2D                                    <span class="co">#  2D</span>
040162,000050: 42,3700           01736                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#524546534D4D4154">REFSMMAT</a>                              <span class="co">#  STABLE MEMBER.  B-1X B-29X B+1= B-29</span>
040163,000051: 42,3701           65372                           <span class="in">VSL1    </span> <span class="in">PDDL      </span>                            <span class="co">#  8D</span>
040164,000052: 42,3702           15334                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4849365A45524F53">HI6ZEROS</a>                              
040165,000053: 42,3703           24025                           <span class="in">STOVL   </span> <a href="#594157414E47">YAWANG</a>                                <span class="co">#  ZERO OUT YAWANG, SET UP FOR SMNB</span>
040166,000054: 42,3704           00003                                    <a href="#52434D">RCM</a>                                   <span class="co">#  TRANSFORMATION.  SM COORD.  SCALED B-29</span>
040167,000055: 42,3705           77624                           <span class="in">CALL    </span>                                       
040168,000056: 42,3706           47646                                    <a href="POWERED_FLIGHT_SUBROUTINES.agc.html#2A534D4E422A">*SMNB*</a>                                
040169,000057: 42,3707           00003                           <span class="in">STORE   </span> <a href="#52">R</a>                                     <span class="co">#  SAVE NAV. BASE COORDINATES</span>
040170,000058: 42,3710           63256                           <span class="in">UNIT    </span> <span class="in">PDVL      </span>                            <span class="co">#  14D</span>
040171,000059: 42,3711           00003                                    <a href="#52">R</a>                                     
040172,000060: 42,3712           72431                           <span class="in">VPROJ   </span> <span class="in">VSL2      </span>                            <span class="co">#  COMPUTE PROJECTION OF VECTOR INTO CM</span>
040173,000061: 42,3713           15326                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4849554E49545A">HIUNITZ</a>                               <span class="co">#  XY-PLANE, R-(R.UZ)UZ</span>
040174,000062: 42,3714           40045                           <span class="in">BVSU    </span> <span class="in">BOV       </span>                            <span class="co">#  CLEAR OVERFLOW INDICATOR IF SET</span>
040175,000063: 42,3715           00003                                    <a href="#52">R</a>                                     
040176,000064: 42,3716           65717                                    <a href="#434F56434E56">COVCNV</a>                                
<a name="434F56434E56"></a>040177,000065: 42,3717           40056        <span class="sm">COVCNV  </span>           <span class="in">UNIT    </span> <span class="in">BOV       </span>                            <span class="co">#  TEST OVERFLOW FOR INDICATION OF NULL</span>
040178,000066: 42,3720           65734                                    <a href="#4E4F41444A555354">NOADJUST</a>                              <span class="co">#  VECTOR</span>
040179,000067: 42,3721           50206                           <span class="in">PUSH    </span> <span class="in">DOT       </span>                            <span class="co">#  20D</span>
040180,000068: 42,3722           15332                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4849554E495458">HIUNITX</a>                               <span class="co">#  COMPUTE YAW ANGLE = ACOS (URP.UX)</span>
040181,000069: 42,3723           65552                           <span class="in">SL1     </span> <span class="in">ACOS      </span>                            <span class="co">#  REVOLUTIONS SCALED B0</span>
040182,000070: 42,3724           50315                           <span class="in">PDVL    </span> <span class="in">DOT       </span>                            <span class="co">#  22D YAWANG</span>
040183,000071: 42,3725           00017                                    <a href="#555250">URP</a>                                   
040184,000072: 42,3726           15330                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4849554E495459">HIUNITY</a>                               <span class="co">#  COMPUTE FOLLOWING- URP.UY</span>
040185,000073: 42,3727           51152                           <span class="in">SL1     </span> <span class="in">BPL       </span>                            <span class="co">#  POSITIVE</span>
040186,000074: 42,3730           65734                                    <a href="#4E4F41444A555354">NOADJUST</a>                              <span class="co">#  YES, 0-180 DEGREES</span>
040187,000075: 42,3731           45345                           <span class="in">DLOAD   </span> <span class="in">DSU       </span>                            <span class="co">#  NO, 181-360 DEGREES 20D</span>
040188,000076: 42,3732           15342                                    <a href="INTERPRETIVE_CONSTANTS.agc.html#4450504F534D4158">DPPOSMAX</a>                              <span class="co">#  COMPUTE 2 PI MINUS YAW ANGLE</span>
040189,000077: 42,3733           77606                           <span class="in">PUSH    </span>                                       <span class="co">#  22D YAWANG</span>
<a name="4E4F41444A555354"></a>040190,000078: 42,3734           50375        <span class="sm">NOADJUST</span>           <span class="in">VLOAD   </span> <span class="in">DOT       </span>                            <span class="co">#  COMPUTE PITCH ANGLE</span>
040191,000079: 42,3735           00011                                    <a href="#5552">UR</a>                                    <span class="co">#  ACOS (UR.UZ) - PI/2</span>
040192,000080: 42,3736           15326                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4849554E49545A">HIUNITZ</a>                               
040193,000081: 42,3737           65552                           <span class="in">SL1     </span> <span class="in">ACOS      </span>                            <span class="co">#  REVOLUTIONS B0</span>
040194,000082: 42,3740           77625                           <span class="in">DSU     </span>                                       
040195,000083: 42,3741           15324                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#48494450312F34">HIDP1/4</a>                               
040196,000084: 42,3742           16321                           <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#52484F5342">RHOSB</a>                                 
040197,000085: 42,3743           00025                                    <a href="#594157414E47">YAWANG</a>                                
040198,000086: 42,3744           02323                           <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#47414D4D415342">GAMMASB</a>                               <span class="co">#  PATCH FOR CHECKOUT</span>
040199,000087: 42,3745           77776                           <span class="in">EXIT    </span>                                       
040200,000088: 42,3746           31044                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4558545642414354">EXTVBACT</a>                              <span class="co">#  IS BIT 5 STILL ON</span>
040201,000089: 42,3747           75027                           <span class="op">MASK    </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#42495435">BIT5</a>                                  
040202,000090: 42,3750           00006                           <span class="op">EXTEND  </span>                                       
040203,000091: 42,3751           15550                           <span class="op">BZF     </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#454E44455854">ENDEXT</a>                                <span class="co">#  NO, WE HAVE BEEN ANSWERED</span>
040204,000092: 42,3752           33766                           <span class="op">CAF     </span> <a href="#5630364E3531">V06N51</a>                                <span class="co">#  DISPLAY ANGLES</span>
040205,000093: 42,3753           04676                           <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#42414E4B43414C4C">BANKCALL</a>                              
040206,000094: 42,3754           20600                           <span class="ps">CADR    </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#474F4D41524B4652">GOMARKFR</a>                              
040207,000095: 42,3755           05641                           <span class="op">TC      </span> <a href="SERVICE_ROUTINES.agc.html#42354F4646">B5OFF</a>                                 <span class="co">#  TERMINATE</span>
040208,000096: 42,3756           05641                           <span class="op">TC      </span> <a href="SERVICE_ROUTINES.agc.html#42354F4646">B5OFF</a>                                 
040209,000097: 42,3757           05233                           <span class="op">TC      </span> <a href="EXECUTIVE.agc.html#454E444F464A4F42">ENDOFJOB</a>                              <span class="co">#  RECYCLE</span>
040210,000098: 42,3760           35031                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#42495433">BIT3</a>                                  <span class="co">#  IMMEDIATE RETURN</span>
040211,000099: 42,3761           05542                           <span class="op">TC      </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#424C414E4B4554">BLANKET</a>                               <span class="co">#  BLANK R3</span>
040212,000100: 42,3762           35033                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#42495431">BIT1</a>                                  <span class="co">#  DELAY MINIMUM TIME TO ALLOW DISPLAY IN</span>
040213,000101: 42,3763           04676                           <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#42414E4B43414C4C">BANKCALL</a>                              
040214,000102: 42,3764           01732                           <span class="ps">CADR    </span> <a href="SERVICE_ROUTINES.agc.html#44454C41594A4F42">DELAYJOB</a>                              
040215,000103: 42,3765           13651                           <span class="op">TCF     </span> <a href="#5342414E44414E54">SBANDANT</a>                              
<a name="5630364E3531"></a>040216,000104: 42,3766           01463        <span class="sm">V06N51  </span>           <span class="ps">VN      </span> 0651                                  
<a name="52434D"></a>040217,000105: 42,3767                        <span class="sm">RCM     </span>           <span class="ps">EQUALS  </span> 2D                                    
<a name="5552"></a>040218,000106: 42,3767                        <span class="sm">UR      </span>           <span class="ps">EQUALS  </span> 8D                                    
<a name="555250"></a>040219,000107: 42,3767                        <span class="sm">URP     </span>           <span class="ps">EQUALS  </span> 14D                                   
<a name="594157414E47"></a>040220,000108: 42,3767                        <span class="sm">YAWANG  </span>           <span class="ps">EQUALS  </span> 20D                                   
<a name="5049544348414E47"></a>040221,000109: 42,3767                        <span class="sm">PITCHANG</span>           <span class="ps">EQUALS  </span> 22D                                   
<a name="52"></a>040222,000110: 42,3767  0000002               <span class="sm">R       </span>           <span class="ps">EQUALS  </span> <a href="#52434D">RCM</a>                                   
040223,000111: 42,3767  30,2000                                  <span class="ps">SBANK=  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4C4F575355504552">LOWSUPER</a>                              
040224,000112: 

End of include-file S-BAND_ANTENNA_FOR_CM.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
