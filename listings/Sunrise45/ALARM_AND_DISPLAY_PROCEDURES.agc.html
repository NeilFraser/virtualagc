<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source-code files are part of a reconstructed copy of Sunrise 45, the
penultimate release of the Block I Command Module (CM) Apollo Guidance Computer
(AGC) system test software.
<br><br>
They have been created via disassembly of binary dumps of original core rope
memory modules, part numbers 1003133-18, 1003133-19, and 1003133-20. Corresponding
portions of code have been copied from Solarium 55 where applicable. Extensive
use was also made of the AGC Information Series documents, which were specifically
written about the Sunrise software.
<br><br>
Since only binary dumps (rather than listings) of Sunrise are available as source material, 
all comments and labels are approximate.
They have been taken from other AGC programs where possible, or, in some places, written
from scratch to match what we believe would have been in the original listing.
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
006986,000002:                                                                                                  <span class="co">## Copyright:   Public domain.</span>
006987,000003:                                                                                                  <span class="co">## Filename:    ALARM_AND_DISPLAY_PROCEDURES.agc</span>
006988,000004:                                                                                                  <span class="co">## Purpose:     A section of Sunrise 45.</span>
006989,000005:                                                                                                  <span class="co">##              It is part of the reconstructed source code for the penultimate</span>
006990,000006:                                                                                                  <span class="co">##              release of the Block I Command Module system test software. No</span>
006991,000007:                                                                                                  <span class="co">##              original listings of this program are available; instead, this</span>
006992,000008:                                                                                                  <span class="co">##              file was created via disassembly of dumps of Sunrise core rope</span>
006993,000009:                                                                                                  <span class="co">##              memory modules and comparison with the later Block I program</span>
006994,000010:                                                                                                  <span class="co">##              Solarium 55.</span>
006995,000011:                                                                                                  <span class="co">## Assembler:   yaYUL --block1</span>
006996,000012:                                                                                                  <span class="co">## Contact:     Ron Burkey &lt;info@sandroid.org>.</span>
006997,000013:                                                                                                  <span class="co">## Website:     www.ibiblio.org/apollo/index.html</span>
006998,000014:                                                                                                  <span class="co">## Mod history: 2022-12-09 MAS  Initial reconstructed source.</span>
006999,000015: 
007000,000016: 
007001,000017:                                                                                                  <span class="co">#        THE FOLLOWING SUBROUTINE MAY BE CALLED TO DISPLAY A NON-ABORTIVE ALARM CONDITION. IT MAY BE CALLED</span>
007002,000018:                                                                                                  <span class="co">#  EITHER IN INTERRUPT OR UNDER EXECUTIVE CONTROL.</span>
007003,000019: 
007004,000020:                                                                                                  <span class="co">#        CALLING SEQUENCE IS AS FOLLOWS:</span>
007005,000021: 
007006,000022:                                                                                                  <span class="co">#        TC      ALARM</span>
007007,000023:                                                                                                  <span class="co">#        OCT     AAANN           ALARM NO. NN IN GENERAL AREA AAA.</span>
007008,000024:                                                                                                  <span class="co">#                                (RETURNS HERE)</span>
007009,000025: 
007010,000026:    2605                                           <span class="ps">BANK    </span> 1                                     
<a name="414C41524D"></a>007011,000027:    2605           20017        <span class="sm">ALARM   </span>           <span class="op">INHINT  </span>                                       
007012,000028:    2606           30001                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
007013,000029:    2607           50572                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5031">ITEMP1</a>                                
007014,000030: 
007015,000031:    2610           10756                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               <span class="co">#  SEE IF ONE FAILURE HAS OCCURRED SINCE</span>
007016,000032:                                                                                                  <span class="co">#   THE LAST ERROR RESET.</span>
007017,000033:    2611           02617                           <span class="op">TC      </span> <a href="#4D554C544641494C">MULTFAIL</a>                              <span class="co">#  YES - INDICATE MULTIPLE FAILURES.</span>
007018,000034:    2612           02622                           <span class="op">TC      </span> <a href="#4E4557414C41524D">NEWALARM</a>                              <span class="co">#  FIRST SINCE RESET.</span>
<a name="4D554C5445584954"></a>007019,000035:    2613           30572        <span class="sm">MULTEXIT</span>           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5031">ITEMP1</a>                                <span class="co">#  FREE ITEMP1 BEFORE RELINT.</span>
007020,000036: 
<a name="454E44414C41524D"></a>007021,000037:    2614           20016        <span class="sm">ENDALARM</span>           <span class="op">RELINT  </span>                                       
007022,000038:    2615           20000                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
007023,000039:    2616           00001                           <span class="op">TC      </span> 1                                     <span class="co">#  RETURN TO CALLER.</span>
007024,000040: 
<a name="4D554C544641494C"></a>007025,000041:    2617           64663        <span class="sm">MULTFAIL</span>           <span class="op">AD      </span> <a href="FIXED-FIXED_INTERPRETER_SECTION.agc.html#435351">CSQ</a>                                   <span class="co">#  BIT 15 = 1 INDICATES MULTIPLE FAILURES.</span>
007026,000042:    2620           50756                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               <span class="co">#  CSQ = BIT15 + BIT1.</span>
007027,000043:    2621           02613                           <span class="op">TC      </span> <a href="#4D554C5445584954">MULTEXIT</a>                              
007028,000044: 
<a name="4E4557414C41524D"></a>007029,000045:    2622           30572        <span class="sm">NEWALARM</span>           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5031">ITEMP1</a>                                <span class="co">#  SAVE RETURN ADDRESS FOR CALL TO NOVAC.</span>
007030,000046:    2623           50756                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               
007031,000047: 
007032,000048:    2624           02643                           <span class="op">TC      </span> <a href="#50524F474C41524D">PROGLARM</a>                              <span class="co">#  TURN ON THE PROGRAM ALARM LIGHT.</span>
007033,000049: 
007034,000050:    2625           32650                           <span class="op">CAF     </span> <a href="#414C41524D5052">ALARMPR</a>                               
007035,000051:    2626           02043                           <span class="op">TC      </span> <a href="EXECUTIVE.agc.html#4E4F564143">NOVAC</a>                                 
007036,000052:    2627           02634                           <span class="ps">CADR    </span> <a href="#444F414C41524D">DOALARM</a>                               <span class="co">#  CALL (SEPARATE) JOB FOR DISPLAY.</span>
007037,000053: 
007038,000054:    2630           20756                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               <span class="co">#  (RETURN ADDRESS AT THIS POINT).</span>
007039,000055:    2631           30000                           <span class="op">CAF     </span> 0                                     
007040,000056:    2632           30756                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               <span class="co">#  SET FAILREG AND GET BACK RETURN ADDRESS.</span>
007041,000057:    2633           02614                           <span class="op">TC      </span> <a href="#454E44414C41524D">ENDALARM</a>                              
007042,000058: 
007043,000059: 
007044,000060:                                                                                                  <span class="co">#        JOB WHICH CALLS NVSUB FOR ALARM DISPLAY.</span>
007045,000061: 
<a name="444F414C41524D"></a>007046,000062:    2634           03025        <span class="sm">DOALARM </span>           <span class="op">TC      </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#47524142445350">GRABDSP</a>                               <span class="co">#  DISPLAY FAILREG.</span>
007047,000063:    2635           03033                           <span class="op">TC      </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#50524547425359">PREGBSY</a>                               
007048,000064:    2636           32651                           <span class="op">CAF     </span> <a href="#4641494C44495350">FAILDISP</a>                              
007049,000065:    2637           02670                           <span class="op">TC      </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#4E56535542">NVSUB</a>                                 
007050,000066:    2640           03040                           <span class="op">TC      </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#5052454E56425359">PRENVBSY</a>                              
007051,000067:    2641           03107                           <span class="op">TC      </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#46524545445350">FREEDSP</a>                               
007052,000068:    2642           02115                           <span class="op">TC      </span> <a href="EXECUTIVE.agc.html#454E444F464A4F42">ENDOFJOB</a>                              
007053,000069: 
007054,000070: 
<a name="50524F474C41524D"></a>007055,000071:    2643           44516        <span class="sm">PROGLARM</span>           <span class="op">CS      </span> <a href="FIXED-FIXED_INTERPRETER_SECTION.agc.html#4F4E45">ONE</a>                                   <span class="co">#  TURNS ON PROGRAM FAIL LIGHT ON THE</span>
007056,000072:    2644           70011                           <span class="op">MASK    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4F555431">OUT1</a>                                  <span class="co">#  PANEL.  CALLED ONLY BY ALARM AND ABORT.</span>
007057,000073:    2645           64516                           <span class="op">AD      </span> <a href="FIXED-FIXED_INTERPRETER_SECTION.agc.html#4F4E45">ONE</a>                                   
007058,000074:    2646           50011                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4F555431">OUT1</a>                                  
007059,000075:    2647           00001                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
007060,000076: 
<a name="414C41524D5052"></a>007061,000077:    2650           37000        <span class="sm">ALARMPR </span>           <span class="ps">OCT     </span> 37000                                 
<a name="4641494C44495350"></a>007062,000078:    2651           00131        <span class="sm">FAILDISP</span>           <span class="ps">OCT     </span> 00131                                 
007063,000079: 
007064,000080: 
007065,000081:                                                                                                  <span class="co">#        THE FOLLOWING ROUTINE IS CALLED TO INITIATE AN ABORT. FAILREG IS SET (ACCORDING TO THE MULTIPLE</span>
007066,000082:                                                                                                  <span class="co">#  FAILURES CONVENTION) AND A RE-START IS INITIATED BY TC-SELF. THIS IS CALLED ONLY UNDER RARE CIRCUMSTANCES.</span>
007067,000083: 
<a name="41424F5254"></a>007068,000084:    2652           20017        <span class="sm">ABORT   </span>           <span class="op">INHINT  </span>                                       <span class="co">#  MAY BE CALLED IN INTERRUPT OR UNDER EXEC</span>
007069,000085:    2653           20001                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  PICK UP FAILURE CODE.</span>
007070,000086:    2654           30000                           <span class="op">CAF     </span> 0                                     
007071,000087:    2655           50572                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5031">ITEMP1</a>                                
007072,000088: 
007073,000089:    2656           10756                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               <span class="co">#  SEE IF THIS IS A MULTIPLE FAILURE.</span>
007074,000090:    2657           02662                           <span class="op">TC      </span> <a href="#5345544D554C5446">SETMULTF</a>                              <span class="co">#  SET BIT 15 TO INDICATE YES.</span>
007075,000091:    2660           02664                           <span class="op">TC      </span> <a href="#4E455741424F5254">NEWABORT</a>                              <span class="co">#  FIRST FAILURE.</span>
007076,000092: 
<a name="5748494D504552"></a>007077,000093:    2661           02661        <span class="sm">WHIMPER </span>           <span class="op">TC      </span> <a href="#5748494D504552">WHIMPER</a>                               <span class="co">#  NOT WITH A BANG...</span>
007078,000094: 
<a name="5345544D554C5446"></a>007079,000095:    2662           64663        <span class="sm">SETMULTF</span>           <span class="op">AD      </span> <a href="FIXED-FIXED_INTERPRETER_SECTION.agc.html#435351">CSQ</a>                                   <span class="co">#  RESTORE AND SET BIT15</span>
007080,000096:    2663           02666                           <span class="op">TC      </span> +3                                    
007081,000097: 
<a name="4E455741424F5254"></a>007082,000098:    2664           02643        <span class="sm">NEWABORT</span>           <span class="op">TC      </span> <a href="#50524F474C41524D">PROGLARM</a>                              <span class="co">#  FIRST FAILURE - TURN ON ALARM LIGHT.</span>
007083,000099:    2665           30572                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5031">ITEMP1</a>                                
007084,000100:    2666           50756                 +3        <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               
007085,000101:    2667           02661                           <span class="op">TC      </span> <a href="#5748494D504552">WHIMPER</a>                               <span class="co">#  UNIVERSAL ABORT LOCATION.</span>
007086,000102: 
<a name="454E444641494C46"></a>007087,000103:    2670                        <span class="sm">ENDFAILF</span>           <span class="ps">EQUALS  </span>                                       
007088,000104: 
007089,000105: 05,7634                                           <span class="ps">SETLOC  </span> 13634                                 
<a name="444F414C41524D32"></a>007090,000106: 05,7634           03025        <span class="sm">DOALARM2</span>           <span class="op">TC      </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#47524142445350">GRABDSP</a>                               <span class="co">#  DISPLAY FAILREG.</span>
007091,000107: 05,7635           03033                           <span class="op">TC      </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#50524547425359">PREGBSY</a>                               
007092,000108: 05,7636           32651                           <span class="op">CAF     </span> <a href="#4641494C44495350">FAILDISP</a>                              
007093,000109: 05,7637           02670                           <span class="op">TC      </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#4E56535542">NVSUB</a>                                 
007094,000110: 05,7640           03040                           <span class="op">TC      </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#5052454E56425359">PRENVBSY</a>                              
<a name="454E444D4B445350"></a>007095,000111: 05,7641           03107        <span class="sm">ENDMKDSP</span>           <span class="op">TC      </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#46524545445350">FREEDSP</a>                               
007096,000112: 05,7642           02115                           <span class="op">TC      </span> <a href="EXECUTIVE.agc.html#454E444F464A4F42">ENDOFJOB</a>                              

End of include-file ALARM_AND_DISPLAY_PROCEDURES.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
