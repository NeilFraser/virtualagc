<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source-code files are part of a reconstructed copy of Sunrise 45, the
penultimate release of the Block I Command Module (CM) Apollo Guidance Computer
(AGC) system test software.
<br><br>
They have been created via disassembly of binary dumps of original core rope
memory modules, part numbers 1003133-18, 1003133-19, and 1003133-20. Corresponding
portions of code have been copied from Solarium 55 where applicable. Extensive
use was also made of the AGC Information Series documents, which were specifically
written about the Sunrise software.
<br><br>
Since only binary dumps (rather than listings) of Sunrise are available as source material, 
all comments and labels are approximate.
They have been taken from other AGC programs where possible, or, in some places, written
from scratch to match what we believe would have been in the original listing.
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
006898,000002:                                                                                                  <span class="co">## Copyright:   Public domain.</span>
006899,000003:                                                                                                  <span class="co">## Filename:    INTER-BANK_COMMUNICATION.agc</span>
006900,000004:                                                                                                  <span class="co">## Purpose:     A section of Sunrise 45.</span>
006901,000005:                                                                                                  <span class="co">##              It is part of the reconstructed source code for the penultimate</span>
006902,000006:                                                                                                  <span class="co">##              release of the Block I Command Module system test software. No</span>
006903,000007:                                                                                                  <span class="co">##              original listings of this program are available; instead, this</span>
006904,000008:                                                                                                  <span class="co">##              file was created via disassembly of dumps of Sunrise core rope</span>
006905,000009:                                                                                                  <span class="co">##              memory modules and comparison with the later Block I program</span>
006906,000010:                                                                                                  <span class="co">##              Solarium 55.</span>
006907,000011:                                                                                                  <span class="co">## Assembler:   yaYUL --block1</span>
006908,000012:                                                                                                  <span class="co">## Contact:     Ron Burkey &lt;info@sandroid.org>.</span>
006909,000013:                                                                                                  <span class="co">## Website:     www.ibiblio.org/apollo/index.html</span>
006910,000014:                                                                                                  <span class="co">## Mod history: 2022-12-09 MAS  Initial reconstructed source.</span>
006911,000015: 
006912,000016: 
006913,000017:                                                                                                  <span class="co">#        THE FOLLOWING SUBROUTINES ARE INTENDED TO FACILITATE INTER-BANK COMMUNICATION. ROUTINES ARE PROVIDED</span>
006914,000018:                                                                                                  <span class="co">#  FOR JUMPING TO A LOCATION IN ANOTHER BANK, CALLING A SUBROUTINE IN ANOTHER BANK, AND OBTAINING DATA FROM ANOTHER</span>
006915,000019:                                                                                                  <span class="co">#  BANK. IN ADDITION, A ROUTINE IS PROVIDED FOR MAKING UP A RETURN_ADDRESS CADR FOR USE BY THE CALLED SUBROUTINE.</span>
006916,000020: 
006917,000021:    2516                                           <span class="ps">BANK    </span> 1                                     
<a name="42414E4B43414C4C"></a>006918,000022:    2516           50061        <span class="sm">BANKCALL</span>           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414444525744">ADDRWD</a>                                <span class="co">#  SUBROUTINE CALL WITH TRANSMISSION BOTH</span>
006919,000023:    2517           30001                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  WAYS IN A. THE CADR OF THE CALLED</span>
006920,000024:    2520           64516                           <span class="op">AD      </span> <a href="FIXED-FIXED_INTERPRETER_SECTION.agc.html#4F4E45">ONE</a>                                   <span class="co">#  ROUTINE SHOULD IMMEDIATELY FOLLOW THE</span>
006921,000025:    2521           50001                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  TC BANKCALL.</span>
006922,000026:    2522           20000                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
006923,000027:    2523           27777                           <span class="op">CAF     </span> 0          -1                         <span class="co">#  PICK UP CADR AND FALL INTO SWCALL.</span>
006924,000028: 
<a name="535743414C4C"></a>006925,000029:    2524           50070        <span class="sm">SWCALL  </span>           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D5153">TEMQS</a>                                 <span class="co">#  SWCALL IS ALOS USED TO CALL SUBROUTINES</span>
006926,000030:    2525           30015                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42414E4B524547">BANKREG</a>                               <span class="co">#  IN OTHER BANKS, BUT THE CADR ARRIVES IN</span>
006927,000031:    2526           50071                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42414E4B54454D">BANKTEM</a>                               <span class="co">#  A. DATA MAY BE TRANSMITTED BACK TO THE</span>
006928,000032:    2527           30001                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  CALLING PROGRAM IN A, HOWEVER. </span>
006929,000033:    2530           30070                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D5153">TEMQS</a>                                 <span class="co">#  RETURN INFORMATION NOW COMPLETE.</span>
006930,000034:    2531           50113                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#455343415045">ESCAPE</a>                                
006931,000035:    2532           72201                           <span class="op">MASK    </span> <a href="WAITLIST.agc.html#37304B">70K</a>                                   <span class="co">#  PROVISION FOR CALLING A ROUTINE IN</span>
006932,000036:    2533           10000                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     <span class="co">#  FIXED-FIXED (OF QUESTIONABLE VALUE).</span>
006933,000037:    2534           02536                           <span class="op">TC      </span> +2                                    <span class="co">#  SPECIAL TREATMENT REQUIRED IF NON-ZERO.</span>
006934,000038:    2535           02540                           <span class="op">TC      </span> +3                                    <span class="co">#  INPUT CADR OK AS IS.</span>
006935,000039: 
006936,000040:    2536           40015                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42414E4B524547">BANKREG</a>                               <span class="co">#  FORM PROPER 12 BIT ADDRESS.</span>
006937,000041:    2537           64373                           <span class="op">AD      </span> <a href="FIXED-FIXED_INTERPRETER_SECTION.agc.html#364B">6K</a>                                    
006938,000042:    2540           60113                 +3        <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#455343415045">ESCAPE</a>                                <span class="co">#  PROPER CADRS COME HERE WITH C(A) = 0.</span>
006939,000043:    2541           30061                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414444525744">ADDRWD</a>                                <span class="co">#  SO A CAN TRANSMIT WITH BANKCALL.</span>
006940,000044:    2542           20061                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414444525744">ADDRWD</a>                                
006941,000045:    2543           00000                           <span class="op">TC      </span> 0                                     <span class="co">#  SETTING Q TO SWRETURN.</span>
006942,000046: 
<a name="535752455455524E"></a>006943,000047:    2544           30071        <span class="sm">SWRETURN</span>           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42414E4B54454D">BANKTEM</a>                               <span class="co">#  RETURN TO CALLER, TRANSMITTING THROUGH A</span>
006944,000048:    2545           50015                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42414E4B524547">BANKREG</a>                               
006945,000049:    2546           30071                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42414E4B54454D">BANKTEM</a>                               <span class="co">#  RESTORE A AS UPON ARRIVAL TO SWRETURN.</span>
006946,000050:    2547           00070                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D5153">TEMQS</a>                                 <span class="co">#  RETURN.</span>
006947,000051: 
006948,000052: 
<a name="4D414B4543414452"></a>006949,000053:    2550           35500        <span class="sm">MAKECADR</span>           <span class="op">CAF     </span> <a href="FIXED-FIXED_INTERPRETER_SECTION.agc.html#5A45524F">ZERO</a>                                  <span class="co">#  LEAVES RETURN-ADDRESS CADR (AS SET BY</span>
006950,000054:    2551           60070                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D5153">TEMQS</a>                                 <span class="co">#  SWCALL OR BANKCALL) IN ADDRWD.</span>
006951,000055:    2552           50061                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414444525744">ADDRWD</a>                                
006952,000056:    2553           62562                           <span class="op">AD      </span> <a href="#33324B">32K</a>                                   <span class="co">#  SEE IF BANK INFORMATION NEEDED (USUAL).</span>
006953,000057:    2554           50034                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4F56435452">OVCTR</a>                                 
006954,000058:    2555           00001                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  ADDRWD SET OK IF NO OVERFLOW (IN FF).</span>
006955,000059: 
006956,000060:    2556           30034                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4F56435452">OVCTR</a>                                 <span class="co">#  CONTAINS LOW 10 BITS ONLY.</span>
006957,000061:    2557           60071                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42414E4B54454D">BANKTEM</a>                               
006958,000062:    2560           50061                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414444525744">ADDRWD</a>                                <span class="co">#  RETURN CADR NOW COMPLETE.</span>
006959,000063:    2561           00001                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
006960,000064: 
<a name="33324B"></a>006961,000065:    2562           32000        <span class="sm">32K     </span>           <span class="ps">OCT     </span> 32000                                 
<a name="504F53544A554D50"></a>006962,000066:    2563           30001        <span class="sm">POSTJUMP</span>           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  ONE-WAY BANK TO BANK JUMP, WITH NO</span>
006963,000067:    2564           20000                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     <span class="co">#  RETURN ADDRESS. THIS VERSION TRANSMITS</span>
006964,000068:    2565           30000                           <span class="op">CAF     </span> 0                                     <span class="co">#  THROUGH A IF DESIRED.</span>
006965,000069: 
<a name="42414E4B4A554D50"></a>006966,000070:    2566           50015        <span class="sm">BANKJUMP</span>           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42414E4B524547">BANKREG</a>                               <span class="co">#  SAME AS ABOVE ONLY ADDRESS ARRIVES IN A.</span>
006967,000071:    2567           74605                           <span class="op">MASK    </span> <a href="FIXED-FIXED_INTERPRETER_SECTION.agc.html#4C4F573130">LOW10</a>                                 <span class="co">#  BANKJUMP AND POSTJUMP MAY BE USED IN</span>
006968,000072:    2570           30001                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  INTERRUPT OR UNDER EXEC, BUT BANKCALL</span>
006969,000073:    2571           20001                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  AND SWCALL MAY BE USED ONLY UNDER EXEC.</span>
006970,000074:    2572           06000                           <span class="op">TC      </span> 6000                                  
006971,000075: 
006972,000076: 
<a name="4441544143414C4C"></a>006973,000077:    2573           50113        <span class="sm">DATACALL</span>           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#455343415045">ESCAPE</a>                                <span class="co">#  SUBROUTINE TO RETRIEVE DATA IN ANOTHER</span>
006974,000078:    2574           30015                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42414E4B524547">BANKREG</a>                               <span class="co">#  BANK. THE CADR OF THE LOCATION OF INTER-</span>
006975,000079:    2575           30113                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#455343415045">ESCAPE</a>                                <span class="co">#  EST ARRIVES IN A AND ITS CONTENTS ARE IN</span>
006976,000080:    2576           74605                           <span class="op">MASK    </span> <a href="FIXED-FIXED_INTERPRETER_SECTION.agc.html#4C4F573130">LOW10</a>                                 <span class="co">#  A ON EXIT. THIS MAY BE USED ONLY UNDER</span>
006977,000081:    2577           20000                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     <span class="co">#  EXECUTIVE.</span>
006978,000082:    2600           36000                           <span class="op">CAF     </span> 6000                                  <span class="co">#  REQUESTED DATA NOW ACQUIRED.</span>
006979,000083: 
006980,000084:    2601           30113                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#455343415045">ESCAPE</a>                                
006981,000085:    2602           50015                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42414E4B524547">BANKREG</a>                               
006982,000086:    2603           30113                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#455343415045">ESCAPE</a>                                
006983,000087:    2604           00001                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     

End of include-file INTER-BANK_COMMUNICATION.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
