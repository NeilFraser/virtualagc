<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
This is a reconstruction of the AGC program Luminary 99 Rev 0. It was the third release
of the Lunar Module flight software targeted for use in Apollo 11, after Luminary 96 and 97.
A bug (which had been around since at least Apollo 10, Luminary 69) was
discovered in Rev 0 shortly before the Apollo 11 flight, resulting in a last minute
revision into <a href="../Luminary099/MAIN.agc.html">Rev 1</a>, 
which is what actually flew rather than
the Rev 0 presented here.  A hardcopy of Rev 0 is known to
exist &mdash; it belonged to AGC developer Allan Klumpp for many years &mdash; but
unfortunately the Virtual AGC Project has not had access to that hardcopy.  Thus
the code you see here had been reconstructed (we believe accurately) rather than
transcribed.  The first step of the reconstruction of the Rev 0 source code was
the transcription of the Rev 1 source code from a hardcopy in the MIT Museum collection.
The process of reverting the active portion of the source code (i.e., other than
program comments) from Rev 1 to Rev 0 was very minor, consisting 
only of moving the position of the STARTSB1 label in <a href="FRESH_START_AND_RESTART.agc.html">
FRESH START AND RESTART</a>.  Allan had previously given
us the checksums of the memory banks of Rev 0, and we have verified the program presented here has checksums
identical to all banks of Allan's listing of Rev 0.  The notations on Allan's Rev 0 program listing read, 
in part:<br>
<br>
<pre>
	GAP:  ASSEMBLE REVISION 099 OF AGC PROGRAM LUMINARY BY NASA 2021112-051
</pre>
<br>
A single program comment is known to differ between Rev 0 and Rev 1, but these are
harder to reconstruct and verify than changes to the active portion of the code.  Thus
it is possible that there are additional differences between the program comments
in Rev 0 and Rev 1 that are unknown to us, and therefore are not reflected in the code
presented here.
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
035072,000002:                                                                                                  <span class="co">## Copyright:   Public domain.</span>
035073,000003:                                                                                                  <span class="co">## Filename:    THROTTLE_CONTROL_ROUTINES.agc</span>
035074,000004:                                                                                                  <span class="co">## Purpose:     Part of the reconstructed source code for LMY99 Rev 0,</span>
035075,000005:                                                                                                  <span class="co">##              otherwise known as Luminary Rev 99, the third release</span>
035076,000006:                                                                                                  <span class="co">##              of the Apollo Guidance Computer (AGC) software for Apollo 11.</span>
035077,000007:                                                                                                  <span class="co">##              It differs from LMY99 Rev 1 (the flown version) only in the</span>
035078,000008:                                                                                                  <span class="co">##              placement of a single label. The corrections shown here have</span>
035079,000009:                                                                                                  <span class="co">##              been verified to have the same bank checksums as AGC developer</span>
035080,000010:                                                                                                  <span class="co">##              Allan Klumpp's copy of Luminary Rev 99, and so are believed</span>
035081,000011:                                                                                                  <span class="co">##              to be accurate. This file is intended to be a faithful </span>
035082,000012:                                                                                                  <span class="co">##              recreation, except that the code format has been changed to </span>
035083,000013:                                                                                                  <span class="co">##              conform to the requirements of the yaYUL assembler rather than </span>
035084,000014:                                                                                                  <span class="co">##              the original YUL assembler.</span>
035085,000015:                                                                                                  <span class="co">##</span>
035086,000016:                                                                                                  <span class="co">## Assembler:   yaYUL</span>
035087,000017:                                                                                                  <span class="co">## Contact:     HARTMUTH GUTSCHE &lt;hgutsche@xplornet.com>.</span>
035088,000018:                                                                                                  <span class="co">## Website:     www.ibiblio.org/apollo.</span>
035089,000019:                                                                                                  <span class="co">## Pages:       793-797</span>
035090,000020:                                                                                                  <span class="co">## Mod history: 2009-05-20 HG   Transcribed from page images.</span>
035091,000021:                                                                                                  <span class="co">##              2010-12-31 JL   Fixed page number comments.</span>
035092,000022:                                                                                                  <span class="co">##              2016-12-16 RSB  Proofed text comments with octopus/ProoferComments</span>
035093,000023:                                                                                                  <span class="co">##                              and corrected the errors found.</span>
035094,000024:                                                                                                  <span class="co">##              2017-03-16 RSB  Comment-text fixes identified in 5-way</span>
035095,000025:                                                                                                  <span class="co">##                              side-by-side diff of Luminary 69/99/116/131/210.</span>
035096,000026:                                                                                                  <span class="co">##              2017-08-01 MAS  Created from LMY99 Rev 1.</span>
035097,000027: 
035098,000028:                                                                                                  <span class="co">## This source code has been transcribed or otherwise adapted from</span>
035099,000029:                                                                                                  <span class="co">## digitized images of a hardcopy from the MIT Museum.  The digitization</span>
035100,000030:                                                                                                  <span class="co">## was performed by Paul Fjeld, and arranged for by Deborah Douglas of</span>
035101,000031:                                                                                                  <span class="co">## the Museum.  Many thanks to both.  The images (with suitable reduction</span>
035102,000032:                                                                                                  <span class="co">## in storage size and consequent reduction in image quality as well) are</span>
035103,000033:                                                                                                  <span class="co">## available online at www.ibiblio.org/apollo.  If for some reason you</span>
035104,000034:                                                                                                  <span class="co">## find that the images are illegible, contact me at info@sandroid.org</span>
035105,000035:                                                                                                  <span class="co">## about getting access to the (much) higher-quality images which Paul</span>
035106,000036:                                                                                                  <span class="co">## actually created.</span>
035107,000037:                                                                                                  <span class="co">##</span>
035108,000038:                                                                                                  <span class="co">## The code has been modified to match LMY99 Revision 0, otherwise</span>
035109,000039:                                                                                                  <span class="co">## known as Luminary Revision 99, the Apollo 11 software release preceeding</span>
035110,000040:                                                                                                  <span class="co">## the listing from which it was transcribed. It has been verified to</span>
035111,000041:                                                                                                  <span class="co">## contain the same bank checksums as AGC developer Allan Klumpp's listing</span>
035112,000042:                                                                                                  <span class="co">## of Luminary Revision 99 (for which we do not have scans).</span>
035113,000043:                                                                                                  <span class="co">##</span>
035114,000044:                                                                                                  <span class="co">## Notations on Allan Klumpp's listing read, in part:</span>
035115,000045:                                                                                                  <span class="co">##</span>
035116,000046:                                                                                                  <span class="co">##      ASSEMBLE REVISION 099 OF AGC PROGRAM LUMINARY BY NASA 2021112-51</span>
035117,000047: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 793
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
035119,000049: 31,2216                                           <span class="ps">BANK    </span> 31                                    
035120,000050: 31,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#465448524F54">FTHROT</a>                                
035121,000051: 31,2000                                           <span class="ps">BANK    </span>                                       
035122,000052: 31,2216  E7,1612                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504946">PIF</a>                                   
035123,000053: 31,2216                                           <span class="ps">COUNT*  </span> $$/THROT                              
035124,000054: 
035125,000055:                                                                                                  <span class="co">#  * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *</span>
035126,000056:                                                                                                  <span class="co">#  HERE FC, DESIRED THRUST, AND FP, PRESENT THRUST, UNWEIGHTED, ARE COMPUTED.</span>
035127,000057: 
<a name="5448524F54544C45"></a>035128,000058: 31,2216           31246        <span class="sm">THROTTLE</span>           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414244454C56">ABDELV</a>                                <span class="co">#  COMPUTE PRESENT ACCELERATION IN UNITS OF</span>
035129,000059: 31,2217           00006                           <span class="op">EXTEND  </span>                                       <span class="co">#  2(-4) M/CS/CS, SAVING SERVICER TROUBLE</span>
035130,000060: 31,2220           72417                           <span class="op">MP      </span> <a href="#2F41462F434E5354">/AF/CNST</a>                              
035131,000061: 31,2221           00006                 +3        <span class="op">EXTEND  </span>                                       
035132,000062: 31,2222           23607                           <span class="op">QXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#52544E484F4C44">RTNHOLD</a>                               
<a name="414644554D50"></a>035133,000063: 31,2223           02400        <span class="sm">AFDUMP  </span>           <span class="op">TC      </span> <a href="#4D4153534D554C54">MASSMULT</a>                              
035134,000064: 31,2224           53470                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4650">FP</a>                                    <span class="co">#  FP = PRESENT THRUST</span>
035135,000065: 31,2225           00006                           <span class="op">EXTEND  </span>                                       
035136,000066: 31,2226           31464                           <span class="op">DCA     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#2F4146432F">/AFC/</a>                                 
035137,000067: 31,2227           02400                           <span class="op">TC      </span> <a href="#4D4153534D554C54">MASSMULT</a>                              
035138,000068: 31,2230           55615                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4643">FC</a>                                    <span class="co">#  FC = THRUST DESIRED BY GUIDANCE</span>
035139,000069: 31,2231           53466                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46434F4444">FCODD</a>                                 <span class="co">#  FCODD = WHAT IT IS GOING TO GET</span>
035140,000070: 
035141,000071:                                                                                                  <span class="co">#  IF IT HAS BEEN LESS THAN 3 SECONDS SINCE THE LAST THROTTLING, AUGMENT FP USING THE FWEIGHT CALCULATED THEN.</span>
035142,000072: 
035143,000073: 31,2232           41617                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#545448524F54">TTHROT</a>                                <span class="co">#  THIS CODING ASSUMES A FLATOUT WITHIN</span>
035144,000074: 31,2233           60025                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54494D4531">TIME1</a>                                 <span class="co">#        80 SECONDS BEFORE FIRST THROTTLE CALL</span>
035145,000075: 31,2234           74733                           <span class="op">MASK    </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#504F534D4158">POSMAX</a>                                
035146,000076: 31,2235           40000                           <span class="op">COM     </span>                                       
035147,000077: 31,2236           65002                           <span class="op">AD      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#3353454353">3SECS</a>                                 
035148,000078: 31,2237           00006                           <span class="op">EXTEND  </span>                                       
035149,000079: 31,2240           62244                           <span class="op">BZMF    </span> <a href="#5748455245544F">WHERETO</a>                               <span class="co">#  BRANCH IF (TIME1-TTHROT +1) > 3 SECONDS</span>
035150,000080: 31,2241           00006                           <span class="op">EXTEND  </span>                                       
035151,000081: 31,2242           31611                           <span class="op">DCA     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46574549474854">FWEIGHT</a>                               
035152,000082: 31,2243           21470                           <span class="op">DAS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4650">FP</a>                                    
035153,000083: 
035154,000084:                                                                                                  <span class="co">#      THIS LOGIC DETERMINES THE THROTTLING IN THE REGION 10% - 94%.  THE MANUAL THROTTLE, NOMINALLY SET AT</span>
035155,000085:                                                                                                  <span class="co">#  MINIMUM BY ASTRONAUT OR MISSION CONTROL PROGRAMS, PROVIDES THE LOWER BOUND.  A STOP IN THE THROTTLE HARDWARE</span>
035156,000086:                                                                                                  <span class="co">#  PROVIDES THE UPPER.</span>
035157,000087: 
<a name="5748455245544F"></a>035158,000088: 31,2244           35014        <span class="sm">WHERETO </span>           <span class="op">CA      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4542414E4B35">EBANK5</a>                                <span class="co">#  INITIALIZE L*WCR*T AND H*GHCR*T FROM</span>
035159,000089: 31,2245           54003                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4542414E4B">EBANK</a>                                 <span class="co">#        PAD LOADED ERASABLES IN W-MATRIX</span>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 794
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
035161,000091: 31,2246  E5,1506                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4F5743524954">LOWCRIT</a>                               
035162,000092: 31,2246           00006                           <span class="op">EXTEND  </span>                                       
035163,000093: 31,2247           31507                           <span class="op">DCA     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4F5743524954">LOWCRIT</a>                               
035164,000094: 31,2250           52131                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C2A5743522A54">L*WCR*T</a>                               
035165,000095: 31,2251           35016                           <span class="op">CA      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4542414E4B37">EBANK7</a>                                
035166,000096: 31,2252           54003                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4542414E4B">EBANK</a>                                 
035167,000097: 31,2253  E7,1612                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504946">PIF</a>                                   
035168,000098: 31,2253           44755                           <span class="op">CS      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#5A45524F">ZERO</a>                                  <span class="co">#  INITIALIZE PIFPSET</span>
035169,000099: 31,2254           55606                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#50494650534554">PIFPSET</a>                               
035170,000100: 31,2255           40131                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#482A474843522A54">H*GHCR*T</a>                              
035171,000101: 31,2256           61620                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46434F4C44">FCOLD</a>                                 
035172,000102: 31,2257           00006                           <span class="op">EXTEND  </span>                                       
035173,000103: 31,2260           62272                           <span class="op">BZMF    </span> <a href="#4C4F5746434F4C44">LOWFCOLD</a>                              <span class="co">#  BRANCH IF FCOLD &lt; OR = HIGHCRIT</span>
035174,000104: 31,2261           40130                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C2A5743522A54">L*WCR*T</a>                               
035175,000105: 31,2262           61465                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46434F4444">FCODD</a>                                 
035176,000106: 31,2263           00006                           <span class="op">EXTEND  </span>                                       
035177,000107: 31,2264           62267                           <span class="op">BZMF    </span> <a href="#46434F4D50534554">FCOMPSET</a>                              <span class="co">#  BRANCH IF FC &lt; OR = LOWCRIT</span>
035178,000108: 31,2265           31467                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4650">FP</a>                                    <span class="co">#  SEE NOTE 1</span>
035179,000109: 31,2266           12277                           <span class="op">TCF     </span> <a href="#464C41544F555431">FLATOUT1</a>                              
035180,000110: 
<a name="46434F4D50534554"></a>035181,000111: 31,2267           42002        <span class="sm">FCOMPSET</span>           <span class="op">CS      </span> <a href="CONTROLLED_CONSTANTS.agc.html#464D41584F4444">FMAXODD</a>                               <span class="co">#  SEE NOTE 2</span>
035182,000112: 31,2270           61467                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4650">FP</a>                                    
035183,000113: 31,2271           12301                           <span class="op">TCF     </span> <a href="#464C41544F555432">FLATOUT2</a>                              
035184,000114: 
<a name="4C4F5746434F4C44"></a>035185,000115: 31,2272           40131        <span class="sm">LOWFCOLD</span>           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#482A474843522A54">H*GHCR*T</a>                              
035186,000116: 31,2273           61465                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46434F4444">FCODD</a>                                 
035187,000117: 31,2274           00006                           <span class="op">EXTEND  </span>                                       
035188,000118: 31,2275           62302                           <span class="op">BZMF    </span> <a href="#444F504946">DOPIF</a>                                 <span class="co">#  BRANCH IF FC &lt; OR = HIGHCRIT</span>
035189,000119: 
035190,000120: 31,2276           32003                           <span class="op">CA      </span> <a href="CONTROLLED_CONSTANTS.agc.html#464D4158504F53">FMAXPOS</a>                               <span class="co">#  NO:  THROTTLE-UP</span>
<a name="464C41544F555431"></a>035191,000121: 31,2277           53466        <span class="sm">FLATOUT1</span>           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46434F4444">FCODD</a>                                 
035192,000122: 31,2300           34737                           <span class="op">CA      </span> <a href="#464558545241">FEXTRA</a>                                
<a name="464C41544F555432"></a>035193,000123: 31,2301           55606        <span class="sm">FLATOUT2</span>           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#50494650534554">PIFPSET</a>                               
035194,000124: 
035195,000125:                                                                                                  <span class="co">#  NOTE 1        FC IS SET EQUAL TO FP SO PIF WILL BE ZERO.  THIS IS DESIRABLE</span>
035196,000126:                                                                                                  <span class="co">#                AS THERE IS ACTUALLY NO THROTTLE CHANGE.</span>
035197,000127: 
035198,000128:                                                                                                  <span class="co">#  NOTE2         HERE, SINCE WE ARE ABOUT TO RETURN TO THE THROTTLEABLE REGION</span>
035199,000129:                                                                                                  <span class="co">#                (BELOW 55%) THE QUANTITY -(FMAXODD-FP) IS COMPUTED AND PUT</span>
035200,000130:                                                                                                  <span class="co">#                INTO PIFPSET TO COMPENSATE FOR THE DIFFERENCE BETWEEN THE</span>
035201,000131:                                                                                                  <span class="co">#                NUMBER OF BITS CORRESPONDING TO FULL THROTTLE (FMAXODD) AND THE</span>
035202,000132:                                                                                                  <span class="co">#                NUMBER CORRESPONDING TO ACTUAL THRUST (FP).  THUS THE TOTAL</span>
035203,000133:                                                                                                  <span class="co">#                THROTTLE COMMAND PIF = FC - FP - (FMAXODD - FP) = FC - FMAXODD.</span>
035204,000134: 
<a name="444F504946"></a>035205,000135: 31,2302           03740        <span class="sm">DOPIF   </span>           <span class="op">TC      </span> <a href="LUNAR_LANDING_GUIDANCE_EQUATIONS.agc.html#4641535443484E47">FASTCHNG</a>                              
035206,000136: 31,2303           00006                           <span class="op">EXTEND  </span>                                       
035207,000137: 31,2304           31466                           <span class="op">DCA     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46434F4444">FCODD</a>                                 
035208,000138: 31,2305           55620                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46434F4C44">FCOLD</a>                                 
035209,000139: 31,2306           53613                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504946">PIF</a>                                   
035210,000140: 31,2307           00006                           <span class="op">EXTEND  </span>                                       
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 795
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
035212,000142: 31,2310           41470                           <span class="op">DCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4650">FP</a>                                    
035213,000143: 31,2311           21613                           <span class="op">DAS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504946">PIF</a>                                   <span class="co">#  PIF = FC - FP, NEVER EQUALS +0</span>
035214,000144: 
<a name="444F4954"></a>035215,000145: 31,2312           31612        <span class="sm">DOIT    </span>           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504946">PIF</a>                                   
035216,000146: 31,2313           61606                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#50494650534554">PIFPSET</a>                               <span class="co">#  ADD IN PIFPSET, WITHOUT CHANGING PIF</span>
035217,000147: 31,2314           55614                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#50534555444F3535">PSEUDO55</a>                              
035218,000148: 31,2315           54055                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544852555354">THRUST</a>                                
035219,000149: 31,2316           34750                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#42495434">BIT4</a>                                  
035220,000150: 31,2317           00006                           <span class="op">EXTEND  </span>                                       
035221,000151: 31,2320           05014                           <span class="op">WOR     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4348414E3134">CHAN14</a>                                
035222,000152: 31,2321           30025                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54494D4531">TIME1</a>                                 
035223,000153: 31,2322           55617                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#545448524F54">TTHROT</a>                                
035224,000154: 
035225,000155:                                                                                                  <span class="co">#  SINCE /AF/ IS NOT AN INSTANTANEOUS ACCELERATION, BUT RATHER AN "AVERAGE" OF THE ACCELERATION LEVELS DURING</span>
035226,000156:                                                                                                  <span class="co">#  THE PRECEEDING PIPA INTERVAL, AND SINCE FP IS COMPUTED DIRECTLY FROM /AF/, FP IN ORDER TO CORRESPOND TO THE</span>
035227,000157:                                                                                                  <span class="co">#  ACTUAL THRUST LEVEL AT THE END OF THE INTERVAL MUST BE WEIGHTED BY</span>
035228,000158: 
035229,000159:                                                                                                  <span class="co">#                  PIF(PPROCESS + TL)     PIF /PIF/</span>
035230,000160:                                                                                                  <span class="co">#        FWEIGHT = ------------------ + -------------</span>
035231,000161:                                                                                                  <span class="co">#                       PGUID           2 PGUID FRATE</span>
035232,000162: 
035233,000163:                                                                                                  <span class="co">#  WHERE PPROCESS IS THE TIME BETWEEN PIPA READING AND THE START OF THROTTLING, PGUID IS THE GUIDANCE PERIOD, AND</span>
035234,000164:                                                                                                  <span class="co">#  FRATE IS THE THROTTLING RATE (32 UNITS PER CENTISECOND).  PGUID IS EITHER 1 OR 2 SECONDS.  THE "TL" IN THE</span>
035235,000165:                                                                                                  <span class="co">#  FIRST TERM REPRESENTS THE ENGINE'S RESPONSE LAG.  HERE FWEIGHT IS COMPUTED FOR USE NEXT PASS.</span>
035236,000166: 
035237,000167: 31,2323           31762                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5448495354504950">THISTPIP</a>   +1                         <span class="co">#  INITIALIZE FWEIGHT COMP AS IF FOR P66</span>
035238,000168: 31,2324           54130                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#425546">BUF</a>                                   
035239,000169: 
035240,000170: 31,2325           41011                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4D4F44524547">MODREG</a>                                <span class="co">#  ARE WE IN FACT IN P66?</span>
035241,000171: 31,2326           62501                           <span class="op">AD      </span> <a href="LUNAR_LANDING_GUIDANCE_EQUATIONS.agc.html#4445433636">DEC66</a>                                 
035242,000172: 31,2327           00006                           <span class="op">EXTEND  </span>                                       
035243,000173: 31,2330           12335                           <span class="op">BZF     </span> <a href="#4657434F4D50">FWCOMP</a>                                <span class="co">#  YES</span>
035244,000174: 
035245,000175: 31,2331           31235                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#50495054494D45">PIPTIME</a>    +1                         <span class="co">#  NO:  INITIALIZE FOR TWO SECOND PERIOD</span>
035246,000176: 31,2332           54130                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#425546">BUF</a>                                   
035247,000177: 31,2333           35003                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#3453454353">4SECS</a>                                 
035248,000178: 31,2334           12336                           <span class="op">TCF     </span> <a href="#4657434F4D50">FWCOMP</a>     +1                         
035249,000179: 
<a name="4657434F4D50"></a>035250,000180: 31,2335           35000        <span class="sm">FWCOMP  </span>           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#3253454353">2SECS</a>                                 
035251,000181: 31,2336           54002                 +1        <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
035252,000182: 31,2337           00006                           <span class="op">EXTEND  </span>                                       
035253,000183: 31,2340           74746                           <span class="op">MP      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#42495436">BIT6</a>                                  
035254,000184: 31,2341           22131                           <span class="op">LXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#425546">BUF</a>        +1                         
035255,000185: 31,2342           40130                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#425546">BUF</a>                                   <span class="co">#  TIME OF LAST PIPA READING.</span>
035256,000186: 31,2343           60025                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54494D4531">TIME1</a>                                 
035257,000187: 31,2344           62004                           <span class="op">AD      </span> <a href="CONTROLLED_CONSTANTS.agc.html#5448524F544C4147">THROTLAG</a>                              <span class="co">#  COMPENSATE FOR ENGINE RESPONSE LAG</span>
035258,000188: 31,2345           74357                           <span class="op">MASK    </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#4C4F5738">LOW8</a>                                  <span class="co">#  MAKE SURE SMALL AND POSITIVE</span>
035259,000189: 31,2346           22007                           <span class="op">ZL      </span>                                       
035260,000190: 31,2347           00006                           <span class="op">EXTEND  </span>                                       
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 796
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
035262,000192: 31,2350           10002                           <span class="op">DV      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
035263,000193: 31,2351           00006                           <span class="op">EXTEND  </span>                                       
035264,000194: 31,2352           71612                           <span class="op">MP      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504946">PIF</a>                                   
035265,000195: 31,2353           60000                           <span class="op">DOUBLE  </span>                                       
035266,000196: 31,2354           53611                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46574549474854">FWEIGHT</a>                               
035267,000197: 31,2355           11612                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504946">PIF</a>                                   
035268,000198: 31,2356           64753                           <span class="op">AD      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4F4E45">ONE</a>                                   
035269,000199: 31,2357           12361                           <span class="op">TCF     </span> +2                                    
035270,000200: 31,2360           64753                           <span class="op">AD      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4F4E45">ONE</a>                                   
035271,000201: 31,2361           00006                           <span class="op">EXTEND  </span>                                       
035272,000202: 31,2362           71612                           <span class="op">MP      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504946">PIF</a>                                   
035273,000203: 31,2363           00006                           <span class="op">EXTEND  </span>                                       
035274,000204: 31,2364           10131                           <span class="op">DV      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#425546">BUF</a>        +1                         
035275,000205: 31,2365           22007                           <span class="op">ZL      </span>                                       
035276,000206: 31,2366           21611                           <span class="op">DAS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46574549474854">FWEIGHT</a>                               
035277,000207: 
<a name="544844554D50"></a>035278,000208: 31,2367           01607        <span class="sm">THDUMP  </span>           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#52544E484F4C44">RTNHOLD</a>                               
035279,000209: 
035280,000210:                                                                                                  <span class="co">#  FLATOUT THROTTLES UP THE DESCENT ENGINE, AND IS CALLED AS A BASIC SUBROUTINE.</span>
035281,000211: 
<a name="464C41544F5554"></a>035282,000212: 31,2370           34737        <span class="sm">FLATOUT </span>           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4249543133">BIT13</a>                                 <span class="co">#  4096 PULSES</span>
<a name="574841544F5554"></a>035283,000213: 31,2371           55606        <span class="sm">WHATOUT </span>           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#50494650534554">PIFPSET</a>                               <span class="co">#  USE PIFPSET SO FWEIGHT WILL BE ZERO</span>
035284,000214: 31,2372           44755                           <span class="op">CS      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#5A45524F">ZERO</a>                                  
035285,000215: 31,2373           55620                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46434F4C44">FCOLD</a>                                 
035286,000216: 31,2374           55612                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504946">PIF</a>                                   
035287,000217: 31,2375           00006                           <span class="op">EXTEND  </span>                                       
035288,000218: 31,2376           23607                           <span class="op">QXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#52544E484F4C44">RTNHOLD</a>                               
035289,000219: 31,2377           12312                           <span class="op">TCF     </span> <a href="#444F4954">DOIT</a>                                  
035290,000220: 
035291,000221:                                                                                                  <span class="co">#  MASSMULT SCALES ACCELERATION, ARRIVING IN A AND L IN UNITS OF 2(-4) M/CS/CS, TO FORCE IN PULSE UNITS.</span>
035292,000222: 
<a name="4D4153534D554C54"></a>035293,000223: 31,2400           00006        <span class="sm">MASSMULT</span>           <span class="op">EXTEND  </span>                                       
035294,000224: 31,2401           22130                           <span class="op">QXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#425546">BUF</a>                                   
035295,000225: 31,2402           52155                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4D504143">MPAC</a>                                  
035296,000226: 31,2403           07103                           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#444D50">DMP</a>                                   
035297,000227: 31,2404           01244                           <span class="ps">ADRES   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4D415353">MASS</a>                                  
035298,000228: 31,2405           07103                           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#444D50">DMP</a>                                   <span class="co">#  LEAVES PROPERLY SCALED FORCE IM MPAC</span>
035299,000229: 31,2406           02005                           <span class="ps">ADRES   </span> <a href="CONTROLLED_CONSTANTS.agc.html#5343414C45464143">SCALEFAC</a>                              
035300,000230: 31,2407           07257                           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#54504147524545">TPAGREE</a>                               
035301,000231: 31,2410           30154                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4D504143">MPAC</a>                                  
035302,000232: 31,2411           00006                           <span class="op">EXTEND  </span>                                       
035303,000233: 31,2412           12415                           <span class="op">BZF     </span> +3                                    
035304,000234: 31,2413           34733                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#504F534D4158">POSMAX</a>                                
035305,000235: 31,2414           00130                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#425546">BUF</a>                                   
035306,000236: 31,2415           52156                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4D504143">MPAC</a>       +1                         
035307,000237: 31,2416           00130                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#425546">BUF</a>                                   
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 797
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
035309,000239:                                                                                                  <span class="co">#  CONSTANTS:-</span>
035310,000240: 
<a name="464558545241"></a>035311,000241: 31,2417     4737               <span class="sm">FEXTRA  </span>           <span class="ps">=       </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4249543133">BIT13</a>                                 <span class="co">#  FEXT +5.13309020 E+4</span>
035312,000242: 
<a name="2F41462F434E5354"></a>035313,000243: 31,2417           04143        <span class="sm">/AF/CNST</span>           <span class="ps">DEC     </span> .13107                                
035314,000244: 
035315,000245:                                                                                                  <span class="co">#  * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *</span>

End of include-file THROTTLE_CONTROL_ROUTINES.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
