<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source code files have been transcribed or otherwise adapted from
digitized images of a hardcopy from the private collection of 
Don Eyles.  The digitization was performed by archive.org, and 
transcription was performed by a team of volunteers.
Note that the page images <a href="https://www.ibiblio.org/apollo/ScansForConversion/Aurora12/">
presented online</a> are of reduced quality, and that the original 
high-quality images are available at <a href="https://archive.org/details/aurora00dapg">archive.org</a>.  
Report any conversion errors or legibility problems in page images to info@sandroid.org.
Notations on the program listing read, in part:<br>
<br>
<pre>
    473423A YUL SYSTEM FOR BLK2: REVISION 12 of PROGRAM AURORA BY DAP GROUP   NOV 10, 1966
</pre>
Note that the date is the date of the printout, not the date of the program revision.
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
014720,000002:                                                                                                  <span class="co">## Copyright:    Public domain.</span>
014721,000003:                                                                                                  <span class="co">## Filename:     ALARM_AND_ABORT.agc</span>
014722,000004:                                                                                                  <span class="co">## Purpose:      Part of the source code for Aurora (revision 12).</span>
014723,000005:                                                                                                  <span class="co">## Assembler:    yaYUL</span>
014724,000006:                                                                                                  <span class="co">## Contact:      Ron Burkey &lt;info@sandroid.org>.</span>
014725,000007:                                                                                                  <span class="co">## Website:      https://www.ibiblio.org/apollo.</span>
014726,000008:                                                                                                  <span class="co">## Pages:        366-367</span>
014727,000009:                                                                                                  <span class="co">## Mod history:  2016-09-20 JL   Created.</span>
014728,000010:                                                                                                  <span class="co">##               2016-10-18 MAS  Transcribed.</span>
014729,000011:                                                                                                  <span class="co">##               2016-12-08 RSB  Proofed comments with octopus/ProoferComments</span>
014730,000012:                                                                                                  <span class="co">##                               but no errors found.</span>
014731,000013: 
014732,000014:                                                                                                  <span class="co">## This source code has been transcribed or otherwise adapted from</span>
014733,000015:                                                                                                  <span class="co">## digitized images of a hardcopy from the private collection of </span>
014734,000016:                                                                                                  <span class="co">## Don Eyles.  The digitization was performed by archive.org.</span>
014735,000017: 
014736,000018:                                                                                                  <span class="co">## Notations on the hardcopy document read, in part:</span>
014737,000019: 
014738,000020:                                                                                                  <span class="co">##       473423A YUL SYSTEM FOR BLK2: REVISION 12 of PROGRAM AURORA BY DAP GROUP</span>
014739,000021:                                                                                                  <span class="co">##       NOV 10, 1966</span>
014740,000022: 
014741,000023:                                                                                                  <span class="co">##       [Note that this is the date the hardcopy was made, not the</span>
014742,000024:                                                                                                  <span class="co">##       date of the program revision or the assembly.]</span>
014743,000025: 
014744,000026:                                                                                                  <span class="co">## The scan images (with suitable reduction in storage size and consequent </span>
014745,000027:                                                                                                  <span class="co">## reduction in image quality) are available online at </span>
014746,000028:                                                                                                  <span class="co">##       https://www.ibiblio.org/apollo.  </span>
014747,000029:                                                                                                  <span class="co">## The original high-quality digital images are available at archive.org:</span>
014748,000030:                                                                                                  <span class="co">##       https://archive.org/details/aurora00dapg</span>
014749,000031: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 366
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
014751,000033:                                                                                                  <span class="co">#           THE FOLLOWING SUBROUTINE MAY BE CALLED TO DISPLAY A NON-ABORTIVE ALARM CONDITION. IT MAY BE CALLED</span>
014752,000034:                                                                                                  <span class="co">#  EITHER IN INTERRUPT OR UNDER EXECUTIVE CONTROL.</span>
014753,000035: 
014754,000036:                                                                                                  <span class="co">#           CALLING SEQUENCE IS AS FOLLOWS:</span>
014755,000037: 
014756,000038:                                                                                                  <span class="co">#           TC     ALARM</span>
014757,000039:                                                                                                  <span class="co">#           OCT    AAANN           ALARM NO. NN IN GENERAL AREA AAA.</span>
014758,000040:                                                                                                  <span class="co">#                                  (RETURNS HERE)</span>
014759,000041: 
014760,000042:    5413                                           <span class="ps">SETLOC  </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#454E4450494E4246">ENDPINBF</a>                              
014761,000043:    5413     1363                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               
014762,000044: 
<a name="414C41524D"></a>014763,000045:    5413           00004        <span class="sm">ALARM   </span>           <span class="op">INHINT  </span>                                       
014764,000046:    5414           56002                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
014765,000047:    5415           54077                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5255505452454734">RUPTREG4</a>                              
014766,000048: 
014767,000049:    5416           11363                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               <span class="co">#  SEE IF ONE FAILURE HAS OCCURRED SINCE</span>
014768,000050:                                                                                                  <span class="co">#   THE LAST ERROR RESET.</span>
014769,000051:    5417           05425                           <span class="op">TC      </span> <a href="#4D554C544641494C">MULTFAIL</a>                              <span class="co">#  YES - INDICATE MULTIPLE FAILURES.</span>
014770,000052:    5420           05430                           <span class="op">TC      </span> <a href="#4E4557414C41524D">NEWALARM</a>                              <span class="co">#  FIRST SINCE RESET.</span>
014771,000053: 
<a name="4D554C5445584954"></a>014772,000054:    5421           30077        <span class="sm">MULTEXIT</span>           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5255505452454734">RUPTREG4</a>                              <span class="co">#  FREE RUPTREG4 BEFORE RELINT.</span>
014773,000055:    5422           00003                           <span class="op">RELINT  </span>                                       
014774,000056:    5423           50000                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
014775,000057:    5424           00001                           <span class="op">TC      </span> 1                                     <span class="co">#  RETURN TO CALLER.</span>
014776,000058: 
<a name="4D554C544641494C"></a>014777,000059:    5425           66042        <span class="sm">MULTFAIL</span>           <span class="op">AD      </span> <a href="LIST_PROCESSING_INTERPRETER.agc.html#4F43543430303031">OCT40001</a>                              <span class="co">#  BIT 15 = 1 INDICATES MULTIPLE FAILURES.</span>
014778,000060:    5426           55363                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               
014779,000061:    5427           05421                           <span class="op">TC      </span> <a href="#4D554C5445584954">MULTEXIT</a>                              
014780,000062: 
<a name="4E4557414C41524D"></a>014781,000063:    5430           05440        <span class="sm">NEWALARM</span>           <span class="op">TC      </span> <a href="#50524F474C41524D">PROGLARM</a>                              <span class="co">#  TURN ON THE PROGRAM ALARM LIGHT.</span>
014782,000064: 
014783,000065:    5431           34535                           <span class="op">CAF     </span> <a href="EXECUTIVE.agc.html#5052494F3337">PRIO37</a>                                
014784,000066:    5432           04363                           <span class="op">TC      </span> <a href="EXECUTIVE.agc.html#4E4F564143">NOVAC</a>                                 
014785,000067:    5433           02773 02002                     <span class="ps">2CADR   </span> <a href="#444F414C41524D">DOALARM</a>                               <span class="co">#  CALL (SEPARATE) JOB FOR DISPLAY.</span>
014786,000068: 
014787,000069:    5435           50077                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5255505452454734">RUPTREG4</a>                              
014788,000070:    5436           30000                           <span class="op">CAF     </span> 0                                     
014789,000071:    5437           05426                           <span class="op">TC      </span> <a href="#4D554C544641494C">MULTFAIL</a>   +1                         
014790,000072: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
The "OUT0" register mentioned below was the Block 1 method of talking to the DSKY. The comment had not
yet been updated for Block 2.
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<a name="50524F474C41524D"></a>014793,000075:    5440           45445        <span class="sm">PROGLARM</span>           <span class="op">CS      </span> <a href="#4F43543430343030">OCT40400</a>                              <span class="co">#  TURN ON PROGRAM ALARM LIGHT VIA OUT0.</span>
014794,000076:    5441           70322                           <span class="op">MASK    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#445350544142">DSPTAB</a>     +11D                       
014795,000077:    5442           65445                           <span class="op">AD      </span> <a href="#4F43543430343030">OCT40400</a>                              
014796,000078:    5443           54322                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#445350544142">DSPTAB</a>     +11D                       
014797,000079:    5444           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
014798,000080: 
<a name="4F43543430343030"></a>014799,000081:    5445           40400        <span class="sm">OCT40400</span>           <span class="ps">OCT     </span> 40400                                 
014800,000082: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 367
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
014802,000084:                                                                                                  <span class="co">#           THE FOLLOWING ROUTINE IS CALLED TO INITIATE AN ABORT. FAILREG IS SET (ACCORDING TO THE MULTIPLE</span>
014803,000085:                                                                                                  <span class="co">#  FAILURES CONVENTION) AND A RE-START IS INITIATED BY TC-SELF. THIS IS CALLED ONLY UNDER RARE CIRCUMSTANCES.</span>
014804,000086: 
<a name="41424F5254"></a>014805,000087:    5446           00004        <span class="sm">ABORT   </span>           <span class="op">INHINT  </span>                                       <span class="co">#  MAY BE CALLED IN INTERRUPT OR UNDER EXEC</span>
014806,000088:    5447           50002                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  PICK UP FAILURE CODE.</span>
014807,000089:    5450           30000                           <span class="op">CAF     </span> 0                                     
014808,000090:    5451           54065                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5031">ITEMP1</a>                                
014809,000091: 
014810,000092:    5452           11363                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               <span class="co">#  SEE IF THIS IS A MULTIPLE FAILURE.</span>
014811,000093:    5453           05456                           <span class="op">TC      </span> <a href="#5345544D554C5446">SETMULTF</a>                              <span class="co">#  SET BIT 15 TO INDICATE YES.</span>
014812,000094:    5454           05460                           <span class="op">TC      </span> <a href="#4E455741424F5254">NEWABORT</a>                              <span class="co">#  FIRST FAILURE.</span>
014813,000095: 
<a name="5748494D504552"></a>014814,000096:    5455           05455        <span class="sm">WHIMPER </span>           <span class="op">TC      </span> <a href="#5748494D504552">WHIMPER</a>                               <span class="co">#  NOT WITH A BANG...</span>
014815,000097: 
<a name="5345544D554C5446"></a>014816,000098:    5456           66042        <span class="sm">SETMULTF</span>           <span class="op">AD      </span> <a href="LIST_PROCESSING_INTERPRETER.agc.html#4F43543430303031">OCT40001</a>                              <span class="co">#  RESTORE AND SET BIT 15.</span>
014817,000099:    5457           05462                           <span class="op">TC      </span> +3                                    
014818,000100: 
<a name="4E455741424F5254"></a>014819,000101:    5460           05440        <span class="sm">NEWABORT</span>           <span class="op">TC      </span> <a href="#50524F474C41524D">PROGLARM</a>                              <span class="co">#  FIRST FAILURE - TURN ON ALARM LIGHT.</span>
014820,000102:    5461           56065                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5031">ITEMP1</a>                                
014821,000103:    5462           55363                 +3        <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               
014822,000104:    5463           05455                           <span class="op">TC      </span> <a href="#5748494D504552">WHIMPER</a>                               <span class="co">#  UNIVERSAL ABORT LOCATION.</span>
014823,000105: 
<a name="434353484F4C45"></a>014824,000106:    5464           56002        <span class="sm">CCSHOLE </span>           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
014825,000107:    5465           55364                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#534641494C">SFAIL</a>                                 
014826,000108: 
014827,000109:    5466           05446                           <span class="op">TC      </span> <a href="#41424F5254">ABORT</a>                                 
014828,000110:    5467           01103                           <span class="ps">OCT     </span> 1103                                  
014829,000111: 
<a name="454E444641494C46"></a>014830,000112:    5470                        <span class="sm">ENDFAILF</span>           <span class="ps">EQUALS  </span>                                       
014831,000113: 
014832,000114:                                                                                                  <span class="co">#           JOB WHICH CALLS NVSUB FOR ALARM DISPLAY.</span>
014833,000115: 
014834,000116: 01,2773                                           <span class="ps">SETLOC  </span> <a href="WAITLIST.agc.html#454E445741495453">ENDWAITS</a>                              
014835,000117: 
<a name="444F414C41524D"></a>014836,000118: 01,2773           05317        <span class="sm">DOALARM </span>           <span class="op">TC      </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#4752414257414954">GRABWAIT</a>                              <span class="co">#  DISPLAY FAILREG.</span>
014837,000119: 01,2774           32777                           <span class="op">CAF     </span> <a href="#4641494C44495350">FAILDISP</a>                              
014838,000120: 01,2775           05332                           <span class="op">TC      </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#4E56534257414954">NVSBWAIT</a>                              
014839,000121: 
014840,000122: 01,2776           04437                           <span class="op">TC      </span> <a href="EXECUTIVE.agc.html#454A46524545">EJFREE</a>                                <span class="co">#  FREE DISPLAY AND END JOB.</span>
014841,000123: 
<a name="4641494C44495350"></a>014842,000124: 01,2777           00531        <span class="sm">FAILDISP</span>           <span class="ps">OCT     </span> 00531                                 
014843,000125: 
<a name="454E444641494C53"></a>014844,000126: 01,3000                        <span class="sm">ENDFAILS</span>           <span class="ps">EQUALS  </span>                                       

End of include-file ALARM_AND_ABORT.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
