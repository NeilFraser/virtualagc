<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source-code files are part of a reconstructed copy of Comanche 67, the
Apollo Guidance Computer (AGC) Command Module (CM) software for Apollo 12.
<br><br>
They have been adapted from sources files for Comanche 55, and updated via
disassembly of binary dumps of original core rope memory modules, part numbers
2003972-1081, 2003972-1091, 2003972-1111, 2003972-1121, 2003972-1131, and 2003972-1141. 
<br><br>
Since only binary dumps (rather than listings) of Comanche 67 are available as source material, 
all comments and labels are approximate.
They have been taken from other AGC programs where possible, or, in some places, written
from scratch to match what we believe would have been in the original listing.
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
039791,000002:                                                                                                  <span class="co">## Copyright:   Public domain.</span>
039792,000003:                                                                                                  <span class="co">## Filename:    S-BAND_ANTENNA_FOR_CM.agc</span>
039793,000004:                                                                                                  <span class="co">## Purpose:     A section of Comanche revision 067.</span>
039794,000005:                                                                                                  <span class="co">##              It is part of the reconstructed source code for the flight</span>
039795,000006:                                                                                                  <span class="co">##              software for the Command Module's (CM) Apollo Guidance Computer</span>
039796,000007:                                                                                                  <span class="co">##              (AGC) for Apollo 12. No original listings of this program are</span>
039797,000008:                                                                                                  <span class="co">##              available; instead, this file was created via dissassembly of</span>
039798,000009:                                                                                                  <span class="co">##              dumps of Comanche 067 core rope modules and comparison with</span>
039799,000010:                                                                                                  <span class="co">##              other AGC programs.</span>
039800,000011:                                                                                                  <span class="co">## Assembler:   yaYUL</span>
039801,000012:                                                                                                  <span class="co">## Contact:     Ron Burkey &lt;info@sandroid.org>.</span>
039802,000013:                                                                                                  <span class="co">## Website:     www.ibiblio.org/apollo/index.html</span>
039803,000014:                                                                                                  <span class="co">## Mod history: 2023-08-16 MAS  Created from Comanche 055.</span>
039804,000015:                                                                                                  <span class="co">##              2024-05-13 MAS  Updated for Comanche 067.</span>
039805,000016: 
039806,000017: 23,3207                                           <span class="ps">BANK    </span> 23                                    
039807,000018: 42,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#5342414E44">SBAND</a>                                 
039808,000019: 42,2000                                           <span class="ps">BANK    </span>                                       
039809,000020: 
039810,000021: 42,3652                                           <span class="ps">COUNT*  </span> $$/R05                                
039811,000022: 42,3652  E4,1417                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#454D53414C54">EMSALT</a>                                
039812,000023: 
<a name="5342414E44414E54"></a>039813,000024: 42,3652           06006        <span class="sm">SBANDANT</span>           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>                               
039814,000025: 42,3653           45034                           <span class="in">RTB     </span> <span class="in">CALL      </span>                            
039815,000026: 42,3654           45510                                    <a href="RTB_OP_CODES.agc.html#4C4F414454494D45">LOADTIME</a>                              <span class="co">#  PICKUP CURRENT TIME SCALED B-28</span>
039816,000027: 42,3655           47501                                    <a href="POWERED_FLIGHT_SUBROUTINES.agc.html#43445554524947">CDUTRIG</a>                               <span class="co">#  COMPUTE SINES AND COSINES OF CDU ANGLES</span>
039817,000028: 42,3656           34041                           <span class="in">STCALL  </span> <a href="ORBITAL_INTEGRATION.agc.html#5444454331">TDEC1</a>                                 <span class="co">#  ADVANCE INTEGRATION TO TIME IN TDEC1</span>
039818,000029: 42,3657           27124                                    <a href="INTEGRATION_INITIALIZATION.agc.html#43534D434F4E4943">CSMCONIC</a>                              <span class="co">#  USING CONIC INTEGRATION</span>
039819,000030: 42,3660           46135                           <span class="in">SLOAD   </span> <span class="in">BHIZ      </span>                            <span class="co">#  ORIGIN OF REFERENCE INERTIAL SYSTEM IS</span>
039820,000031: 42,3661           00050                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#5832">X2</a>                                    <span class="co">#  EARTH = 0, MOON = 2</span>
039821,000032: 42,3662           65675                                    <a href="#4549534F49">EISOI</a>                                 
039822,000033: 42,3663           77775                           <span class="in">VLOAD   </span>                                       
039823,000034: 42,3664           00001                                    <a href="ORBITAL_INTEGRATION.agc.html#52415454">RATT</a>                                  
039824,000035: 42,3665           00003                           <span class="in">STORE   </span> <a href="#52434D">RCM</a>                                   <span class="co">#  MOVE RATT TO PREVENT WIPEOUT</span>
039825,000036: 42,3666           45145                           <span class="in">DLOAD   </span> <span class="in">CALL      </span>                            <span class="co">#  MOON, PUSH ON</span>
039826,000037: 42,3667           00015                                    <a href="ORBITAL_INTEGRATION.agc.html#544154">TAT</a>                                   <span class="co">#  GET ORIGINAL TIME</span>
039827,000038: 42,3670           54115                                    <a href="LUNAR_AND_SOLAR_EPHEMERIDES_SUBROUTINES.agc.html#4C554E504F53">LUNPOS</a>                                <span class="co">#  COMPUTE POSITION VECTOR OF MOON</span>
039828,000039: 42,3671           57455                           <span class="in">VAD     </span> <span class="in">VCOMP     </span>                            <span class="co">#  R= -(REM+RCM) = NEG. OF S/C POS. VEC</span>
039829,000040: 42,3672           00003                                    <a href="#52434D">RCM</a>                                   
039830,000041: 42,3673           77650                           <span class="in">GOTO    </span>                                       
039831,000042: 42,3674           65677                                    <a href="#4549534F49">EISOI</a>      +2                         
<a name="4549534F49"></a>039832,000043: 42,3675           57575        <span class="sm">EISOI   </span>           <span class="in">VLOAD   </span> <span class="in">VCOMP     </span>                            <span class="co">#  EARTH, R= -RCM</span>
039833,000044: 42,3676           00001                                    <a href="ORBITAL_INTEGRATION.agc.html#52415454">RATT</a>                                  
039834,000045: 42,3677           64201                           <span class="in">SETPD   </span> <span class="in">MXV       </span>                            <span class="co">#  RCS TO STABLE MEMBER- B-1X B-29X B+1</span>
039835,000046: 42,3700           00003                                    2D                                    <span class="co">#  2D</span>
039836,000047: 42,3701           01736                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#524546534D4D4154">REFSMMAT</a>                              <span class="co">#  STABLE MEMBER.  B-1X B-29X B+1= B-29</span>
039837,000048: 42,3702           65372                           <span class="in">VSL1    </span> <span class="in">PDDL      </span>                            <span class="co">#  8D</span>
039838,000049: 42,3703           15334                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4849365A45524F53">HI6ZEROS</a>                              
039839,000050: 42,3704           24025                           <span class="in">STOVL   </span> <a href="#594157414E47">YAWANG</a>                                <span class="co">#  ZERO OUT YAWANG, SET UP FOR SMNB</span>
039840,000051: 42,3705           00003                                    <a href="#52434D">RCM</a>                                   <span class="co">#  TRANSFORMATION.  SM COORD.  SCALED B-29</span>
039841,000052: 42,3706           77624                           <span class="in">CALL    </span>                                       
039842,000053: 42,3707           47646                                    <a href="POWERED_FLIGHT_SUBROUTINES.agc.html#2A534D4E422A">*SMNB*</a>                                
039843,000054: 42,3710           00003                           <span class="in">STORE   </span> <a href="#52">R</a>                                     <span class="co">#  SAVE NAV. BASE COORDINATES</span>
039844,000055: 42,3711           63256                           <span class="in">UNIT    </span> <span class="in">PDVL      </span>                            <span class="co">#  14D</span>
039845,000056: 42,3712           00003                                    <a href="#52">R</a>                                     
039846,000057: 42,3713           72431                           <span class="in">VPROJ   </span> <span class="in">VSL2      </span>                            <span class="co">#  COMPUTE PROJECTION OF VECTOR INTO CM</span>
039847,000058: 42,3714           15326                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4849554E49545A">HIUNITZ</a>                               <span class="co">#  XY-PLANE, R-(R.UZ)UZ</span>
039848,000059: 42,3715           40045                           <span class="in">BVSU    </span> <span class="in">BOV       </span>                            <span class="co">#  CLEAR OVERFLOW INDICATOR IF SET</span>
039849,000060: 42,3716           00003                                    <a href="#52">R</a>                                     
039850,000061: 42,3717           65720                                    <a href="#434F56434E56">COVCNV</a>                                
<a name="434F56434E56"></a>039851,000062: 42,3720           40056        <span class="sm">COVCNV  </span>           <span class="in">UNIT    </span> <span class="in">BOV       </span>                            <span class="co">#  TEST OVERFLOW FOR INDICATION OF NULL</span>
039852,000063: 42,3721           65735                                    <a href="#4E4F41444A555354">NOADJUST</a>                              <span class="co">#  VECTOR</span>
039853,000064: 42,3722           50206                           <span class="in">PUSH    </span> <span class="in">DOT       </span>                            <span class="co">#  20D</span>
039854,000065: 42,3723           15332                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4849554E495458">HIUNITX</a>                               <span class="co">#  COMPUTE YAW ANGLE = ACOS (URP.UX)</span>
039855,000066: 42,3724           65552                           <span class="in">SL1     </span> <span class="in">ACOS      </span>                            <span class="co">#  REVOLUTIONS SCALED B0</span>
039856,000067: 42,3725           50315                           <span class="in">PDVL    </span> <span class="in">DOT       </span>                            <span class="co">#  22D YAWANG</span>
039857,000068: 42,3726           00017                                    <a href="#555250">URP</a>                                   
039858,000069: 42,3727           15330                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4849554E495459">HIUNITY</a>                               <span class="co">#  COMPUTE FOLLOWING- URP.UY</span>
039859,000070: 42,3730           51152                           <span class="in">SL1     </span> <span class="in">BPL       </span>                            <span class="co">#  POSITIVE</span>
039860,000071: 42,3731           65735                                    <a href="#4E4F41444A555354">NOADJUST</a>                              <span class="co">#  YES, 0-180 DEGREES</span>
039861,000072: 42,3732           45345                           <span class="in">DLOAD   </span> <span class="in">DSU       </span>                            <span class="co">#  NO, 181-360 DEGREES 20D</span>
039862,000073: 42,3733           15342                                    <a href="INTERPRETIVE_CONSTANTS.agc.html#4450504F534D4158">DPPOSMAX</a>                              <span class="co">#  COMPUTE 2 PI MINUS YAW ANGLE</span>
039863,000074: 42,3734           77606                           <span class="in">PUSH    </span>                                       <span class="co">#  22D YAWANG</span>
<a name="4E4F41444A555354"></a>039864,000075: 42,3735           50375        <span class="sm">NOADJUST</span>           <span class="in">VLOAD   </span> <span class="in">DOT       </span>                            <span class="co">#  COMPUTE PITCH ANGLE</span>
039865,000076: 42,3736           00011                                    <a href="#5552">UR</a>                                    <span class="co">#  ACOS (UR.UZ) - PI/2</span>
039866,000077: 42,3737           15326                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4849554E49545A">HIUNITZ</a>                               
039867,000078: 42,3740           65552                           <span class="in">SL1     </span> <span class="in">ACOS      </span>                            <span class="co">#  REVOLUTIONS B0</span>
039868,000079: 42,3741           77625                           <span class="in">DSU     </span>                                       
039869,000080: 42,3742           15324                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#48494450312F34">HIDP1/4</a>                               
039870,000081: 42,3743           16321                           <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#52484F5342">RHOSB</a>                                 
039871,000082: 42,3744           00025                                    <a href="#594157414E47">YAWANG</a>                                
039872,000083: 42,3745           02323                           <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#47414D4D415342">GAMMASB</a>                               <span class="co">#  PATCH FOR CHECKOUT</span>
039873,000084: 42,3746           77776                           <span class="in">EXIT    </span>                                       
039874,000085: 42,3747           31044                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4558545642414354">EXTVBACT</a>                              <span class="co">#  IS BIT 5 STILL ON</span>
039875,000086: 42,3750           75027                           <span class="op">MASK    </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#42495435">BIT5</a>                                  
039876,000087: 42,3751           00006                           <span class="op">EXTEND  </span>                                       
039877,000088: 42,3752           15550                           <span class="op">BZF     </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#454E44455854">ENDEXT</a>                                <span class="co">#  NO, WE HAVE BEEN ANSWERED</span>
039878,000089: 42,3753           33767                           <span class="op">CAF     </span> <a href="#5630364E3531">V06N51</a>                                <span class="co">#  DISPLAY ANGLES</span>
039879,000090: 42,3754           04676                           <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#42414E4B43414C4C">BANKCALL</a>                              
039880,000091: 42,3755           20600                           <span class="ps">CADR    </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#474F4D41524B4652">GOMARKFR</a>                              
039881,000092: 42,3756           05641                           <span class="op">TC      </span> <a href="SERVICE_ROUTINES.agc.html#42354F4646">B5OFF</a>                                 <span class="co">#  TERMINATE</span>
039882,000093: 42,3757           05641                           <span class="op">TC      </span> <a href="SERVICE_ROUTINES.agc.html#42354F4646">B5OFF</a>                                 
039883,000094: 42,3760           05233                           <span class="op">TC      </span> <a href="EXECUTIVE.agc.html#454E444F464A4F42">ENDOFJOB</a>                              <span class="co">#  RECYCLE</span>
039884,000095: 42,3761           35031                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#42495433">BIT3</a>                                  <span class="co">#  IMMEDIATE RETURN</span>
039885,000096: 42,3762           05542                           <span class="op">TC      </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#424C414E4B4554">BLANKET</a>                               <span class="co">#  BLANK R3</span>
039886,000097: 42,3763           35033                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#42495431">BIT1</a>                                  <span class="co">#  DELAY MINIMUM TIME TO ALLOW DISPLAY IN</span>
039887,000098: 42,3764           04676                           <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#42414E4B43414C4C">BANKCALL</a>                              
039888,000099: 42,3765           01732                           <span class="ps">CADR    </span> <a href="SERVICE_ROUTINES.agc.html#44454C41594A4F42">DELAYJOB</a>                              
039889,000100: 42,3766           13652                           <span class="op">TCF     </span> <a href="#5342414E44414E54">SBANDANT</a>                              
<a name="5630364E3531"></a>039890,000101: 42,3767           01463        <span class="sm">V06N51  </span>           <span class="ps">VN      </span> 0651                                  
<a name="52434D"></a>039891,000102: 42,3770                        <span class="sm">RCM     </span>           <span class="ps">EQUALS  </span> 2D                                    
<a name="5552"></a>039892,000103: 42,3770                        <span class="sm">UR      </span>           <span class="ps">EQUALS  </span> 8D                                    
<a name="555250"></a>039893,000104: 42,3770                        <span class="sm">URP     </span>           <span class="ps">EQUALS  </span> 14D                                   
<a name="594157414E47"></a>039894,000105: 42,3770                        <span class="sm">YAWANG  </span>           <span class="ps">EQUALS  </span> 20D                                   
<a name="5049544348414E47"></a>039895,000106: 42,3770                        <span class="sm">PITCHANG</span>           <span class="ps">EQUALS  </span> 22D                                   
<a name="52"></a>039896,000107: 42,3770  0000002               <span class="sm">R       </span>           <span class="ps">EQUALS  </span> <a href="#52434D">RCM</a>                                   
039897,000108: 42,3770  30,2000                                  <span class="ps">SBANK=  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4C4F575355504552">LOWSUPER</a>                              
039898,000109: 

End of include-file S-BAND_ANTENNA_FOR_CM.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
