<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source-code files are part of a reconstructed copy of Comanche 67, the
Apollo Guidance Computer (AGC) Command Module (CM) software for Apollo 12.
<br><br>
They have been adapted from sources files for Comanche 55, and updated via
disassembly of binary dumps of original core rope memory modules, part numbers
2003972-1081, 2003972-1091, 2003972-1111, 2003972-1121, 2003972-1131, and 2003972-1141. 
<br><br>
Since only binary dumps (rather than listings) of Comanche 67 are available as source material, 
all comments and labels are approximate.
They have been taken from other AGC programs where possible, or, in some places, written
from scratch to match what we believe would have been in the original listing.
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
051505,000002:                                                                                                  <span class="co">## Copyright:   Public domain.</span>
051506,000003:                                                                                                  <span class="co">## Filename:    PLANETARY_INERTIAL_ORIENTATION.agc</span>
051507,000004:                                                                                                  <span class="co">## Purpose:     A section of Comanche revision 067.</span>
051508,000005:                                                                                                  <span class="co">##              It is part of the reconstructed source code for the flight</span>
051509,000006:                                                                                                  <span class="co">##              software for the Command Module's (CM) Apollo Guidance Computer</span>
051510,000007:                                                                                                  <span class="co">##              (AGC) for Apollo 12. No original listings of this program are</span>
051511,000008:                                                                                                  <span class="co">##              available; instead, this file was created via dissassembly of</span>
051512,000009:                                                                                                  <span class="co">##              dumps of Comanche 067 core rope modules and comparison with</span>
051513,000010:                                                                                                  <span class="co">##              other AGC programs.</span>
051514,000011:                                                                                                  <span class="co">## Assembler:   yaYUL</span>
051515,000012:                                                                                                  <span class="co">## Contact:     Ron Burkey &lt;info@sandroid.org>.</span>
051516,000013:                                                                                                  <span class="co">## Website:     www.ibiblio.org/apollo/index.html</span>
051517,000014:                                                                                                  <span class="co">## Mod history: 2023-08-16 MAS  Created from Comanche 055.</span>
051518,000015:                                                                                                  <span class="co">##              2024-05-13 MAS  Updated for Comanche 067.</span>
051519,000016: 
051520,000017:                                                                                                  <span class="co">#  ..... RP-TO-R SUBROUTINE .....</span>
051521,000018:                                                                                                  <span class="co">#  SUBROUTINE TO CONVERT RP (VECTOR IN PLANETARY COORDINATE SYSTEM, EITHER</span>
051522,000019:                                                                                                  <span class="co">#  EARTH-FIXED OR MOON-FIXED) TO R (SAME VECTOR IN THE BASIC REF. SYSTEM)</span>
051523,000020:                                                                                                  <span class="co">#        R = MT(T) * (RP + LP X RP)      MT = M MATRIX TRANSPOSE</span>
051524,000021: 
051525,000022:                                                                                                  <span class="co">#  CALLING SEQUENCE</span>
051526,000023:                                                                                                  <span class="co">#        L       CALL</span>
051527,000024:                                                                                                  <span class="co">#        L+1             RP-TO-R</span>
051528,000025: 
051529,000026:                                                                                                  <span class="co">#  SUBROUTINES USED</span>
051530,000027:                                                                                                  <span class="co">#        EARTHMX, MOONMX, EARTHL</span>
051531,000028: 
051532,000029:                                                                                                  <span class="co">#        ITEMS AVAILABLE FROM LAUNCH DATA</span>
051533,000030:                                                                                                  <span class="co">#                504LM = THE LIBRATION VECTOR L OF THE MOON AT TIME TIMSUBL, EXPRESSED</span>
051534,000031:                                                                                                  <span class="co">#                IN THE MOON-FIXED COORD. SYSTEM         RADIANS B0</span>
051535,000032: 
051536,000033:                                                                                                  <span class="co">#        ITEMS NECESSARY FOR SUBR. USED (SEE DESCRIPTION OF SUBR.)</span>
051537,000034: 
051538,000035:                                                                                                  <span class="co">#  INPUT</span>
051539,000036:                                                                                                  <span class="co">#        MPAC = 0 FOR EARTH, NON-ZERO FOR MOON</span>
051540,000037:                                                                                                  <span class="co">#        0-5D = RP VECTOR</span>
051541,000038:                                                                                                  <span class="co">#        6-7D = TIME</span>
051542,000039: 
051543,000040:                                                                                                  <span class="co">#  OUTPUT</span>
051544,000041:                                                                                                  <span class="co">#        MPAC = R VECTOR METERS B-29 FOR EARTH, B-27 FOR MOON</span>
051545,000042: 
051546,000043: 26,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#504C414E54494E">PLANTIN</a>                               
051547,000044: 26,2000                                           <span class="ps">BANK    </span>                                       
051548,000045: 
051549,000046: 26,3343                                           <span class="ps">COUNT*  </span> $$/LUROT                              
051550,000047: 
<a name="52502D544F2D52"></a>051551,000048: 26,3343           46020        <span class="sm">RP-TO-R </span>           <span class="in">STQ     </span> <span class="in">BHIZ      </span>                            
051552,000049: 26,3344           00050                                    <a href="#52505245584954">RPREXIT</a>                               
051553,000050: 26,3345           55360                                    <a href="#5250544F5241">RPTORA</a>                                
051554,000051: 26,3346           77624                           <span class="in">CALL    </span>                                       <span class="co">#  COMPUTE M MATRIX FOR MOON</span>
051555,000052: 26,3347           55420                                    <a href="#4D4F4F4E4D58">MOONMX</a>                                <span class="co">#  LP=LM FOR MOON        RADIANS B0</span>
051556,000053: 26,3350           77775                           <span class="in">VLOAD   </span>                                       
051557,000054: 26,3351           02012                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#3530344C4D">504LM</a>                                 
<a name="5250544F5242"></a>051558,000055: 26,3352           53235        <span class="sm">RPTORB  </span>           <span class="in">VXV     </span> <span class="in">VAD       </span>                            
051559,000056: 26,3353           00001                                    <a href="#353034525052">504RPR</a>                                
051560,000057: 26,3354           00001                                    <a href="#353034525052">504RPR</a>                                
051561,000058: 26,3355           52105                           <span class="in">VXM     </span> <span class="in">GOTO      </span>                            
051562,000059: 26,3356           00025                                    <a href="#4D4D4154524958">MMATRIX</a>                               <span class="co">#  MPAC=R=MT(T)*(RP+LPXRP)</span>
051563,000060: 26,3357           55406                                    <a href="#5250525058585858">RPRPXXXX</a>                              <span class="co">#  RESET PUSHLOC TO 0 BEFORE EXITING</span>
<a name="5250544F5241"></a>051564,000061: 26,3360           77624        <span class="sm">RPTORA  </span>           <span class="in">CALL    </span>                                       <span class="co">#  EARTH COMPUTATIONS</span>
051565,000062: 26,3361           55572                                    <a href="#45415254484D58">EARTHMX</a>                               <span class="co">#  M MATRIX B-1</span>
051566,000063: 26,3362           77624                           <span class="in">CALL    </span>                                       
051567,000064: 26,3363           55624                                    <a href="#45415254484C">EARTHL</a>                                <span class="co">#  L VECTOR RADIANS B0</span>
051568,000065: 26,3364           76521                           <span class="in">MXV     </span> <span class="in">VSL1      </span>                            <span class="co">#  LP=M(T)*L     RAD B-0</span>
051569,000066: 26,3365           00025                                    <a href="#4D4D4154524958">MMATRIX</a>                               
051570,000067: 26,3366           77650                           <span class="in">GOTO    </span>                                       
051571,000068: 26,3367           55352                                    <a href="#5250544F5242">RPTORB</a>                                
051572,000069: 
051573,000070:                                                                                                  <span class="co">#  ..... R-TO-RP SUBROUTINE .....</span>
051574,000071:                                                                                                  <span class="co">#  SUBROUTINE TO CONVERT R (VECTOR IN REFERENCE COORD. SYSTEM) TO RP</span>
051575,000072:                                                                                                  <span class="co">#  (VECTOR IN PLANETARY COORD SYSTEM) EITHER EARTH-FIXED OR MOON-FIXED</span>
051576,000073:                                                                                                  <span class="co">#        RP = M(T) * (R - L X R)</span>
051577,000074: 
051578,000075:                                                                                                  <span class="co">#  CALLING SEQUENCE</span>
051579,000076:                                                                                                  <span class="co">#        L       CALL</span>
051580,000077:                                                                                                  <span class="co">#        L+1             R-TO-RP</span>
051581,000078: 
051582,000079:                                                                                                  <span class="co">#  SUBROUTINES USED</span>
051583,000080:                                                                                                  <span class="co">#        EARTHMX, MOONMX, EARTHL</span>
051584,000081: 
051585,000082:                                                                                                  <span class="co">#  INPUT</span>
051586,000083:                                                                                                  <span class="co">#        MPAC = 0 FOR EARTH, NON-ZERO FOR MOON</span>
051587,000084:                                                                                                  <span class="co">#        0-5D = R VECTOR</span>
051588,000085:                                                                                                  <span class="co">#        6-7D = TIME</span>
051589,000086: 
051590,000087:                                                                                                  <span class="co">#        ITEMS AVAILABLE FROM LAUNCH DATA</span>
051591,000088:                                                                                                  <span class="co">#                504LM = THE LIBRATION VECTOR L OF THE MOON AT TIME TIMSUBL, EXPRESSED</span>
051592,000089:                                                                                                  <span class="co">#                IN THE MOON-FIXED COORD. SYSTEM                 RADIANS B0</span>
051593,000090: 
051594,000091:                                                                                                  <span class="co">#        ITEMS NECESSARY FOR SUBROUTINES USED (SEE DESCRIPTION OF SUBR.)</span>
051595,000092: 
051596,000093:                                                                                                  <span class="co">#  OUTPUT</span>
051597,000094:                                                                                                  <span class="co">#        MPAC = RP VECTOR METERS B-29 FOR EARTH, B-27 FOR MOON</span>
051598,000095: 
<a name="522D544F2D5250"></a>051599,000096: 26,3370           46020        <span class="sm">R-TO-RP </span>           <span class="in">STQ     </span> <span class="in">BHIZ      </span>                            
051600,000097: 26,3371           00050                                    <a href="#52505245584954">RPREXIT</a>                               
051601,000098: 26,3372           55412                                    <a href="#52544F525041">RTORPA</a>                                
051602,000099: 26,3373           77624                           <span class="in">CALL    </span>                                       
051603,000100: 26,3374           55420                                    <a href="#4D4F4F4E4D58">MOONMX</a>                                
051604,000101: 26,3375           61375                           <span class="in">VLOAD   </span> <span class="in">VXM       </span>                            
051605,000102: 26,3376           02012                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#3530344C4D">504LM</a>                                 <span class="co">#  LP=LM</span>
051606,000103: 26,3377           00025                                    <a href="#4D4D4154524958">MMATRIX</a>                               
051607,000104: 26,3400           77772                           <span class="in">VSL1    </span>                                       <span class="co">#  L = MT(T)*LP          RADIANS B0</span>
<a name="52544F525042"></a>051608,000105: 26,3401           51235        <span class="sm">RTORPB  </span>           <span class="in">VXV     </span> <span class="in">BVSU      </span>                            
051609,000106: 26,3402           00001                                    <a href="#353034525052">504RPR</a>                                
051610,000107: 26,3403           00001                                    <a href="#353034525052">504RPR</a>                                
051611,000108: 26,3404           77721                           <span class="in">MXV     </span>                                       <span class="co">#  M(T)*(R-LXR)          B-2</span>
051612,000109: 26,3405           00025                                    <a href="#4D4D4154524958">MMATRIX</a>                               
<a name="5250525058585858"></a>051613,000110: 26,3406           40372        <span class="sm">RPRPXXXX</span>           <span class="in">VSL1    </span> <span class="in">SETPD     </span>                            
051614,000111: 26,3407           00001                                    0D                                    
051615,000112: 26,3410           77650                           <span class="in">GOTO    </span>                                       
051616,000113: 26,3411           00050                                    <a href="#52505245584954">RPREXIT</a>                               
<a name="52544F525041"></a>051617,000114: 26,3412           77624        <span class="sm">RTORPA  </span>           <span class="in">CALL    </span>                                       <span class="co">#  EARTH COMPUTATIONS</span>
051618,000115: 26,3413           55572                                    <a href="#45415254484D58">EARTHMX</a>                               
051619,000116: 26,3414           77624                           <span class="in">CALL    </span>                                       
051620,000117: 26,3415           55624                                    <a href="#45415254484C">EARTHL</a>                                
051621,000118: 26,3416           77650                           <span class="in">GOTO    </span>                                       <span class="co">#  MPAC=L=(-AX,-AY,0)    RAD B-0</span>
051622,000119: 26,3417           55401                                    <a href="#52544F525042">RTORPB</a>                                
051623,000120: 
051624,000121:                                                                                                  <span class="co">#  ..... MOONMX SUBROUTINE .....</span>
051625,000122:                                                                                                  <span class="co">#  SUBROUTINE TO COMPUTE THE TRANSFORMATION MATRIX M FOR THE MOON</span>
051626,000123: 
051627,000124:                                                                                                  <span class="co">#  CALLING SEQUENCE</span>
051628,000125:                                                                                                  <span class="co">#        L       CALL</span>
051629,000126:                                                                                                  <span class="co">#        L+1             MOONMX</span>
051630,000127: 
051631,000128:                                                                                                  <span class="co">#  SUBROUTINES USED</span>
051632,000129:                                                                                                  <span class="co">#        NEWANGLE</span>
051633,000130: 
051634,000131:                                                                                                  <span class="co">#  INPUT</span>
051635,000132:                                                                                                  <span class="co">#        6-7D = TIME</span>
051636,000133: 
051637,000134:                                                                                                  <span class="co">#        ITEMS AVAILABLE FROM LAUNCH DATA</span>
051638,000135:                                                                                                  <span class="co">#                BSUBO, BDOT</span>
051639,000136:                                                                                                  <span class="co">#                TIMSUBO, NODIO, NODDOT, FSUBO, FDOT</span>
051640,000137:                                                                                                  <span class="co">#                COSI = COS(I)   B-1</span>
051641,000138:                                                                                                  <span class="co">#                SINI = SIN(I)   B-1</span>
051642,000139:                                                                                                  <span class="co">#                I IS THE ANGLE BETWEEN THE MEAN LUNAR EQUATORIAL PLANE AND THE</span>
051643,000140:                                                                                                  <span class="co">#                PLANE OF THE ECLIPTIC (1 DEGREE 32.1 MINUTES)</span>
051644,000141: 
051645,000142:                                                                                                  <span class="co">#  OUTPUT</span>
051646,000143:                                                                                                  <span class="co">#        MMATRIX = 3X3 M MATRIX          B-1 (STORED IN VAC AREA)</span>
051647,000144: 
<a name="4D4F4F4E4D58"></a>051648,000145: 26,3420           40220        <span class="sm">MOONMX  </span>           <span class="in">STQ     </span> <span class="in">SETPD     </span>                            
051649,000146: 26,3421           00051                                    <a href="#45415254484D5858">EARTHMXX</a>                              
051650,000147: 26,3422           00011                                    8D                                    
051651,000148: 26,3423           77770                           <span class="in">AXT,1   </span>                                       <span class="co">#  B REQUIRES SL 0, SL 5 IN NEWANGLE</span>
051652,000149: 26,3424           00005                                    5                                     
051653,000150: 26,3425           65345                           <span class="in">DLOAD   </span> <span class="in">PDDL      </span>                            <span class="co">#  PD 10D        8-9D=BSUBO</span>
051654,000151: 26,3426           15654                                    <a href="#425355424F">BSUBO</a>                                 <span class="co">#                10-11D=BDOT</span>
051655,000152: 26,3427           15646                                    <a href="#42444F54">BDOT</a>                                  
051656,000153: 26,3430           45006                           <span class="in">PUSH    </span> <span class="in">CALL      </span>                            <span class="co">#  PD 12D</span>
051657,000154: 26,3431           55545                                    <a href="#4E4557414E474C45">NEWANGLE</a>                              <span class="co">#  EXIT WITH PD 8D AND MPAC= B   REVS B0</span>
051658,000155: 26,3432           71406                           <span class="in">PUSH    </span> <span class="in">COS       </span>                            <span class="co">#  PD 10D</span>
051659,000156: 26,3433           14041                           <span class="in">STODL   </span> <a href="#434F42">COB</a>                                   <span class="co">#  PD 8D         COS(B) B-1</span>
051660,000157: 26,3434           77756                           <span class="in">SIN     </span>                                       <span class="co">#                SIN(B) B-1</span>
051661,000158: 26,3435           14043                           <span class="in">STODL   </span> <a href="#534F42">SOB</a>                                   <span class="co">#                SETUP INPUT FOR NEWANGLE</span>
051662,000159: 26,3436           15652                                    <a href="#465355424F">FSUBO</a>                                 <span class="co">#                        8-9D=FSUBO</span>
051663,000160: 26,3437           41525                           <span class="in">PDDL    </span> <span class="in">PUSH      </span>                            <span class="co">#  PD 10D THEN 12D       10-11D=FDOT</span>
051664,000161: 26,3440           15644                                    <a href="#46444F54">FDOT</a>                                  
051665,000162: 26,3441           45170                           <span class="in">AXT,1   </span> <span class="in">CALL      </span>                            <span class="co">#  F REQUIRES SL 1, SL 6 IN NEWANGLE</span>
051666,000163: 26,3442           00004                                    4                                     
051667,000164: 26,3443           55545                                    <a href="#4E4557414E474C45">NEWANGLE</a>                              <span class="co">#  EXIT WITH PD 8D AND MPAC= F REVS B0</span>
051668,000165: 26,3444           14027                           <span class="in">STODL   </span> <a href="#415645435452">AVECTR</a>     +2                         <span class="co">#  SAVE F TEMP</span>
051669,000166: 26,3445           15650                                    <a href="#4E4F44494F">NODIO</a>                                 <span class="co">#                        8-9D=NODIO</span>
051670,000167: 26,3446           41525                           <span class="in">PDDL    </span> <span class="in">PUSH      </span>                            <span class="co">#  PD 10D THEN 12D       10-11D=NODDOT</span>
051671,000168: 26,3447           15642                                    <a href="#4E4F44444F54">NODDOT</a>                                <span class="co">#                        MPAC=T</span>
051672,000169: 26,3450           45170                           <span class="in">AXT,1   </span> <span class="in">CALL      </span>                            <span class="co">#  NODE REQUIRES SL 0, SL 5 IN NEWANGLE</span>
051673,000170: 26,3451           00005                                    5                                     
051674,000171: 26,3452           55545                                    <a href="#4E4557414E474C45">NEWANGLE</a>                              <span class="co">#  EXIT WITH PD 8D AND MPAC= NODI REVS B0</span>
051675,000172: 26,3453           71406                           <span class="in">PUSH    </span> <span class="in">COS       </span>                            <span class="co">#  PD 10D        8-9D= NODI REVS B0</span>
051676,000173: 26,3454           77606                           <span class="in">PUSH    </span>                                       <span class="co">#  PD 12D        10-11D= COS(NODI) B-1</span>
051677,000174: 26,3455           00025                           <span class="in">STORE   </span> <a href="#415645435452">AVECTR</a>                                
051678,000175: 26,3456           76405                           <span class="in">DMP     </span> <span class="in">SL1R      </span>                            
051679,000176: 26,3457           00041                                    <a href="#434F42">COB</a>                                   <span class="co">#                        COS(NODI) B-1</span>
051680,000177: 26,3460           14035                           <span class="in">STODL   </span> <a href="#425645435452">BVECTR</a>     +2                         <span class="co">#  PD 10D  20-25D=AVECTR=COB*SIN(NODI)</span>
051681,000178: 26,3461           76405                           <span class="in">DMP     </span> <span class="in">SL1R      </span>                            <span class="co">#                        SOB*SIN(NODI)</span>
051682,000179: 26,3462           00043                                    <a href="#534F42">SOB</a>                                   
051683,000180: 26,3463           14037                           <span class="in">STODL   </span> <a href="#425645435452">BVECTR</a>     +4                         <span class="co">#  PD 8D</span>
051684,000181: 26,3464           41556                           <span class="in">SIN     </span> <span class="in">PUSH      </span>                            <span class="co">#  PD 10D                -SIN(NODI) B-1</span>
051685,000182: 26,3465           77676                           <span class="in">DCOMP   </span>                                       <span class="co">#          26-31D=BVECTR=COB*COS(NODI)</span>
051686,000183: 26,3466           14033                           <span class="in">STODL   </span> <a href="#425645435452">BVECTR</a>                                <span class="co">#  PD 8D                 SOB*COS(NODI)</span>
051687,000184: 26,3467           00027                                    <a href="#415645435452">AVECTR</a>     +2                         <span class="co">#  MOVE F FROM TEMP LOC. TO 504F</span>
051688,000185: 26,3470           14007                           <span class="in">STODL   </span> <a href="#35303446">504F</a>                                  
051689,000186: 26,3471           76405                           <span class="in">DMP     </span> <span class="in">SL1R      </span>                            
051690,000187: 26,3472           00041                                    <a href="#434F42">COB</a>                                   
051691,000188: 26,3473           14027                           <span class="in">STODL   </span> <a href="#415645435452">AVECTR</a>     +2                         
051692,000189: 26,3474           00011                                    <a href="#53494E4E4F4449">SINNODI</a>                               <span class="co">#  8-9D=SIN(NODI) B-1</span>
051693,000190: 26,3475           76405                           <span class="in">DMP     </span> <span class="in">SL1R      </span>                            
051694,000191: 26,3476           00043                                    <a href="#534F42">SOB</a>                                   
051695,000192: 26,3477           14031                           <span class="in">STODL   </span> <a href="#415645435452">AVECTR</a>     +4                         <span class="co">#                        0</span>
051696,000193: 26,3500           15334                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4849365A45524F53">HI6ZEROS</a>                              <span class="co">#        8-13D= CVECTR=  -SOB B-1</span>
051697,000194: 26,3501           57525                           <span class="in">PDDL    </span> <span class="in">DCOMP     </span>                            <span class="co">#  PD 10D                COB</span>
051698,000195: 26,3502           00043                                    <a href="#534F42">SOB</a>                                   
051699,000196: 26,3503           63325                           <span class="in">PDDL    </span> <span class="in">PDVL      </span>                            <span class="co">#  PD 12D THEN PD 14D</span>
051700,000197: 26,3504           00041                                    <a href="#434F42">COB</a>                                   
051701,000198: 26,3505           00033                                    <a href="#425645435452">BVECTR</a>                                
051702,000199: 26,3506           63361                           <span class="in">VXSC    </span> <span class="in">PDVL      </span>                            <span class="co">#  PD 20D        BVECTR*SINI B-2</span>
051703,000200: 26,3507           15640                                    <a href="#53494E49">SINI</a>                                  
051704,000201: 26,3510           00011                                    <a href="#435645435452">CVECTR</a>                                
051705,000202: 26,3511           53361                           <span class="in">VXSC    </span> <span class="in">VAD       </span>                            <span class="co">#  PD 14D        CVECTR*COSI B-2</span>
051706,000203: 26,3512           15636                                    <a href="#434F5349">COSI</a>                                  
051707,000204: 26,3513           77772                           <span class="in">VSL1    </span>                                       
051708,000205: 26,3514           24041                           <span class="in">STOVL   </span> <a href="#4D4D4154524958">MMATRIX</a>    +12D                       <span class="co">#  PD 8D  M2=BVECTR*SINI+CVECTR*COSI B-1</span>
051709,000206: 26,3515           63361                           <span class="in">VXSC    </span> <span class="in">PDVL      </span>                            <span class="co">#  PD 14D</span>
051710,000207: 26,3516           15640                                    <a href="#53494E49">SINI</a>                                  <span class="co">#                CVECTR*SINI B-2</span>
051711,000208: 26,3517           00033                                    <a href="#425645435452">BVECTR</a>                                
051712,000209: 26,3520           52361                           <span class="in">VXSC    </span> <span class="in">VSU       </span>                            <span class="co">#  PD 8D         BVECTR*COSI B-2</span>
051713,000210: 26,3521           15636                                    <a href="#434F5349">COSI</a>                                  
051714,000211: 26,3522           65372                           <span class="in">VSL1    </span> <span class="in">PDDL      </span>                            <span class="co">#  PD 14D</span>
051715,000212: 26,3523           00007                                    <a href="#35303446">504F</a>                                  <span class="co">#  8-13D=DVECTR=BVECTR*COSI-CVECTR*SINI B-1</span>
051716,000213: 26,3524           74346                           <span class="in">COS     </span> <span class="in">VXSC      </span>                            
051717,000214: 26,3525           00011                                    <a href="#445645435452">DVECTR</a>                                
051718,000215: 26,3526           73525                           <span class="in">PDDL    </span> <span class="in">SIN       </span>                            <span class="co">#  PD 20D  14-19D= DVECTR*COSF B-2</span>
051719,000216: 26,3527           00007                                    <a href="#35303446">504F</a>                                  
051720,000217: 26,3530           52361                           <span class="in">VXSC    </span> <span class="in">VSU       </span>                            <span class="co">#  PD 14D        AVECTR*SINF B-2</span>
051721,000218: 26,3531           00025                                    <a href="#415645435452">AVECTR</a>                                
051722,000219: 26,3532           77772                           <span class="in">VSL1    </span>                                       
051723,000220: 26,3533           14033                           <span class="in">STODL   </span> <a href="#4D4D4154524958">MMATRIX</a>    +6                         <span class="co">#  M1= AVECTR*SINF-DVECTR*COSF B-1</span>
051724,000221: 26,3534           00007                                    <a href="#35303446">504F</a>                                  
051725,000222: 26,3535           74356                           <span class="in">SIN     </span> <span class="in">VXSC      </span>                            <span class="co">#  PD 8D</span>
051726,000223: 26,3536           71525                           <span class="in">PDDL    </span> <span class="in">COS       </span>                            <span class="co">#  PD 14D  8-13D=DVECTR*SINF B-2</span>
051727,000224: 26,3537           00007                                    <a href="#35303446">504F</a>                                  
051728,000225: 26,3540           53361                           <span class="in">VXSC    </span> <span class="in">VAD       </span>                            <span class="co">#  PD 8D         AVECTR*COSF B-2</span>
051729,000226: 26,3541           00025                                    <a href="#415645435452">AVECTR</a>                                
051730,000227: 26,3542           57572                           <span class="in">VSL1    </span> <span class="in">VCOMP     </span>                            
051731,000228: 26,3543           34025                           <span class="in">STCALL  </span> <a href="#4D4D4154524958">MMATRIX</a>                               <span class="co">#  M0= -(AVECTR*COSF+DVECTR*SINF) B-1</span>
051732,000229: 26,3544           00051                                    <a href="#45415254484D5858">EARTHMXX</a>                              
051733,000230: 
051734,000231:                                                                                                  <span class="co">#  COMPUTE X=X0+(XDOT)(T+T0)</span>
051735,000232:                                                                                                  <span class="co">#  8-9D= XO (REVS B-0), PUSHLOC SET AT 12D</span>
051736,000233:                                                                                                  <span class="co">#  10-11D=XDOT (REVS/CSEC) SCALED B+23 FOR WEARTH,B+28 FOR NODDOT AND BDOT</span>
051737,000234:                                                                                                  <span class="co">#                        AND B+27 FOR FDOT</span>
051738,000235:                                                                                                  <span class="co">#  X1=DIFFERENCE IN 23 AND SCALING OF XDOT, =0 FOR WEARTH, 5 FOR NODDOT AND</span>
051739,000236:                                                                                                  <span class="co">#                                        BDOT AND 4 FOR FDOT</span>
051740,000237:                                                                                                  <span class="co">#  6-7D=T (CSEC B-28), TIMSUBO= (CSEC B-42 TRIPLE PREC.)</span>
051741,000238: 
<a name="4E4557414E474C45"></a>051742,000239: 26,3545           54345        <span class="sm">NEWANGLE</span>           <span class="in">DLOAD   </span> <span class="in">SR        </span>                            <span class="co">#  ENTER PD 12D</span>
051743,000240: 26,3546           00007                                    6D                                    
051744,000241: 26,3547           20617                                    14D                                   
051745,000242: 26,3550           72371                           <span class="in">TAD     </span> <span class="in">TLOAD     </span>                            <span class="co">#  CHANGE MODE TO TP</span>
051746,000243: 26,3551           01707                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#54494D5355424F">TIMSUBO</a>                               
051747,000244: 26,3552           00155                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4D504143">MPAC</a>                                  
051748,000245: 26,3553           14017                           <span class="in">STODL   </span> <a href="#54494D5355424D">TIMSUBM</a>                               <span class="co">#  T+T0 CSEC B-42</span>
051749,000246: 26,3554           00020                                    <a href="#54494D5355424D">TIMSUBM</a>    +1                         
051750,000247: 26,3555           77605                           <span class="in">DMP     </span>                                       <span class="co">#  PD 10D        MULT BY XDOT IN 10-11D</span>
051751,000248: 26,3556           43257                           <span class="in">SL*     </span> <span class="in">DAD       </span>                            <span class="co">#  PD 8D         ADD XO IN 8-9D AFTER SHIFTING</span>
051752,000249: 26,3557           20206                                    5,1                                   <span class="co">#                SUCH THAT SCALING IS B-0</span>
051753,000250: 26,3560           67206                           <span class="in">PUSH    </span> <span class="in">SLOAD     </span>                            <span class="co">#  PD 10D  SAVE PARTIAL (X0+XDOT*T) IN 8-9D</span>
051754,000251: 26,3561           00017                                    <a href="#54494D5355424D">TIMSUBM</a>                               
051755,000252: 26,3562           41261                           <span class="in">SL      </span> <span class="in">DMP       </span>                            
051756,000253: 26,3563           20212                                    9D                                    
051757,000254: 26,3564           00013                                    10D                                   <span class="co">#  XDOT</span>
051758,000255: 26,3565           43257                           <span class="in">SL*     </span> <span class="in">DAD       </span>                            <span class="co">#  PD 8D         SHIFT SUCH THAT THIS PART OF X</span>
051759,000256: 26,3566           20213                                    10D,1                                 <span class="co">#                IS SCALED REVS/CSEC B-0</span>
051760,000257: 26,3567           77600                           <span class="in">BOV     </span>                                       <span class="co">#  TURN OFF OVERFLOW IF SET BY SHIFT</span>
051761,000258: 26,3570           55571                                    +1                                    <span class="co">#  INSTRUCTION BEFORE EXITING</span>
051762,000259: 26,3571           77616                           <span class="in">RVQ     </span>                                       <span class="co">#  MPAC=X= X0+(XDOT)(T+T0)       REVS B0</span>
051763,000260: 
051764,000261:                                                                                                  <span class="co">#  ..... EARTHMX SUBROUTINE .....</span>
051765,000262:                                                                                                  <span class="co">#  SUBROUTINE TO COMPUTE THE TRANSFORMATION MATRIX M FOR THE EARTH</span>
051766,000263: 
051767,000264:                                                                                                  <span class="co">#  CALLING SEQUENCE</span>
051768,000265:                                                                                                  <span class="co">#        L       CALL</span>
051769,000266:                                                                                                  <span class="co">#        L+1             EARTHMX</span>
051770,000267: 
051771,000268:                                                                                                  <span class="co">#  SUBROUTINES USED</span>
051772,000269:                                                                                                  <span class="co">#        NEWANGLE</span>
051773,000270: 
051774,000271:                                                                                                  <span class="co">#  INPUT</span>
051775,000272:                                                                                                  <span class="co">#        INPUT AVAILABLE FROM LAUNCH DATA        AZO REVS B-0</span>
051776,000273:                                                                                                  <span class="co">#                                                TEPHEM CSEC B-42</span>
051777,000274:                                                                                                  <span class="co">#        6-7D= TIME CSEC B-28</span>
051778,000275: 
051779,000276:                                                                                                  <span class="co">#  OUTPUT</span>
051780,000277:                                                                                                  <span class="co">#        MMATRIX= 3X3 M MATRIX B-1 (STORED IN VAC AREA)</span>
051781,000278: 
<a name="45415254484D58"></a>051782,000279: 26,3572           40220        <span class="sm">EARTHMX </span>           <span class="in">STQ     </span> <span class="in">SETPD     </span>                            <span class="co">#  SET 8-9D=AZO</span>
051783,000280: 26,3573           00051                                    <a href="#45415254484D5858">EARTHMXX</a>                              
051784,000281: 26,3574           00011                                    8D                                    <span class="co">#  10-11D=WEARTH</span>
051785,000282: 26,3575           77770                           <span class="in">AXT,1   </span>                                       <span class="co">#  FOR SL 5, AND SL 10 IN NEWANGLE</span>
051786,000283: 26,3576           00000                                    0                                     
051787,000284: 26,3577           65345                           <span class="in">DLOAD   </span> <span class="in">PDDL      </span>                            <span class="co">#  LEAVING PD SET AT 12D FOR NEWANGLE</span>
051788,000285: 26,3600           01712                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#415A4F">AZO</a>                                   
051789,000286: 26,3601           15656                                    <a href="#574541525448">WEARTH</a>                                
051790,000287: 26,3602           45006                           <span class="in">PUSH    </span> <span class="in">CALL      </span>                            
051791,000288: 26,3603           55545                                    <a href="#4E4557414E474C45">NEWANGLE</a>                              
051792,000289: 26,3604           41401                           <span class="in">SETPD   </span> <span class="in">PUSH      </span>                            <span class="co">#  18-19D=504AZ</span>
051793,000290: 26,3605           00023                                    18D                                   <span class="co">#                         COS(AZ)   SIN(AZ)     0</span>
051794,000291: 26,3606           65346                           <span class="in">COS     </span> <span class="in">PDDL      </span>                            <span class="co">#  20-37D=  MMATRIX=     -SIN(AZ)   COS(AZ)     0    B-1</span>
051795,000292: 26,3607           00023                                    <a href="#353034415A">504AZ</a>                                 <span class="co">#                            0         0        1</span>
051796,000293: 26,3610           65356                           <span class="in">SIN     </span> <span class="in">PDDL      </span>                            
051797,000294: 26,3611           15334                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4849365A45524F53">HI6ZEROS</a>                              
051798,000295: 26,3612           73525                           <span class="in">PDDL    </span> <span class="in">SIN       </span>                            
051799,000296: 26,3613           00023                                    <a href="#353034415A">504AZ</a>                                 
051800,000297: 26,3614           65276                           <span class="in">DCOMP   </span> <span class="in">PDDL      </span>                            
051801,000298: 26,3615           00023                                    <a href="#353034415A">504AZ</a>                                 
051802,000299: 26,3616           63346                           <span class="in">COS     </span> <span class="in">PDVL      </span>                            
051803,000300: 26,3617           15334                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4849365A45524F53">HI6ZEROS</a>                              
051804,000301: 26,3620           41525                           <span class="in">PDDL    </span> <span class="in">PUSH      </span>                            
051805,000302: 26,3621           15332                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4849445048414C46">HIDPHALF</a>                              
051806,000303: 26,3622           77650                           <span class="in">GOTO    </span>                                       
051807,000304: 26,3623           00051                                    <a href="#45415254484D5858">EARTHMXX</a>                              
051808,000305: 
051809,000306:                                                                                                  <span class="co">#  ..... EARTHL SUBROUTINE .....</span>
051810,000307:                                                                                                  <span class="co">#  SUBROUTINE TO COMPUTE L VECTOR FOR EARTH</span>
051811,000308: 
051812,000309:                                                                                                  <span class="co">#  CALLING SEQUENCE</span>
051813,000310:                                                                                                  <span class="co">#        L       CALL</span>
051814,000311:                                                                                                  <span class="co">#        L+1             EARTHL</span>
051815,000312: 
051816,000313:                                                                                                  <span class="co">#  INPUT</span>
051817,000314:                                                                                                  <span class="co">#        AXO,AYO SET AT LAUNCH TIME WITH AYO IMMEDIATELY FOLLOWING AXO IN CORE</span>
051818,000315: 
051819,000316:                                                                                                  <span class="co">#  OUTPUT</span>
051820,000317:                                                                                                  <span class="co">#                -AX</span>
051821,000318:                                                                                                  <span class="co">#        MPAC=   -AY     RADIANS B-0</span>
051822,000319:                                                                                                  <span class="co">#                  0</span>
051823,000320: 
<a name="45415254484C"></a>051824,000321: 26,3624           57545        <span class="sm">EARTHL  </span>           <span class="in">DLOAD   </span> <span class="in">DCOMP     </span>                            
051825,000322: 26,3625           01716                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#41584F">AXO</a>                                   
051826,000323: 26,3626           14017                           <span class="in">STODL   </span> <a href="#3530344C504C">504LPL</a>                                
051827,000324: 26,3627           01714                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#2D41594F">-AYO</a>                                  
051828,000325: 26,3630           14021                           <span class="in">STODL   </span> <a href="#3530344C504C">504LPL</a>     +2                         
051829,000326: 26,3631           15334                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4849365A45524F53">HI6ZEROS</a>                              
051830,000327: 26,3632           24023                           <span class="in">STOVL   </span> <a href="#3530344C504C">504LPL</a>     +4                         
051831,000328: 26,3633           00017                                    <a href="#3530344C504C">504LPL</a>                                
051832,000329: 26,3634           77616                           <span class="in">RVQ     </span>                                       
051833,000330: 
051834,000331:                                                                                                  <span class="co">#  CONSTANTS AND ERASABLE ASSIGNMENTS</span>
051835,000332: 
<a name="314231"></a>051836,000333: 26,3635  04,3563               <span class="sm">1B1     </span>           <span class="ps">=       </span> <a href="LATITUDE_LONGITUDE_SUBROUTINES.agc.html#4450312F32">DP1/2</a>                                 <span class="co">#  1 SCALED B-1</span>
<a name="434F5349"></a>051837,000334: 26,3635           17775 02052  <span class="sm">COSI    </span>           <span class="ps">2DEC    </span> .99964173  B-1                        <span class="co">#  COS(5521.5 SEC) B-1</span>
051838,000335: 
<a name="53494E49"></a>051839,000336: 26,3637           00333 10374  <span class="sm">SINI    </span>           <span class="ps">2DEC    </span> .02676579  B-1                        <span class="co">#  SIN(5521.5 SEC) B-1</span>
051840,000337: 
<a name="52505245584954"></a>051841,000338: 26,3641  0000050               <span class="sm">RPREXIT </span>           <span class="ps">=       </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5331">S1</a>                                    <span class="co">#  R-TO-RP AND RP-TO-R SUBR EXIT</span>
<a name="45415254484D5858"></a>051842,000339: 26,3641  0000051               <span class="sm">EARTHMXX</span>           <span class="ps">=       </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5332">S2</a>                                    <span class="co">#  EARTHMX, MOONMX SUBR. EXITS</span>
<a name="353034525052"></a>051843,000340: 26,3641                        <span class="sm">504RPR  </span>           <span class="ps">=       </span> 0D                                    <span class="co">#  6 REGS        R OR RP VECTOR</span>
<a name="53494E4E4F4449"></a>051844,000341: 26,3641                        <span class="sm">SINNODI </span>           <span class="ps">=       </span> 8D                                    <span class="co">#  2             SIN(NODI)</span>
<a name="445645435452"></a>051845,000342: 26,3641                        <span class="sm">DVECTR  </span>           <span class="ps">=       </span> 8D                                    <span class="co">#  6             D VECTOR MOON</span>
<a name="435645435452"></a>051846,000343: 26,3641                        <span class="sm">CVECTR  </span>           <span class="ps">=       </span> 8D                                    <span class="co">#  6             C VECTR MOON</span>
<a name="353034415A"></a>051847,000344: 26,3641                        <span class="sm">504AZ   </span>           <span class="ps">=       </span> 18D                                   <span class="co">#  2             AZ</span>
<a name="54494D5355424D"></a>051848,000345: 26,3641                        <span class="sm">TIMSUBM </span>           <span class="ps">=       </span> 14D                                   <span class="co">#  3             TIME SUB M (MOON) T+T0 IN GETAZ</span>
<a name="3530344C504C"></a>051849,000346: 26,3641                        <span class="sm">504LPL  </span>           <span class="ps">=       </span> 14D                                   <span class="co">#  6             L OR LP VECTOR</span>
<a name="415645435452"></a>051850,000347: 26,3641                        <span class="sm">AVECTR  </span>           <span class="ps">=       </span> 20D                                   <span class="co">#  6             A VECTOR (MOON)</span>
<a name="425645435452"></a>051851,000348: 26,3641                        <span class="sm">BVECTR  </span>           <span class="ps">=       </span> 26D                                   <span class="co">#  6             B VECTOR (MOON)</span>
<a name="4D4D4154524958"></a>051852,000349: 26,3641                        <span class="sm">MMATRIX </span>           <span class="ps">=       </span> 20D                                   <span class="co">#  18            M MATRIX</span>
<a name="434F42"></a>051853,000350: 26,3641                        <span class="sm">COB     </span>           <span class="ps">=       </span> 32D                                   <span class="co">#  2             COS(B) B-1</span>
<a name="534F42"></a>051854,000351: 26,3641                        <span class="sm">SOB     </span>           <span class="ps">=       </span> 34D                                   <span class="co">#  2             SIN(B) B-1</span>
<a name="35303446"></a>051855,000352: 26,3641                        <span class="sm">504F    </span>           <span class="ps">=       </span> 6D                                    <span class="co">#  2             F(MOON)</span>
<a name="4E4F44444F54"></a>051856,000353: 26,3641           77665 42175  <span class="sm">NODDOT  </span>           <span class="ps">2DEC*   </span> -1.703706190 E-11       B28*            <span class="co">#  REV/CSEC</span>
051857,000354: 
<a name="46444F54"></a>051858,000355: 26,3643           22211 00636  <span class="sm">FDOT    </span>           <span class="ps">2DEC*   </span> 4.253263473 E-9        B27*            <span class="co">#  REV/CSEC</span>
051859,000356: 
<a name="42444F54"></a>051860,000357: 26,3645           77777 77767  <span class="sm">BDOT    </span>           <span class="ps">2DEC*   </span> -1.145529388 E-16       B28*            <span class="co">#  REV/CSEC</span>
051861,000358: 
<a name="4E4F44494F"></a>051862,000359: 26,3647           37436 01614  <span class="sm">NODIO   </span>           <span class="ps">2DEC*   </span> 9.862094363 E-1*                       <span class="co">#  REV</span>
051863,000360: 
<a name="465355424F"></a>051864,000361: 26,3651           32417 32011  <span class="sm">FSUBO   </span>           <span class="ps">2DEC*   </span> 8.290901511 E-1*                       <span class="co">#  REV</span>
051865,000362: 
<a name="425355424F"></a>051866,000363: 26,3653           02052 35552  <span class="sm">BSUBO   </span>           <span class="ps">2DEC    </span> 6.512013939 E-2                        <span class="co">#  REVS</span>
051867,000364: 
<a name="574541525448"></a>051868,000365: 26,3655           37116 32631  <span class="sm">WEARTH  </span>           <span class="ps">2DEC*   </span> 1.160576171 E-7        B23*            <span class="co">#  REV/CSEC</span>
051869,000366: 

End of include-file PLANETARY_INERTIAL_ORIENTATION.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
