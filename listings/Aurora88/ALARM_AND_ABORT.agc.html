<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source-code files are part of a reconstructed copy of Aurora 88, the
final release of the Lunar Module (LM) Apollo Guidance Computer (AGC) system
test software.
<br><br>
They have been created via disassembly of binary dumps of original core rope
memory modules, part numbers 2003972-011, 2003972-091, and 2003972-111, belonging
to Steve Jurvetson.
<br><br>
Since only binary dumps (rather than listings) of Aurora 88 are available as source material, 
all comments and labels are approximate.
They have been taken from other AGC programs where possible, or, in some places, written
from scratch to match what we believe would have been in the original listing.
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
013383,000002:                                                                                                  <span class="co">## Copyright:   Public domain.</span>
013384,000003:                                                                                                  <span class="co">## Filename:    ALARM_AND_ABORT.agc</span>
013385,000004:                                                                                                  <span class="co">## Purpose:     A section of Aurora 88.</span>
013386,000005:                                                                                                  <span class="co">##              It is part of the reconstructed source code for the final</span>
013387,000006:                                                                                                  <span class="co">##              release of the Lunar Module system test software. No original</span>
013388,000007:                                                                                                  <span class="co">##              listings of this program are available; instead, this file</span>
013389,000008:                                                                                                  <span class="co">##              was created via disassembly of dumps of Aurora 88 core rope</span>
013390,000009:                                                                                                  <span class="co">##              modules and comparison with other AGC programs.</span>
013391,000010:                                                                                                  <span class="co">## Assembler:   yaYUL</span>
013392,000011:                                                                                                  <span class="co">## Contact:     Ron Burkey &lt;info@sandroid.org>.</span>
013393,000012:                                                                                                  <span class="co">## Website:     www.ibiblio.org/apollo/index.html</span>
013394,000013:                                                                                                  <span class="co">## Mod history: 2023-06-30 MAS  Created from Aurora 12.</span>
013395,000014: 
013396,000015:                                                                                                  <span class="co">#           THE FOLLOWING SUBROUTINE MAY BE CALLED TO DISPLAY A NON-ABORTIVE ALARM CONDITION. IT MAY BE CALLED</span>
013397,000016:                                                                                                  <span class="co">#  EITHER IN INTERRUPT OR UNDER EXECUTIVE CONTROL.</span>
013398,000017: 
013399,000018:                                                                                                  <span class="co">#           CALLING SEQUENCE IS AS FOLLOWS:</span>
013400,000019: 
013401,000020:                                                                                                  <span class="co">#           TC     ALARM</span>
013402,000021:                                                                                                  <span class="co">#           OCT    AAANN           ALARM NO. NN IN GENERAL AREA AAA.</span>
013403,000022:                                                                                                  <span class="co">#                                  (RETURNS HERE)</span>
013404,000023: 
013405,000024:    5315                                           <span class="ps">SETLOC  </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#454E4450494E4246">ENDPINBF</a>                              
013406,000025:    5315     1363                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               
013407,000026: 
<a name="414C41524D"></a>013408,000027:    5315           00004        <span class="sm">ALARM   </span>           <span class="op">INHINT  </span>                                       
013409,000028:    5316           56002                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
013410,000029:    5317           54077                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5255505452454734">RUPTREG4</a>                              
013411,000030: 
013412,000031:    5320           11363                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               <span class="co">#  SEE IF ONE FAILURE HAS OCCURRED SINCE</span>
013413,000032:                                                                                                  <span class="co">#   THE LAST ERROR RESET.</span>
013414,000033:    5321           05327                           <span class="op">TC      </span> <a href="#4D554C544641494C">MULTFAIL</a>                              <span class="co">#  YES - INDICATE MULTIPLE FAILURES.</span>
013415,000034:    5322           05332                           <span class="op">TC      </span> <a href="#4E4557414C41524D">NEWALARM</a>                              <span class="co">#  FIRST SINCE RESET.</span>
013416,000035: 
<a name="4D554C5445584954"></a>013417,000036:    5323           30077        <span class="sm">MULTEXIT</span>           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5255505452454734">RUPTREG4</a>                              <span class="co">#  FREE RUPTREG4 BEFORE RELINT.</span>
013418,000037:    5324           00003                           <span class="op">RELINT  </span>                                       
013419,000038:    5325           50000                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
013420,000039:    5326           00001                           <span class="op">TC      </span> 1                                     <span class="co">#  RETURN TO CALLER.</span>
013421,000040: 
<a name="4D554C544641494C"></a>013422,000041:    5327           66042        <span class="sm">MULTFAIL</span>           <span class="op">AD      </span> <a href="LIST_PROCESSING_INTERPRETER.agc.html#4F43543430303031">OCT40001</a>                              <span class="co">#  BIT 15 = 1 INDICATES MULTIPLE FAILURES.</span>
013423,000042:    5330           55363                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               
013424,000043:    5331           05323                           <span class="op">TC      </span> <a href="#4D554C5445584954">MULTEXIT</a>                              
013425,000044: 
<a name="4E4557414C41524D"></a>013426,000045:    5332           05342        <span class="sm">NEWALARM</span>           <span class="op">TC      </span> <a href="#50524F474C41524D">PROGLARM</a>                              <span class="co">#  TURN ON THE PROGRAM ALARM LIGHT.</span>
013427,000046: 
013428,000047:    5333           34450                           <span class="op">CAF     </span> <a href="EXECUTIVE.agc.html#5052494F3337">PRIO37</a>                                
013429,000048:    5334           04276                           <span class="op">TC      </span> <a href="EXECUTIVE.agc.html#4E4F564143">NOVAC</a>                                 
013430,000049:    5335           02773 02002                     <span class="ps">2CADR   </span> <a href="#444F414C41524D">DOALARM</a>                               <span class="co">#  CALL (SEPARATE) JOB FOR DISPLAY.</span>
013431,000050: 
013432,000051:    5337           50077                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5255505452454734">RUPTREG4</a>                              
013433,000052:    5340           30000                           <span class="op">CAF     </span> 0                                     
013434,000053:    5341           05330                           <span class="op">TC      </span> <a href="#4D554C544641494C">MULTFAIL</a>   +1                         
013435,000054: 
<a name="50524F474C41524D"></a>013436,000055:    5342           45347        <span class="sm">PROGLARM</span>           <span class="op">CS      </span> <a href="#4F43543430343030">OCT40400</a>                              <span class="co">#  TURN ON PROGRAM ALARM LIGHT VIA OUT0.</span>
013437,000056:    5343           70322                           <span class="op">MASK    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#445350544142">DSPTAB</a>     +11D                       
013438,000057:    5344           65347                           <span class="op">AD      </span> <a href="#4F43543430343030">OCT40400</a>                              
013439,000058:    5345           54322                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#445350544142">DSPTAB</a>     +11D                       
013440,000059:    5346           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
013441,000060: 
<a name="4F43543430343030"></a>013442,000061:    5347           40400        <span class="sm">OCT40400</span>           <span class="ps">OCT     </span> 40400                                 
013443,000062: 
013444,000063:                                                                                                  <span class="co">#           THE FOLLOWING ROUTINE IS CALLED TO INITIATE AN ABORT. FAILREG IS SET (ACCORDING TO THE MULTIPLE</span>
013445,000064:                                                                                                  <span class="co">#  FAILURES CONVENTION) AND A RE-START IS INITIATED BY TC-SELF. THIS IS CALLED ONLY UNDER RARE CIRCUMSTANCES.</span>
013446,000065: 
<a name="41424F5254"></a>013447,000066:    5350           00004        <span class="sm">ABORT   </span>           <span class="op">INHINT  </span>                                       <span class="co">#  MAY BE CALLED IN INTERRUPT OR UNDER EXEC</span>
013448,000067:    5351           50002                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  PICK UP FAILURE CODE.</span>
013449,000068:    5352           30000                           <span class="op">CAF     </span> 0                                     
013450,000069:    5353           54065                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5031">ITEMP1</a>                                
013451,000070: 
013452,000071:    5354           11363                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               <span class="co">#  SEE IF THIS IS A MULTIPLE FAILURE.</span>
013453,000072:    5355           05360                           <span class="op">TC      </span> <a href="#5345544D554C5446">SETMULTF</a>                              <span class="co">#  SET BIT 15 TO INDICATE YES.</span>
013454,000073:    5356           05362                           <span class="op">TC      </span> <a href="#4E455741424F5254">NEWABORT</a>                              <span class="co">#  FIRST FAILURE.</span>
013455,000074: 
<a name="5748494D504552"></a>013456,000075:    5357           05357        <span class="sm">WHIMPER </span>           <span class="op">TC      </span> <a href="#5748494D504552">WHIMPER</a>                               <span class="co">#  NOT WITH A BANG...</span>
013457,000076: 
<a name="5345544D554C5446"></a>013458,000077:    5360           66042        <span class="sm">SETMULTF</span>           <span class="op">AD      </span> <a href="LIST_PROCESSING_INTERPRETER.agc.html#4F43543430303031">OCT40001</a>                              <span class="co">#  RESTORE AND SET BIT 15.</span>
013459,000078:    5361           05364                           <span class="op">TC      </span> +3                                    
013460,000079: 
<a name="4E455741424F5254"></a>013461,000080:    5362           05342        <span class="sm">NEWABORT</span>           <span class="op">TC      </span> <a href="#50524F474C41524D">PROGLARM</a>                              <span class="co">#  FIRST FAILURE - TURN ON ALARM LIGHT.</span>
013462,000081:    5363           56065                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5031">ITEMP1</a>                                
013463,000082:    5364           55363                 +3        <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               
013464,000083:    5365           05357                           <span class="op">TC      </span> <a href="#5748494D504552">WHIMPER</a>                               <span class="co">#  UNIVERSAL ABORT LOCATION.</span>
013465,000084: 
<a name="434353484F4C45"></a>013466,000085:    5366           56002        <span class="sm">CCSHOLE </span>           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
013467,000086:    5367           55364                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#534641494C">SFAIL</a>                                 
013468,000087: 
013469,000088:    5370           05350                           <span class="op">TC      </span> <a href="#41424F5254">ABORT</a>                                 
013470,000089:    5371           01103                           <span class="ps">OCT     </span> 1103                                  
013471,000090: 
<a name="454E444641494C46"></a>013472,000091:    5372                        <span class="sm">ENDFAILF</span>           <span class="ps">EQUALS  </span>                                       
013473,000092: 
013474,000093:                                                                                                  <span class="co">#           JOB WHICH CALLS NVSUB FOR ALARM DISPLAY.</span>
013475,000094: 
013476,000095: 01,2773                                           <span class="ps">SETLOC  </span> <a href="WAITLIST.agc.html#454E445741495453">ENDWAITS</a>                              
013477,000096: 
<a name="444F414C41524D"></a>013478,000097: 01,2773           05221        <span class="sm">DOALARM </span>           <span class="op">TC      </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#4752414257414954">GRABWAIT</a>                              <span class="co">#  DISPLAY FAILREG.</span>
013479,000098: 01,2774           32777                           <span class="op">CAF     </span> <a href="#4641494C44495350">FAILDISP</a>                              
013480,000099: 01,2775           05234                           <span class="op">TC      </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#4E56534257414954">NVSBWAIT</a>                              
013481,000100: 
013482,000101: 01,2776           04352                           <span class="op">TC      </span> <a href="EXECUTIVE.agc.html#454A46524545">EJFREE</a>                                <span class="co">#  FREE DISPLAY AND END JOB.</span>
013483,000102: 
<a name="4641494C44495350"></a>013484,000103: 01,2777           00531        <span class="sm">FAILDISP</span>           <span class="ps">OCT     </span> 00531                                 
013485,000104: 
<a name="454E444641494C53"></a>013486,000105: 01,3000                        <span class="sm">ENDFAILS</span>           <span class="ps">EQUALS  </span>                                       

End of include-file ALARM_AND_ABORT.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
