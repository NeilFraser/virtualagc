<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source-code files are part of a reconstructed copy of Aurora 88, the
final release of the Lunar Module (LM) Apollo Guidance Computer (AGC) system
test software.
<br><br>
They have been created via disassembly of binary dumps of original core rope
memory modules, part numbers 2003972-011, 2003972-091, and 2003972-111, belonging
to Steve Jurvetson.
<br><br>
Since only binary dumps (rather than listings) of Aurora 88 are available as source material, 
all comments and labels are approximate.
They have been taken from other AGC programs where possible, or, in some places, written
from scratch to match what we believe would have been in the original listing.
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
004307,000002:                                                                                                  <span class="co">## Copyright:   Public domain.</span>
004308,000003:                                                                                                  <span class="co">## Filename:    SINGLE_PRECISION_SUBROUTINES.agc</span>
004309,000004:                                                                                                  <span class="co">## Purpose:     A section of Aurora 88.</span>
004310,000005:                                                                                                  <span class="co">##              It is part of the reconstructed source code for the final</span>
004311,000006:                                                                                                  <span class="co">##              release of the Lunar Module system test software. No original</span>
004312,000007:                                                                                                  <span class="co">##              listings of this program are available; instead, this file</span>
004313,000008:                                                                                                  <span class="co">##              was created via disassembly of dumps of Aurora 88 core rope</span>
004314,000009:                                                                                                  <span class="co">##              modules and comparison with other AGC programs.</span>
004315,000010:                                                                                                  <span class="co">## Assembler:   yaYUL</span>
004316,000011:                                                                                                  <span class="co">## Contact:     Ron Burkey &lt;info@sandroid.org>.</span>
004317,000012:                                                                                                  <span class="co">## Website:     www.ibiblio.org/apollo/index.html</span>
004318,000013:                                                                                                  <span class="co">## Mod history: 2023-06-30 MAS  Created from Aurora 12.</span>
004319,000014:                                                                                                  <span class="co">##              2023-07-12 MAS  Updated for Aurora 88.</span>
004320,000015: 
004321,000016: 
004322,000017:    4150                                           <span class="ps">SETLOC  </span> <a href="INTER-BANK_COMMUNICATION.agc.html#454E4449424E4B46">ENDIBNKF</a>                              
004323,000018: 
004324,000019:                                                                                                  <span class="co">#  SINGLE PRECISION SINE AND COSINE</span>
004325,000020: 
<a name="5350434F53"></a>004326,000021:    4150           67635        <span class="sm">SPCOS   </span>           <span class="op">AD      </span> <a href="LIST_PROCESSING_INTERPRETER.agc.html#48414C46">HALF</a>                                  <span class="co">#  ARGUMENTS SCALED AT PI</span>
<a name="535053494E"></a>004327,000022:    4151           55106        <span class="sm">SPSIN   </span>           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
004328,000023:    4152           14154                           <span class="op">TCF     </span> <a href="#535054">SPT</a>                                   
004329,000024:    4153           41106                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
<a name="535054"></a>004330,000025:    4154           60000        <span class="sm">SPT     </span>           <span class="op">DOUBLE  </span>                                       
004331,000026:    4155           55106                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
004332,000027:    4156           14171                           <span class="op">TCF     </span> <a href="#504F4C4C4559">POLLEY</a>                                
004333,000028:    4157           57106                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
004334,000029:    4160           51106                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
004335,000030:    4161           67633                           <span class="op">AD      </span> <a href="LIST_PROCESSING_INTERPRETER.agc.html#4C494D495453">LIMITS</a>                                
004336,000031:    4162           40000                           <span class="op">COM     </span>                                       
004337,000032:    4163           61106                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
004338,000033:    4164           55106                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
004339,000034:    4165           14171                           <span class="op">TCF     </span> <a href="#504F4C4C4559">POLLEY</a>                                
004340,000035:    4166           50000                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
004341,000036:    4167           37634                           <span class="op">CA      </span> <a href="LIST_PROCESSING_INTERPRETER.agc.html#4C494D495453">LIMITS</a>     +1                         
004342,000037:    4170           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
<a name="504F4C4C4559"></a>004343,000038:    4171           00006        <span class="sm">POLLEY  </span>           <span class="op">EXTEND  </span>                                       
004344,000039:    4172           71106                           <span class="op">MP      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
004345,000040:    4173           55107                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5351">SQ</a>                                    
004346,000041:    4174           00006                           <span class="op">EXTEND  </span>                                       
004347,000042:    4175           74207                           <span class="op">MP      </span> <a href="#43352F32">C5/2</a>                                  
004348,000043:    4176           64206                           <span class="op">AD      </span> <a href="#43332F32">C3/2</a>                                  
004349,000044:    4177           00006                           <span class="op">EXTEND  </span>                                       
004350,000045:    4200           71107                           <span class="op">MP      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5351">SQ</a>                                    
004351,000046:    4201           64205                           <span class="op">AD      </span> <a href="#43312F32">C1/2</a>                                  
004352,000047:    4202           00006                           <span class="op">EXTEND  </span>                                       
004353,000048:    4203           71106                           <span class="op">MP      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
004354,000049:    4204           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  RESULT SCALED AT 1</span>
<a name="43312F32"></a>004355,000050:    4205           31103        <span class="sm">C1/2    </span>           <span class="ps">DEC     </span> .7853134                              
<a name="43332F32"></a>004356,000051:    4206           65552        <span class="sm">C3/2    </span>           <span class="ps">DEC     </span> -.3216146                             
<a name="43352F32"></a>004357,000052:    4207           01124        <span class="sm">C5/2    </span>           <span class="ps">DEC     </span> .0363551                              
004358,000053:                                                                                                  <span class="co">#  ENTER WITH ARGUMENT IN A, EXIT WITH ROOT IN A.  IF GIVEN A NEGATIVE ARGUMENT, THE RETURN SKIPS WITH CCS RESULT.</span>
004359,000054:                                                                                                  <span class="co">#  MINUS ZERO RETURNS LIKE PLUS ZERO.</span>
004360,000055:                                                                                                  <span class="co">#  MAXIMUM ERROR IN ANSWER IS NO GREATER THAN 2 BITS.</span>
004361,000056:                                                                                                  <span class="co">#  INTERRUPT PROGRAMS USING SPROOT MUST SAVE AND RESTORE SR.</span>
004362,000057: 
004363,000058: 
004364,000059: 
<a name="5350524F4F54"></a>004365,000060:    4210           55110        <span class="sm">SPROOT  </span>           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#535152415247">SQRARG</a>                                <span class="co">#  ENTER WITH C(A) = Y</span>
004366,000061:    4211           10000                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
004367,000062:    4212           14216                           <span class="op">TCF     </span> <a href="#504F53415247">POSARG</a>                                <span class="co">#  IF PNZ, CONTINUE</span>
004368,000063:    4213           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  RETURN WITH 0 FOR +0</span>
004369,000064:    4214           24002                           <span class="op">INCR    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
004370,000065:    4215           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  RETURN WITH 0 FOR -0</span>
004371,000066: 
<a name="504F53415247"></a>004372,000067:    4216           00006        <span class="sm">POSARG  </span>           <span class="op">EXTEND  </span>                                       
004373,000068:    4217           23107                           <span class="op">QXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4F54524554">ROOTRET</a>                               <span class="co">#  WILL BE CALLING SPROOT1</span>
004374,000069:    4220           64275                           <span class="op">AD      </span> <a href="#36332F36342B31">63/64+1</a>                               <span class="co">#  B(A) = Y - 1</span>
004375,000070:    4221           54000                           <span class="op">OVSK    </span>                                       
004376,000071:    4222           14264                           <span class="op">TCF     </span> <a href="#5350524F4F5432">SPROOT2</a>                               
004377,000072:    4223           57110                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#535152415247">SQRARG</a>                                <span class="co">#  ARG JUGGLING</span>
004378,000073: 
<a name="5350524F4F5433"></a>004379,000074:    4224           55110        <span class="sm">SPROOT3 </span>           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#535152415247">SQRARG</a>                                
004380,000075:    4225           54021                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    <span class="co">#  C(A) = Y</span>
004381,000076:    4226           56021                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    <span class="co">#  (LOSE 1 BIT)</span>
004382,000077:    4227           55106                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#48414C4659">HALFY</a>                                 <span class="co">#  HALFY = Y/2</span>
004383,000078:    4230           64273                           <span class="op">AD      </span> <a href="#2D312F38">-1/8</a>                                  <span class="co">#  FORM Y/2 - 1/8</span>
004384,000079:    4231           10000                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     <span class="co">#  TEST FOR FIRST GUESS</span>
004385,000080:    4232           64274                           <span class="op">AD      </span> <a href="#352F382B31">5/8+1</a>                                 <span class="co">#  Y .G. 1/4, X = Y/2 + 1/2</span>
004386,000081:    4233           04240                           <span class="op">TC      </span> <a href="#48494755455353">HIGUESS</a>                               <span class="co">#  +0 IMPOSSIBLE FROM ADDITION</span>
004387,000082:    4234           14235                           <span class="op">NOOP    </span>                                       <span class="co">#  Y .LE. 1/4, X/2 = Y + 1/16</span>
004388,000083:    4235           37640                           <span class="op">CAF     </span> <a href="LIST_PROCESSING_INTERPRETER.agc.html#4249543131">BIT11</a>                                 <span class="co">#  1/16</span>
004389,000084:    4236           61110                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#535152415247">SQRARG</a>                                <span class="co">#  SQRARG = Y</span>
004390,000085:    4237           60000                           <span class="op">DOUBLE  </span>                                       <span class="co">#  X FROM X/2</span>
<a name="48494755455353"></a>004391,000086:    4240           04253        <span class="sm">HIGUESS </span>           <span class="op">TC      </span> <a href="#5350524F4F5431">SPROOT1</a>                               
004392,000087:    4241           04253                           <span class="op">TC      </span> <a href="#5350524F4F5431">SPROOT1</a>                               <span class="co">#  ITERATE TWICE</span>
004393,000088:    4242           57107                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4F54524554">ROOTRET</a>                               <span class="co">#  SAVE ANSWER AND GET Q</span>
004394,000089:    4243           10000                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
004395,000090:    4244           57107                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4F54524554">ROOTRET</a>                               <span class="co">#  NO SHIFT NEEDED</span>
004396,000091:    4245           04251                           <span class="op">TC      </span> <a href="#524F4F5442434B">ROOTBCK</a>                               
004397,000092:    4246           57107                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4F54524554">ROOTRET</a>                               <span class="co">#  Q NEG, SHIFT RIGHT THREE</span>
004398,000093:    4247           00006                           <span class="op">EXTEND  </span>                                       
004399,000094:    4250           77637                           <span class="op">MP      </span> <a href="LIST_PROCESSING_INTERPRETER.agc.html#4249543132">BIT12</a>                                 <span class="co">#  EXP -3</span>
<a name="524F4F5442434B"></a>004400,000095:    4251           51107        <span class="sm">ROOTBCK </span>           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4F54524554">ROOTRET</a>                               <span class="co">#  ROOTRET = Q - 1</span>
004401,000096:    4252           00001                           <span class="op">TC      </span> 1                                     <span class="co">#  RETURN, C(A) = SQRT(Y)</span>
004402,000097: 
<a name="5350524F4F5431"></a>004403,000098:    4253           56021        <span class="sm">SPROOT1 </span>           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    <span class="co">#  SR = X/2</span>
004404,000099:    4254           41106                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#48414C4659">HALFY</a>                                 <span class="co">#  NEWTON ITER  X = X/2 + (Y/2 / X/2) / 2</span>
004405,000100:    4255           22007                           <span class="op">ZL      </span>                                       
004406,000101:    4256           00006                           <span class="op">EXTEND  </span>                                       
004407,000102:    4257           10021                           <span class="op">DV      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    <span class="co">#  C(SR) = X/2 DV DOES NOT EDIT</span>
004408,000103:    4260           56021                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    
004409,000104:    4261           00006                           <span class="op">EXTEND  </span>                                       
004410,000105:    4262           60021                           <span class="op">SU      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    
004411,000106:    4263           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  C(A) = X (NEXT)</span>
004412,000107: 
<a name="5350524F4F5432"></a>004413,000108:    4264           41107        <span class="sm">SPROOT2 </span>           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4F54524554">ROOTRET</a>                               <span class="co">#  SET RETURN Q NEG, AS FLAG</span>
004414,000109:    4265           55107                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4F54524554">ROOTRET</a>                               
004415,000110:    4266           37644                           <span class="op">CAF     </span> <a href="LIST_PROCESSING_INTERPRETER.agc.html#42495437">BIT7</a>                                  <span class="co">#  SHIFT FOR SIGNIFCANCE</span>
004416,000111:    4267           00006                           <span class="op">EXTEND  </span>                                       
004417,000112:    4270           71110                           <span class="op">MP      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#535152415247">SQRARG</a>                                
004418,000113:    4271           30001                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C">L</a>                                     <span class="co">#  B(A) = 0</span>
004419,000114:    4272           04224                           <span class="op">TC      </span> <a href="#5350524F4F5433">SPROOT3</a>                               
004420,000115: 
<a name="2D312F38"></a>004421,000116:    4273           73777        <span class="sm">-1/8    </span>           <span class="ps">OCTAL   </span> 73777                                 
<a name="352F382B31"></a>004422,000117:    4274           24001        <span class="sm">5/8+1   </span>           <span class="ps">OCTAL   </span> 24001                                 
<a name="36332F36342B31"></a>004423,000118:    4275           37401        <span class="sm">63/64+1 </span>           <span class="ps">OCTAL   </span> 37401                                 
004424,000119: 
004425,000120: 
004426,000121: 
<a name="454E445355425346"></a>004427,000122:    4276                        <span class="sm">ENDSUBSF</span>           <span class="ps">EQUALS  </span>                                       

End of include-file SINGLE_PRECISION_SUBROUTINES.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
